var $w=t=>{throw TypeError(t)};var Zm=(t,e,n)=>e.has(t)||$w("Cannot "+n);var Z=(t,e,n)=>(Zm(t,e,"read from private field"),n?n.call(t):e.get(t)),Qe=(t,e,n)=>e.has(t)?$w("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ke=(t,e,n,r)=>(Zm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),mn=(t,e,n)=>(Zm(t,e,"access private method"),n);var md=(t,e,n,r)=>({set _(s){ke(t,e,s,n)},get _(){return Z(t,e,r)}});function uP(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function qE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var GE={exports:{}},Rf={},KE={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bu=Symbol.for("react.element"),dP=Symbol.for("react.portal"),hP=Symbol.for("react.fragment"),fP=Symbol.for("react.strict_mode"),mP=Symbol.for("react.profiler"),pP=Symbol.for("react.provider"),gP=Symbol.for("react.context"),yP=Symbol.for("react.forward_ref"),vP=Symbol.for("react.suspense"),xP=Symbol.for("react.memo"),wP=Symbol.for("react.lazy"),Ww=Symbol.iterator;function _P(t){return t===null||typeof t!="object"?null:(t=Ww&&t[Ww]||t["@@iterator"],typeof t=="function"?t:null)}var QE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YE=Object.assign,XE={};function wl(t,e,n){this.props=t,this.context=e,this.refs=XE,this.updater=n||QE}wl.prototype.isReactComponent={};wl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function JE(){}JE.prototype=wl.prototype;function nv(t,e,n){this.props=t,this.context=e,this.refs=XE,this.updater=n||QE}var rv=nv.prototype=new JE;rv.constructor=nv;YE(rv,wl.prototype);rv.isPureReactComponent=!0;var Hw=Array.isArray,ZE=Object.prototype.hasOwnProperty,sv={current:null},eN={key:!0,ref:!0,__self:!0,__source:!0};function tN(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)ZE.call(e,r)&&!eN.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:bu,type:t,key:i,ref:o,props:s,_owner:sv.current}}function bP(t,e){return{$$typeof:bu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function iv(t){return typeof t=="object"&&t!==null&&t.$$typeof===bu}function EP(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var qw=/\/+/g;function ep(t,e){return typeof t=="object"&&t!==null&&t.key!=null?EP(""+t.key):e.toString(36)}function Yd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bu:case dP:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+ep(o,0):r,Hw(s)?(n="",t!=null&&(n=t.replace(qw,"$&/")+"/"),Yd(s,e,n,"",function(d){return d})):s!=null&&(iv(s)&&(s=bP(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(qw,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Hw(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+ep(i,l);o+=Yd(i,e,n,c,s)}else if(c=_P(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+ep(i,l++),o+=Yd(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function pd(t,e,n){if(t==null)return t;var r=[],s=0;return Yd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function NP(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Vn={current:null},Xd={transition:null},TP={ReactCurrentDispatcher:Vn,ReactCurrentBatchConfig:Xd,ReactCurrentOwner:sv};function nN(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:pd,forEach:function(t,e,n){pd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pd(t,function(){e++}),e},toArray:function(t){return pd(t,function(e){return e})||[]},only:function(t){if(!iv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=wl;Re.Fragment=hP;Re.Profiler=mP;Re.PureComponent=nv;Re.StrictMode=fP;Re.Suspense=vP;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TP;Re.act=nN;Re.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=YE({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=sv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)ZE.call(e,c)&&!eN.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];r.children=l}return{$$typeof:bu,type:t.type,key:s,ref:i,props:r,_owner:o}};Re.createContext=function(t){return t={$$typeof:gP,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pP,_context:t},t.Consumer=t};Re.createElement=tN;Re.createFactory=function(t){var e=tN.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:yP,render:t}};Re.isValidElement=iv;Re.lazy=function(t){return{$$typeof:wP,_payload:{_status:-1,_result:t},_init:NP}};Re.memo=function(t,e){return{$$typeof:xP,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=Xd.transition;Xd.transition={};try{t()}finally{Xd.transition=e}};Re.unstable_act=nN;Re.useCallback=function(t,e){return Vn.current.useCallback(t,e)};Re.useContext=function(t){return Vn.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return Vn.current.useDeferredValue(t)};Re.useEffect=function(t,e){return Vn.current.useEffect(t,e)};Re.useId=function(){return Vn.current.useId()};Re.useImperativeHandle=function(t,e,n){return Vn.current.useImperativeHandle(t,e,n)};Re.useInsertionEffect=function(t,e){return Vn.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return Vn.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return Vn.current.useMemo(t,e)};Re.useReducer=function(t,e,n){return Vn.current.useReducer(t,e,n)};Re.useRef=function(t){return Vn.current.useRef(t)};Re.useState=function(t){return Vn.current.useState(t)};Re.useSyncExternalStore=function(t,e,n){return Vn.current.useSyncExternalStore(t,e,n)};Re.useTransition=function(){return Vn.current.useTransition()};Re.version="18.3.1";KE.exports=Re;var N=KE.exports;const re=qE(N),rN=uP({__proto__:null,default:re},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SP=N,CP=Symbol.for("react.element"),kP=Symbol.for("react.fragment"),IP=Object.prototype.hasOwnProperty,jP=SP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,AP={key:!0,ref:!0,__self:!0,__source:!0};function sN(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)IP.call(e,r)&&!AP.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:CP,type:t,key:i,ref:o,props:s,_owner:jP.current}}Rf.Fragment=kP;Rf.jsx=sN;Rf.jsxs=sN;GE.exports=Rf;var a=GE.exports,iN={exports:{}},gr={},oN={exports:{}},aN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,U){var z=F.length;F.push(U);e:for(;0<z;){var G=z-1>>>1,W=F[G];if(0<s(W,U))F[G]=U,F[z]=W,z=G;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var U=F[0],z=F.pop();if(z!==U){F[0]=z;e:for(var G=0,W=F.length,Q=W>>>1;G<Q;){var Y=2*(G+1)-1,q=F[Y],ne=Y+1,te=F[ne];if(0>s(q,z))ne<W&&0>s(te,q)?(F[G]=te,F[ne]=z,G=ne):(F[G]=q,F[Y]=z,G=Y);else if(ne<W&&0>s(te,z))F[G]=te,F[ne]=z,G=ne;else break e}}return U}function s(F,U){var z=F.sortIndex-U.sortIndex;return z!==0?z:F.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,m=null,h=3,p=!1,y=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(F){for(var U=n(d);U!==null;){if(U.callback===null)r(d);else if(U.startTime<=F)r(d),U.sortIndex=U.expirationTime,e(c,U);else break;U=n(d)}}function C(F){if(g=!1,_(F),!y)if(n(c)!==null)y=!0,O(M);else{var U=n(d);U!==null&&D(C,U.startTime-F)}}function M(F,U){y=!1,g&&(g=!1,v(b),b=-1),p=!0;var z=h;try{for(_(U),m=n(c);m!==null&&(!(m.expirationTime>U)||F&&!A());){var G=m.callback;if(typeof G=="function"){m.callback=null,h=m.priorityLevel;var W=G(m.expirationTime<=U);U=t.unstable_now(),typeof W=="function"?m.callback=W:m===n(c)&&r(c),_(U)}else r(c);m=n(c)}if(m!==null)var Q=!0;else{var Y=n(d);Y!==null&&D(C,Y.startTime-U),Q=!1}return Q}finally{m=null,h=z,p=!1}}var R=!1,k=null,b=-1,T=5,S=-1;function A(){return!(t.unstable_now()-S<T)}function P(){if(k!==null){var F=t.unstable_now();S=F;var U=!0;try{U=k(!0,F)}finally{U?j():(R=!1,k=null)}}else R=!1}var j;if(typeof x=="function")j=function(){x(P)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,B=V.port2;V.port1.onmessage=P,j=function(){B.postMessage(null)}}else j=function(){w(P,0)};function O(F){k=F,R||(R=!0,j())}function D(F,U){b=w(function(){F(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,O(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var z=h;h=U;try{return F()}finally{h=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,U){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var z=h;h=F;try{return U()}finally{h=z}},t.unstable_scheduleCallback=function(F,U,z){var G=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,F){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=z+W,F={id:u++,callback:U,priorityLevel:F,startTime:z,expirationTime:W,sortIndex:-1},z>G?(F.sortIndex=z,e(d,F),n(c)===null&&F===n(d)&&(g?(v(b),b=-1):g=!0,D(C,z-G))):(F.sortIndex=W,e(c,F),y||p||(y=!0,O(M))),F},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(F){var U=h;return function(){var z=h;h=U;try{return F.apply(this,arguments)}finally{h=z}}}})(aN);oN.exports=aN;var PP=oN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RP=N,fr=PP;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var lN=new Set,Lc={};function Qo(t,e){tl(t,e),tl(t+"Capture",e)}function tl(t,e){for(Lc[t]=e,t=0;t<e.length;t++)lN.add(e[t])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ug=Object.prototype.hasOwnProperty,DP=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Gw={},Kw={};function MP(t){return ug.call(Kw,t)?!0:ug.call(Gw,t)?!1:DP.test(t)?Kw[t]=!0:(Gw[t]=!0,!1)}function OP(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function LP(t,e,n,r){if(e===null||typeof e>"u"||OP(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Un(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ln={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ln[t]=new Un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ln[e]=new Un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ln[t]=new Un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ln[t]=new Un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ln[t]=new Un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ln[t]=new Un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ln[t]=new Un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ln[t]=new Un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ln[t]=new Un(t,5,!1,t.toLowerCase(),null,!1,!1)});var ov=/[\-:]([a-z])/g;function av(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ov,av);ln[e]=new Un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ov,av);ln[e]=new Un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ov,av);ln[e]=new Un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ln[t]=new Un(t,1,!1,t.toLowerCase(),null,!1,!1)});ln.xlinkHref=new Un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ln[t]=new Un(t,1,!1,t.toLowerCase(),null,!0,!0)});function lv(t,e,n,r){var s=ln.hasOwnProperty(e)?ln[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(LP(e,n,s,r)&&(n=null),r||s===null?MP(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $s=RP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,gd=Symbol.for("react.element"),xa=Symbol.for("react.portal"),wa=Symbol.for("react.fragment"),cv=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),cN=Symbol.for("react.provider"),uN=Symbol.for("react.context"),uv=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),dv=Symbol.for("react.memo"),ri=Symbol.for("react.lazy"),dN=Symbol.for("react.offscreen"),Qw=Symbol.iterator;function Kl(t){return t===null||typeof t!="object"?null:(t=Qw&&t[Qw]||t["@@iterator"],typeof t=="function"?t:null)}var Et=Object.assign,tp;function lc(t){if(tp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);tp=e&&e[1]||""}return`
`+tp+t}var np=!1;function rp(t,e){if(!t||np)return"";np=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{np=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?lc(t):""}function FP(t){switch(t.tag){case 5:return lc(t.type);case 16:return lc("Lazy");case 13:return lc("Suspense");case 19:return lc("SuspenseList");case 0:case 2:case 15:return t=rp(t.type,!1),t;case 11:return t=rp(t.type.render,!1),t;case 1:return t=rp(t.type,!0),t;default:return""}}function mg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case wa:return"Fragment";case xa:return"Portal";case dg:return"Profiler";case cv:return"StrictMode";case hg:return"Suspense";case fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case uN:return(t.displayName||"Context")+".Consumer";case cN:return(t._context.displayName||"Context")+".Provider";case uv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case dv:return e=t.displayName||null,e!==null?e:mg(t.type)||"Memo";case ri:e=t._payload,t=t._init;try{return mg(t(e))}catch{}}return null}function VP(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return mg(e);case 8:return e===cv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function hN(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function UP(t){var e=hN(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function yd(t){t._valueTracker||(t._valueTracker=UP(t))}function fN(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=hN(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function pg(t,e){var n=e.checked;return Et({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Yw(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Mi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mN(t,e){e=e.checked,e!=null&&lv(t,"checked",e,!1)}function gg(t,e){mN(t,e);var n=Mi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&yg(t,e.type,Mi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Xw(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yg(t,e,n){(e!=="number"||Sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var cc=Array.isArray;function Ra(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Mi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return Et({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Jw(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(cc(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Mi(n)}}function pN(t,e){var n=Mi(e.value),r=Mi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Zw(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function gN(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function xg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?gN(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vd,yN=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vd=vd||document.createElement("div"),vd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BP=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(t){BP.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wc[e]=wc[t]})});function vN(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wc.hasOwnProperty(t)&&wc[t]?(""+e).trim():e+"px"}function xN(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=vN(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var zP=Et({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wg(t,e){if(e){if(zP[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function _g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bg=null;function hv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Eg=null,Da=null,Ma=null;function e1(t){if(t=Tu(t)){if(typeof Eg!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Ff(e),Eg(t.stateNode,t.type,e))}}function wN(t){Da?Ma?Ma.push(t):Ma=[t]:Da=t}function _N(){if(Da){var t=Da,e=Ma;if(Ma=Da=null,e1(t),e)for(t=0;t<e.length;t++)e1(e[t])}}function bN(t,e){return t(e)}function EN(){}var sp=!1;function NN(t,e,n){if(sp)return t(e,n);sp=!0;try{return bN(t,e,n)}finally{sp=!1,(Da!==null||Ma!==null)&&(EN(),_N())}}function Vc(t,e){var n=t.stateNode;if(n===null)return null;var r=Ff(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Ng=!1;if(Ps)try{var Ql={};Object.defineProperty(Ql,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",Ql,Ql),window.removeEventListener("test",Ql,Ql)}catch{Ng=!1}function $P(t,e,n,r,s,i,o,l,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(u){this.onError(u)}}var _c=!1,Ch=null,kh=!1,Tg=null,WP={onError:function(t){_c=!0,Ch=t}};function HP(t,e,n,r,s,i,o,l,c){_c=!1,Ch=null,$P.apply(WP,arguments)}function qP(t,e,n,r,s,i,o,l,c){if(HP.apply(this,arguments),_c){if(_c){var d=Ch;_c=!1,Ch=null}else throw Error(ee(198));kh||(kh=!0,Tg=d)}}function Yo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function TN(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function t1(t){if(Yo(t)!==t)throw Error(ee(188))}function GP(t){var e=t.alternate;if(!e){if(e=Yo(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return t1(s),t;if(i===r)return t1(s),e;i=i.sibling}throw Error(ee(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function SN(t){return t=GP(t),t!==null?CN(t):null}function CN(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=CN(t);if(e!==null)return e;t=t.sibling}return null}var kN=fr.unstable_scheduleCallback,n1=fr.unstable_cancelCallback,KP=fr.unstable_shouldYield,QP=fr.unstable_requestPaint,Mt=fr.unstable_now,YP=fr.unstable_getCurrentPriorityLevel,fv=fr.unstable_ImmediatePriority,IN=fr.unstable_UserBlockingPriority,Ih=fr.unstable_NormalPriority,XP=fr.unstable_LowPriority,jN=fr.unstable_IdlePriority,Df=null,is=null;function JP(t){if(is&&typeof is.onCommitFiberRoot=="function")try{is.onCommitFiberRoot(Df,t,void 0,(t.current.flags&128)===128)}catch{}}var Mr=Math.clz32?Math.clz32:tR,ZP=Math.log,eR=Math.LN2;function tR(t){return t>>>=0,t===0?32:31-(ZP(t)/eR|0)|0}var xd=64,wd=4194304;function uc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=uc(l):(i&=o,i!==0&&(r=uc(i)))}else o=n&~s,o!==0?r=uc(o):i!==0&&(r=uc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Mr(e),s=1<<n,r|=t[n],e&=~s;return r}function nR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Mr(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=nR(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Sg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function AN(){var t=xd;return xd<<=1,!(xd&4194240)&&(xd=64),t}function ip(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Eu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Mr(e),t[e]=n}function sR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Mr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function mv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Mr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var tt=0;function PN(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var RN,pv,DN,MN,ON,Cg=!1,_d=[],_i=null,bi=null,Ei=null,Uc=new Map,Bc=new Map,ii=[],iR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function r1(t,e){switch(t){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":Ei=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bc.delete(e.pointerId)}}function Yl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Tu(e),e!==null&&pv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function oR(t,e,n,r,s){switch(e){case"focusin":return _i=Yl(_i,t,e,n,r,s),!0;case"dragenter":return bi=Yl(bi,t,e,n,r,s),!0;case"mouseover":return Ei=Yl(Ei,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Uc.set(i,Yl(Uc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Bc.set(i,Yl(Bc.get(i)||null,t,e,n,r,s)),!0}return!1}function LN(t){var e=vo(t.target);if(e!==null){var n=Yo(e);if(n!==null){if(e=n.tag,e===13){if(e=TN(n),e!==null){t.blockedOn=e,ON(t.priority,function(){DN(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Jd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);bg=r,n.target.dispatchEvent(r),bg=null}else return e=Tu(n),e!==null&&pv(e),t.blockedOn=n,!1;e.shift()}return!0}function s1(t,e,n){Jd(t)&&n.delete(e)}function aR(){Cg=!1,_i!==null&&Jd(_i)&&(_i=null),bi!==null&&Jd(bi)&&(bi=null),Ei!==null&&Jd(Ei)&&(Ei=null),Uc.forEach(s1),Bc.forEach(s1)}function Xl(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,fr.unstable_scheduleCallback(fr.unstable_NormalPriority,aR)))}function zc(t){function e(s){return Xl(s,t)}if(0<_d.length){Xl(_d[0],t);for(var n=1;n<_d.length;n++){var r=_d[n];r.blockedOn===t&&(r.blockedOn=null)}}for(_i!==null&&Xl(_i,t),bi!==null&&Xl(bi,t),Ei!==null&&Xl(Ei,t),Uc.forEach(e),Bc.forEach(e),n=0;n<ii.length;n++)r=ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ii.length&&(n=ii[0],n.blockedOn===null);)LN(n),n.blockedOn===null&&ii.shift()}var Oa=$s.ReactCurrentBatchConfig,Ah=!0;function lR(t,e,n,r){var s=tt,i=Oa.transition;Oa.transition=null;try{tt=1,gv(t,e,n,r)}finally{tt=s,Oa.transition=i}}function cR(t,e,n,r){var s=tt,i=Oa.transition;Oa.transition=null;try{tt=4,gv(t,e,n,r)}finally{tt=s,Oa.transition=i}}function gv(t,e,n,r){if(Ah){var s=kg(t,e,n,r);if(s===null)pp(t,e,r,Ph,n),r1(t,r);else if(oR(s,t,e,n,r))r.stopPropagation();else if(r1(t,r),e&4&&-1<iR.indexOf(t)){for(;s!==null;){var i=Tu(s);if(i!==null&&RN(i),i=kg(t,e,n,r),i===null&&pp(t,e,r,Ph,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else pp(t,e,r,null,n)}}var Ph=null;function kg(t,e,n,r){if(Ph=null,t=hv(r),t=vo(t),t!==null)if(e=Yo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=TN(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ph=t,null}function FN(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(YP()){case fv:return 1;case IN:return 4;case Ih:case XP:return 16;case jN:return 536870912;default:return 16}default:return 16}}var yi=null,yv=null,Zd=null;function VN(){if(Zd)return Zd;var t,e=yv,n=e.length,r,s="value"in yi?yi.value:yi.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Zd=s.slice(t,1<r?1-r:void 0)}function eh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bd(){return!0}function i1(){return!1}function yr(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?bd:i1,this.isPropagationStopped=i1,this}return Et(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bd)},persist:function(){},isPersistent:bd}),e}var _l={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vv=yr(_l),Nu=Et({},_l,{view:0,detail:0}),uR=yr(Nu),op,ap,Jl,Mf=Et({},Nu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jl&&(Jl&&t.type==="mousemove"?(op=t.screenX-Jl.screenX,ap=t.screenY-Jl.screenY):ap=op=0,Jl=t),op)},movementY:function(t){return"movementY"in t?t.movementY:ap}}),o1=yr(Mf),dR=Et({},Mf,{dataTransfer:0}),hR=yr(dR),fR=Et({},Nu,{relatedTarget:0}),lp=yr(fR),mR=Et({},_l,{animationName:0,elapsedTime:0,pseudoElement:0}),pR=yr(mR),gR=Et({},_l,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yR=yr(gR),vR=Et({},_l,{data:0}),a1=yr(vR),xR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_R={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_R[t])?!!e[t]:!1}function xv(){return bR}var ER=Et({},Nu,{key:function(t){if(t.key){var e=xR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=eh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xv,charCode:function(t){return t.type==="keypress"?eh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?eh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NR=yr(ER),TR=Et({},Mf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),l1=yr(TR),SR=Et({},Nu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xv}),CR=yr(SR),kR=Et({},_l,{propertyName:0,elapsedTime:0,pseudoElement:0}),IR=yr(kR),jR=Et({},Mf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),AR=yr(jR),PR=[9,13,27,32],wv=Ps&&"CompositionEvent"in window,bc=null;Ps&&"documentMode"in document&&(bc=document.documentMode);var RR=Ps&&"TextEvent"in window&&!bc,UN=Ps&&(!wv||bc&&8<bc&&11>=bc),c1=" ",u1=!1;function BN(t,e){switch(t){case"keyup":return PR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zN(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var _a=!1;function DR(t,e){switch(t){case"compositionend":return zN(e);case"keypress":return e.which!==32?null:(u1=!0,c1);case"textInput":return t=e.data,t===c1&&u1?null:t;default:return null}}function MR(t,e){if(_a)return t==="compositionend"||!wv&&BN(t,e)?(t=VN(),Zd=yv=yi=null,_a=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return UN&&e.locale!=="ko"?null:e.data;default:return null}}var OR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function d1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!OR[t.type]:e==="textarea"}function $N(t,e,n,r){wN(r),e=Rh(e,"onChange"),0<e.length&&(n=new vv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ec=null,$c=null;function LR(t){e2(t,0)}function Of(t){var e=Na(t);if(fN(e))return t}function FR(t,e){if(t==="change")return e}var WN=!1;if(Ps){var cp;if(Ps){var up="oninput"in document;if(!up){var h1=document.createElement("div");h1.setAttribute("oninput","return;"),up=typeof h1.oninput=="function"}cp=up}else cp=!1;WN=cp&&(!document.documentMode||9<document.documentMode)}function f1(){Ec&&(Ec.detachEvent("onpropertychange",HN),$c=Ec=null)}function HN(t){if(t.propertyName==="value"&&Of($c)){var e=[];$N(e,$c,t,hv(t)),NN(LR,e)}}function VR(t,e,n){t==="focusin"?(f1(),Ec=e,$c=n,Ec.attachEvent("onpropertychange",HN)):t==="focusout"&&f1()}function UR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Of($c)}function BR(t,e){if(t==="click")return Of(e)}function zR(t,e){if(t==="input"||t==="change")return Of(e)}function $R(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Vr=typeof Object.is=="function"?Object.is:$R;function Wc(t,e){if(Vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ug.call(e,s)||!Vr(t[s],e[s]))return!1}return!0}function m1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function p1(t,e){var n=m1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=m1(n)}}function qN(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?qN(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function GN(){for(var t=window,e=Sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sh(t.document)}return e}function _v(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WR(t){var e=GN(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&qN(n.ownerDocument.documentElement,n)){if(r!==null&&_v(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=p1(n,i);var o=p1(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HR=Ps&&"documentMode"in document&&11>=document.documentMode,ba=null,Ig=null,Nc=null,jg=!1;function g1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;jg||ba==null||ba!==Sh(r)||(r=ba,"selectionStart"in r&&_v(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Nc&&Wc(Nc,r)||(Nc=r,r=Rh(Ig,"onSelect"),0<r.length&&(e=new vv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ba)))}function Ed(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ea={animationend:Ed("Animation","AnimationEnd"),animationiteration:Ed("Animation","AnimationIteration"),animationstart:Ed("Animation","AnimationStart"),transitionend:Ed("Transition","TransitionEnd")},dp={},KN={};Ps&&(KN=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Lf(t){if(dp[t])return dp[t];if(!Ea[t])return t;var e=Ea[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in KN)return dp[t]=e[n];return t}var QN=Lf("animationend"),YN=Lf("animationiteration"),XN=Lf("animationstart"),JN=Lf("transitionend"),ZN=new Map,y1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(t,e){ZN.set(t,e),Qo(e,[t])}for(var hp=0;hp<y1.length;hp++){var fp=y1[hp],qR=fp.toLowerCase(),GR=fp[0].toUpperCase()+fp.slice(1);Yi(qR,"on"+GR)}Yi(QN,"onAnimationEnd");Yi(YN,"onAnimationIteration");Yi(XN,"onAnimationStart");Yi("dblclick","onDoubleClick");Yi("focusin","onFocus");Yi("focusout","onBlur");Yi(JN,"onTransitionEnd");tl("onMouseEnter",["mouseout","mouseover"]);tl("onMouseLeave",["mouseout","mouseover"]);tl("onPointerEnter",["pointerout","pointerover"]);tl("onPointerLeave",["pointerout","pointerover"]);Qo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),KR=new Set("cancel close invalid load scroll toggle".split(" ").concat(dc));function v1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,qP(r,e,void 0,t),t.currentTarget=null}function e2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,d=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;v1(s,l,d),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,d=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;v1(s,l,d),i=c}}}if(kh)throw t=Tg,kh=!1,Tg=null,t}function mt(t,e){var n=e[Mg];n===void 0&&(n=e[Mg]=new Set);var r=t+"__bubble";n.has(r)||(t2(e,t,2,!1),n.add(r))}function mp(t,e,n){var r=0;e&&(r|=4),t2(n,t,r,e)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Hc(t){if(!t[Nd]){t[Nd]=!0,lN.forEach(function(n){n!=="selectionchange"&&(KR.has(n)||mp(n,!1,t),mp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Nd]||(e[Nd]=!0,mp("selectionchange",!1,e))}}function t2(t,e,n,r){switch(FN(e)){case 1:var s=lR;break;case 4:s=cR;break;default:s=gv}n=s.bind(null,e,n,t),s=void 0,!Ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function pp(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=vo(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}NN(function(){var d=i,u=hv(n),m=[];e:{var h=ZN.get(t);if(h!==void 0){var p=vv,y=t;switch(t){case"keypress":if(eh(n)===0)break e;case"keydown":case"keyup":p=NR;break;case"focusin":y="focus",p=lp;break;case"focusout":y="blur",p=lp;break;case"beforeblur":case"afterblur":p=lp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=o1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=CR;break;case QN:case YN:case XN:p=pR;break;case JN:p=IR;break;case"scroll":p=uR;break;case"wheel":p=AR;break;case"copy":case"cut":case"paste":p=yR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=l1}var g=(e&4)!==0,w=!g&&t==="scroll",v=g?h!==null?h+"Capture":null:h;g=[];for(var x=d,_;x!==null;){_=x;var C=_.stateNode;if(_.tag===5&&C!==null&&(_=C,v!==null&&(C=Vc(x,v),C!=null&&g.push(qc(x,C,_)))),w)break;x=x.return}0<g.length&&(h=new p(h,y,null,n,u),m.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==bg&&(y=n.relatedTarget||n.fromElement)&&(vo(y)||y[Rs]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=d,y=y?vo(y):null,y!==null&&(w=Yo(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=d),p!==y)){if(g=o1,C="onMouseLeave",v="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(g=l1,C="onPointerLeave",v="onPointerEnter",x="pointer"),w=p==null?h:Na(p),_=y==null?h:Na(y),h=new g(C,x+"leave",p,n,u),h.target=w,h.relatedTarget=_,C=null,vo(u)===d&&(g=new g(v,x+"enter",y,n,u),g.target=_,g.relatedTarget=w,C=g),w=C,p&&y)t:{for(g=p,v=y,x=0,_=g;_;_=ua(_))x++;for(_=0,C=v;C;C=ua(C))_++;for(;0<x-_;)g=ua(g),x--;for(;0<_-x;)v=ua(v),_--;for(;x--;){if(g===v||v!==null&&g===v.alternate)break t;g=ua(g),v=ua(v)}g=null}else g=null;p!==null&&x1(m,h,p,g,!1),y!==null&&w!==null&&x1(m,w,y,g,!0)}}e:{if(h=d?Na(d):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var M=FR;else if(d1(h))if(WN)M=zR;else{M=UR;var R=VR}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(M=BR);if(M&&(M=M(t,d))){$N(m,M,n,u);break e}R&&R(t,h,d),t==="focusout"&&(R=h._wrapperState)&&R.controlled&&h.type==="number"&&yg(h,"number",h.value)}switch(R=d?Na(d):window,t){case"focusin":(d1(R)||R.contentEditable==="true")&&(ba=R,Ig=d,Nc=null);break;case"focusout":Nc=Ig=ba=null;break;case"mousedown":jg=!0;break;case"contextmenu":case"mouseup":case"dragend":jg=!1,g1(m,n,u);break;case"selectionchange":if(HR)break;case"keydown":case"keyup":g1(m,n,u)}var k;if(wv)e:{switch(t){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else _a?BN(t,n)&&(b="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(UN&&n.locale!=="ko"&&(_a||b!=="onCompositionStart"?b==="onCompositionEnd"&&_a&&(k=VN()):(yi=u,yv="value"in yi?yi.value:yi.textContent,_a=!0)),R=Rh(d,b),0<R.length&&(b=new a1(b,t,null,n,u),m.push({event:b,listeners:R}),k?b.data=k:(k=zN(n),k!==null&&(b.data=k)))),(k=RR?DR(t,n):MR(t,n))&&(d=Rh(d,"onBeforeInput"),0<d.length&&(u=new a1("onBeforeInput","beforeinput",null,n,u),m.push({event:u,listeners:d}),u.data=k))}e2(m,e)})}function qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Vc(t,n),i!=null&&r.unshift(qc(t,i,s)),i=Vc(t,e),i!=null&&r.push(qc(t,i,s))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function x1(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,d=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&d!==null&&(l=d,s?(c=Vc(n,i),c!=null&&o.unshift(qc(n,c,l))):s||(c=Vc(n,i),c!=null&&o.push(qc(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var QR=/\r\n?/g,YR=/\u0000|\uFFFD/g;function w1(t){return(typeof t=="string"?t:""+t).replace(QR,`
`).replace(YR,"")}function Td(t,e,n){if(e=w1(e),w1(t)!==e&&n)throw Error(ee(425))}function Dh(){}var Ag=null,Pg=null;function Rg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Dg=typeof setTimeout=="function"?setTimeout:void 0,XR=typeof clearTimeout=="function"?clearTimeout:void 0,_1=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof _1<"u"?function(t){return _1.resolve(null).then(t).catch(ZR)}:Dg;function ZR(t){setTimeout(function(){throw t})}function gp(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),zc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);zc(e)}function Ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function b1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bl=Math.random().toString(36).slice(2),ts="__reactFiber$"+bl,Gc="__reactProps$"+bl,Rs="__reactContainer$"+bl,Mg="__reactEvents$"+bl,e4="__reactListeners$"+bl,t4="__reactHandles$"+bl;function vo(t){var e=t[ts];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Rs]||n[ts]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=b1(t);t!==null;){if(n=t[ts])return n;t=b1(t)}return e}t=n,n=t.parentNode}return null}function Tu(t){return t=t[ts]||t[Rs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Na(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Ff(t){return t[Gc]||null}var Og=[],Ta=-1;function Xi(t){return{current:t}}function gt(t){0>Ta||(t.current=Og[Ta],Og[Ta]=null,Ta--)}function at(t,e){Ta++,Og[Ta]=t.current,t.current=e}var Oi={},Nn=Xi(Oi),Yn=Xi(!1),Po=Oi;function nl(t,e){var n=t.type.contextTypes;if(!n)return Oi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Xn(t){return t=t.childContextTypes,t!=null}function Mh(){gt(Yn),gt(Nn)}function E1(t,e,n){if(Nn.current!==Oi)throw Error(ee(168));at(Nn,e),at(Yn,n)}function n2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(ee(108,VP(t)||"Unknown",s));return Et({},n,r)}function Oh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Oi,Po=Nn.current,at(Nn,t),at(Yn,Yn.current),!0}function N1(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=n2(t,e,Po),r.__reactInternalMemoizedMergedChildContext=t,gt(Yn),gt(Nn),at(Nn,t)):gt(Yn),at(Yn,n)}var Es=null,Vf=!1,yp=!1;function r2(t){Es===null?Es=[t]:Es.push(t)}function n4(t){Vf=!0,r2(t)}function Ji(){if(!yp&&Es!==null){yp=!0;var t=0,e=tt;try{var n=Es;for(tt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Es=null,Vf=!1}catch(s){throw Es!==null&&(Es=Es.slice(t+1)),kN(fv,Ji),s}finally{tt=e,yp=!1}}return null}var Sa=[],Ca=0,Lh=null,Fh=0,xr=[],wr=0,Ro=null,Ns=1,Ts="";function ho(t,e){Sa[Ca++]=Fh,Sa[Ca++]=Lh,Lh=t,Fh=e}function s2(t,e,n){xr[wr++]=Ns,xr[wr++]=Ts,xr[wr++]=Ro,Ro=t;var r=Ns;t=Ts;var s=32-Mr(r)-1;r&=~(1<<s),n+=1;var i=32-Mr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Ns=1<<32-Mr(e)+s|n<<s|r,Ts=i+t}else Ns=1<<i|n<<s|r,Ts=t}function bv(t){t.return!==null&&(ho(t,1),s2(t,1,0))}function Ev(t){for(;t===Lh;)Lh=Sa[--Ca],Sa[Ca]=null,Fh=Sa[--Ca],Sa[Ca]=null;for(;t===Ro;)Ro=xr[--wr],xr[wr]=null,Ts=xr[--wr],xr[wr]=null,Ns=xr[--wr],xr[wr]=null}var ur=null,ar=null,vt=!1,Rr=null;function i2(t,e){var n=_r(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function T1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ur=t,ar=Ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ur=t,ar=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ro!==null?{id:Ns,overflow:Ts}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_r(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ur=t,ar=null,!0):!1;default:return!1}}function Lg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Fg(t){if(vt){var e=ar;if(e){var n=e;if(!T1(t,e)){if(Lg(t))throw Error(ee(418));e=Ni(n.nextSibling);var r=ur;e&&T1(t,e)?i2(r,n):(t.flags=t.flags&-4097|2,vt=!1,ur=t)}}else{if(Lg(t))throw Error(ee(418));t.flags=t.flags&-4097|2,vt=!1,ur=t}}}function S1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ur=t}function Sd(t){if(t!==ur)return!1;if(!vt)return S1(t),vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Rg(t.type,t.memoizedProps)),e&&(e=ar)){if(Lg(t))throw o2(),Error(ee(418));for(;e;)i2(t,e),e=Ni(e.nextSibling)}if(S1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ar=Ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ar=null}}else ar=ur?Ni(t.stateNode.nextSibling):null;return!0}function o2(){for(var t=ar;t;)t=Ni(t.nextSibling)}function rl(){ar=ur=null,vt=!1}function Nv(t){Rr===null?Rr=[t]:Rr.push(t)}var r4=$s.ReactCurrentBatchConfig;function Zl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Cd(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function C1(t){var e=t._init;return e(t._payload)}function a2(t){function e(v,x){if(t){var _=v.deletions;_===null?(v.deletions=[x],v.flags|=16):_.push(x)}}function n(v,x){if(!t)return null;for(;x!==null;)e(v,x),x=x.sibling;return null}function r(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function s(v,x){return v=ki(v,x),v.index=0,v.sibling=null,v}function i(v,x,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<x?(v.flags|=2,x):_):(v.flags|=2,x)):(v.flags|=1048576,x)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function l(v,x,_,C){return x===null||x.tag!==6?(x=Np(_,v.mode,C),x.return=v,x):(x=s(x,_),x.return=v,x)}function c(v,x,_,C){var M=_.type;return M===wa?u(v,x,_.props.children,C,_.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ri&&C1(M)===x.type)?(C=s(x,_.props),C.ref=Zl(v,x,_),C.return=v,C):(C=ah(_.type,_.key,_.props,null,v.mode,C),C.ref=Zl(v,x,_),C.return=v,C)}function d(v,x,_,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==_.containerInfo||x.stateNode.implementation!==_.implementation?(x=Tp(_,v.mode,C),x.return=v,x):(x=s(x,_.children||[]),x.return=v,x)}function u(v,x,_,C,M){return x===null||x.tag!==7?(x=Io(_,v.mode,C,M),x.return=v,x):(x=s(x,_),x.return=v,x)}function m(v,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Np(""+x,v.mode,_),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case gd:return _=ah(x.type,x.key,x.props,null,v.mode,_),_.ref=Zl(v,null,x),_.return=v,_;case xa:return x=Tp(x,v.mode,_),x.return=v,x;case ri:var C=x._init;return m(v,C(x._payload),_)}if(cc(x)||Kl(x))return x=Io(x,v.mode,_,null),x.return=v,x;Cd(v,x)}return null}function h(v,x,_,C){var M=x!==null?x.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return M!==null?null:l(v,x,""+_,C);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case gd:return _.key===M?c(v,x,_,C):null;case xa:return _.key===M?d(v,x,_,C):null;case ri:return M=_._init,h(v,x,M(_._payload),C)}if(cc(_)||Kl(_))return M!==null?null:u(v,x,_,C,null);Cd(v,_)}return null}function p(v,x,_,C,M){if(typeof C=="string"&&C!==""||typeof C=="number")return v=v.get(_)||null,l(x,v,""+C,M);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case gd:return v=v.get(C.key===null?_:C.key)||null,c(x,v,C,M);case xa:return v=v.get(C.key===null?_:C.key)||null,d(x,v,C,M);case ri:var R=C._init;return p(v,x,_,R(C._payload),M)}if(cc(C)||Kl(C))return v=v.get(_)||null,u(x,v,C,M,null);Cd(x,C)}return null}function y(v,x,_,C){for(var M=null,R=null,k=x,b=x=0,T=null;k!==null&&b<_.length;b++){k.index>b?(T=k,k=null):T=k.sibling;var S=h(v,k,_[b],C);if(S===null){k===null&&(k=T);break}t&&k&&S.alternate===null&&e(v,k),x=i(S,x,b),R===null?M=S:R.sibling=S,R=S,k=T}if(b===_.length)return n(v,k),vt&&ho(v,b),M;if(k===null){for(;b<_.length;b++)k=m(v,_[b],C),k!==null&&(x=i(k,x,b),R===null?M=k:R.sibling=k,R=k);return vt&&ho(v,b),M}for(k=r(v,k);b<_.length;b++)T=p(k,v,b,_[b],C),T!==null&&(t&&T.alternate!==null&&k.delete(T.key===null?b:T.key),x=i(T,x,b),R===null?M=T:R.sibling=T,R=T);return t&&k.forEach(function(A){return e(v,A)}),vt&&ho(v,b),M}function g(v,x,_,C){var M=Kl(_);if(typeof M!="function")throw Error(ee(150));if(_=M.call(_),_==null)throw Error(ee(151));for(var R=M=null,k=x,b=x=0,T=null,S=_.next();k!==null&&!S.done;b++,S=_.next()){k.index>b?(T=k,k=null):T=k.sibling;var A=h(v,k,S.value,C);if(A===null){k===null&&(k=T);break}t&&k&&A.alternate===null&&e(v,k),x=i(A,x,b),R===null?M=A:R.sibling=A,R=A,k=T}if(S.done)return n(v,k),vt&&ho(v,b),M;if(k===null){for(;!S.done;b++,S=_.next())S=m(v,S.value,C),S!==null&&(x=i(S,x,b),R===null?M=S:R.sibling=S,R=S);return vt&&ho(v,b),M}for(k=r(v,k);!S.done;b++,S=_.next())S=p(k,v,b,S.value,C),S!==null&&(t&&S.alternate!==null&&k.delete(S.key===null?b:S.key),x=i(S,x,b),R===null?M=S:R.sibling=S,R=S);return t&&k.forEach(function(P){return e(v,P)}),vt&&ho(v,b),M}function w(v,x,_,C){if(typeof _=="object"&&_!==null&&_.type===wa&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case gd:e:{for(var M=_.key,R=x;R!==null;){if(R.key===M){if(M=_.type,M===wa){if(R.tag===7){n(v,R.sibling),x=s(R,_.props.children),x.return=v,v=x;break e}}else if(R.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===ri&&C1(M)===R.type){n(v,R.sibling),x=s(R,_.props),x.ref=Zl(v,R,_),x.return=v,v=x;break e}n(v,R);break}else e(v,R);R=R.sibling}_.type===wa?(x=Io(_.props.children,v.mode,C,_.key),x.return=v,v=x):(C=ah(_.type,_.key,_.props,null,v.mode,C),C.ref=Zl(v,x,_),C.return=v,v=C)}return o(v);case xa:e:{for(R=_.key;x!==null;){if(x.key===R)if(x.tag===4&&x.stateNode.containerInfo===_.containerInfo&&x.stateNode.implementation===_.implementation){n(v,x.sibling),x=s(x,_.children||[]),x.return=v,v=x;break e}else{n(v,x);break}else e(v,x);x=x.sibling}x=Tp(_,v.mode,C),x.return=v,v=x}return o(v);case ri:return R=_._init,w(v,x,R(_._payload),C)}if(cc(_))return y(v,x,_,C);if(Kl(_))return g(v,x,_,C);Cd(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,x!==null&&x.tag===6?(n(v,x.sibling),x=s(x,_),x.return=v,v=x):(n(v,x),x=Np(_,v.mode,C),x.return=v,v=x),o(v)):n(v,x)}return w}var sl=a2(!0),l2=a2(!1),Vh=Xi(null),Uh=null,ka=null,Tv=null;function Sv(){Tv=ka=Uh=null}function Cv(t){var e=Vh.current;gt(Vh),t._currentValue=e}function Vg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){Uh=t,Tv=ka=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Kn=!0),t.firstContext=null)}function Er(t){var e=t._currentValue;if(Tv!==t)if(t={context:t,memoizedValue:e,next:null},ka===null){if(Uh===null)throw Error(ee(308));ka=t,Uh.dependencies={lanes:0,firstContext:t}}else ka=ka.next=t;return e}var xo=null;function kv(t){xo===null?xo=[t]:xo.push(t)}function c2(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,kv(e)):(n.next=s.next,s.next=n),e.interleaved=n,Ds(t,r)}function Ds(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var si=!1;function Iv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function u2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ks(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ze&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,Ds(t,n)}return s=r.interleaved,s===null?(e.next=e,kv(r)):(e.next=s.next,s.next=e),r.interleaved=e,Ds(t,n)}function th(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mv(t,n)}}function k1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Bh(t,e,n,r){var s=t.updateQueue;si=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,l=u.lastBaseUpdate,l!==o&&(l===null?u.firstBaseUpdate=d:l.next=d,u.lastBaseUpdate=c))}if(i!==null){var m=s.baseState;o=0,u=d=c=null,l=i;do{var h=l.lane,p=l.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var y=t,g=l;switch(h=e,p=n,g.tag){case 1:if(y=g.payload,typeof y=="function"){m=y.call(p,m,h);break e}m=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=g.payload,h=typeof y=="function"?y.call(p,m,h):y,h==null)break e;m=Et({},m,h);break e;case 2:si=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},u===null?(d=u=p,c=m):u=u.next=p,o|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(c=m),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Mo|=o,t.lanes=o,t.memoizedState=m}}function I1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(ee(191,s));s.call(r)}}}var Su={},os=Xi(Su),Kc=Xi(Su),Qc=Xi(Su);function wo(t){if(t===Su)throw Error(ee(174));return t}function jv(t,e){switch(at(Qc,e),at(Kc,t),at(os,Su),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:xg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=xg(e,t)}gt(os),at(os,e)}function il(){gt(os),gt(Kc),gt(Qc)}function d2(t){wo(Qc.current);var e=wo(os.current),n=xg(e,t.type);e!==n&&(at(Kc,t),at(os,n))}function Av(t){Kc.current===t&&(gt(os),gt(Kc))}var _t=Xi(0);function zh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vp=[];function Pv(){for(var t=0;t<vp.length;t++)vp[t]._workInProgressVersionPrimary=null;vp.length=0}var nh=$s.ReactCurrentDispatcher,xp=$s.ReactCurrentBatchConfig,Do=0,bt=null,Wt=null,Yt=null,$h=!1,Tc=!1,Yc=0,s4=0;function pn(){throw Error(ee(321))}function Rv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Vr(t[n],e[n]))return!1;return!0}function Dv(t,e,n,r,s,i){if(Do=i,bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,nh.current=t===null||t.memoizedState===null?l4:c4,t=n(r,s),Tc){i=0;do{if(Tc=!1,Yc=0,25<=i)throw Error(ee(301));i+=1,Yt=Wt=null,e.updateQueue=null,nh.current=u4,t=n(r,s)}while(Tc)}if(nh.current=Wh,e=Wt!==null&&Wt.next!==null,Do=0,Yt=Wt=bt=null,$h=!1,e)throw Error(ee(300));return t}function Mv(){var t=Yc!==0;return Yc=0,t}function Qr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?bt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Nr(){if(Wt===null){var t=bt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Yt===null?bt.memoizedState:Yt.next;if(e!==null)Yt=e,Wt=t;else{if(t===null)throw Error(ee(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Yt===null?bt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Xc(t,e){return typeof e=="function"?e(t):e}function wp(t){var e=Nr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Wt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((Do&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(l=c=m,o=r):c=c.next=m,bt.lanes|=u,Mo|=u}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=l,Vr(r,e.memoizedState)||(Kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,bt.lanes|=i,Mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _p(t){var e=Nr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Vr(i,e.memoizedState)||(Kn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function h2(){}function f2(t,e){var n=bt,r=Nr(),s=e(),i=!Vr(r.memoizedState,s);if(i&&(r.memoizedState=s,Kn=!0),r=r.queue,Ov(g2.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Yt!==null&&Yt.memoizedState.tag&1){if(n.flags|=2048,Jc(9,p2.bind(null,n,r,s,e),void 0,null),Xt===null)throw Error(ee(349));Do&30||m2(n,e,s)}return s}function m2(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function p2(t,e,n,r){e.value=n,e.getSnapshot=r,y2(e)&&v2(t)}function g2(t,e,n){return n(function(){y2(e)&&v2(t)})}function y2(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Vr(t,n)}catch{return!0}}function v2(t){var e=Ds(t,1);e!==null&&Or(e,t,1,-1)}function j1(t){var e=Qr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xc,lastRenderedState:t},e.queue=t,t=t.dispatch=a4.bind(null,bt,t),[e.memoizedState,t]}function Jc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=bt.updateQueue,e===null?(e={lastEffect:null,stores:null},bt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function x2(){return Nr().memoizedState}function rh(t,e,n,r){var s=Qr();bt.flags|=t,s.memoizedState=Jc(1|e,n,void 0,r===void 0?null:r)}function Uf(t,e,n,r){var s=Nr();r=r===void 0?null:r;var i=void 0;if(Wt!==null){var o=Wt.memoizedState;if(i=o.destroy,r!==null&&Rv(r,o.deps)){s.memoizedState=Jc(e,n,i,r);return}}bt.flags|=t,s.memoizedState=Jc(1|e,n,i,r)}function A1(t,e){return rh(8390656,8,t,e)}function Ov(t,e){return Uf(2048,8,t,e)}function w2(t,e){return Uf(4,2,t,e)}function _2(t,e){return Uf(4,4,t,e)}function b2(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function E2(t,e,n){return n=n!=null?n.concat([t]):null,Uf(4,4,b2.bind(null,e,t),n)}function Lv(){}function N2(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function T2(t,e){var n=Nr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Rv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function S2(t,e,n){return Do&21?(Vr(n,e)||(n=AN(),bt.lanes|=n,Mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Kn=!0),t.memoizedState=n)}function i4(t,e){var n=tt;tt=n!==0&&4>n?n:4,t(!0);var r=xp.transition;xp.transition={};try{t(!1),e()}finally{tt=n,xp.transition=r}}function C2(){return Nr().memoizedState}function o4(t,e,n){var r=Ci(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},k2(t))I2(e,n);else if(n=c2(t,e,n,r),n!==null){var s=Fn();Or(n,t,r,s),j2(n,e,r)}}function a4(t,e,n){var r=Ci(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(k2(t))I2(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Vr(l,o)){var c=e.interleaved;c===null?(s.next=s,kv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=c2(t,e,s,r),n!==null&&(s=Fn(),Or(n,t,r,s),j2(n,e,r))}}function k2(t){var e=t.alternate;return t===bt||e!==null&&e===bt}function I2(t,e){Tc=$h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function j2(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,mv(t,n)}}var Wh={readContext:Er,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useInsertionEffect:pn,useLayoutEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useMutableSource:pn,useSyncExternalStore:pn,useId:pn,unstable_isNewReconciler:!1},l4={readContext:Er,useCallback:function(t,e){return Qr().memoizedState=[t,e===void 0?null:e],t},useContext:Er,useEffect:A1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,rh(4194308,4,b2.bind(null,e,t),n)},useLayoutEffect:function(t,e){return rh(4194308,4,t,e)},useInsertionEffect:function(t,e){return rh(4,2,t,e)},useMemo:function(t,e){var n=Qr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Qr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=o4.bind(null,bt,t),[r.memoizedState,t]},useRef:function(t){var e=Qr();return t={current:t},e.memoizedState=t},useState:j1,useDebugValue:Lv,useDeferredValue:function(t){return Qr().memoizedState=t},useTransition:function(){var t=j1(!1),e=t[0];return t=i4.bind(null,t[1]),Qr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=bt,s=Qr();if(vt){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Xt===null)throw Error(ee(349));Do&30||m2(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,A1(g2.bind(null,r,i,t),[t]),r.flags|=2048,Jc(9,p2.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Qr(),e=Xt.identifierPrefix;if(vt){var n=Ts,r=Ns;n=(r&~(1<<32-Mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Yc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=s4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},c4={readContext:Er,useCallback:N2,useContext:Er,useEffect:Ov,useImperativeHandle:E2,useInsertionEffect:w2,useLayoutEffect:_2,useMemo:T2,useReducer:wp,useRef:x2,useState:function(){return wp(Xc)},useDebugValue:Lv,useDeferredValue:function(t){var e=Nr();return S2(e,Wt.memoizedState,t)},useTransition:function(){var t=wp(Xc)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:h2,useSyncExternalStore:f2,useId:C2,unstable_isNewReconciler:!1},u4={readContext:Er,useCallback:N2,useContext:Er,useEffect:Ov,useImperativeHandle:E2,useInsertionEffect:w2,useLayoutEffect:_2,useMemo:T2,useReducer:_p,useRef:x2,useState:function(){return _p(Xc)},useDebugValue:Lv,useDeferredValue:function(t){var e=Nr();return Wt===null?e.memoizedState=t:S2(e,Wt.memoizedState,t)},useTransition:function(){var t=_p(Xc)[0],e=Nr().memoizedState;return[t,e]},useMutableSource:h2,useSyncExternalStore:f2,useId:C2,unstable_isNewReconciler:!1};function Ir(t,e){if(t&&t.defaultProps){e=Et({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Et({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Bf={isMounted:function(t){return(t=t._reactInternals)?Yo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Ci(t),i=ks(r,s);i.payload=e,n!=null&&(i.callback=n),e=Ti(t,i,s),e!==null&&(Or(e,t,s,r),th(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fn(),s=Ci(t),i=ks(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Ti(t,i,s),e!==null&&(Or(e,t,s,r),th(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fn(),r=Ci(t),s=ks(n,r);s.tag=2,e!=null&&(s.callback=e),e=Ti(t,s,r),e!==null&&(Or(e,t,r,n),th(e,t,r))}};function P1(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Wc(n,r)||!Wc(s,i):!0}function A2(t,e,n){var r=!1,s=Oi,i=e.contextType;return typeof i=="object"&&i!==null?i=Er(i):(s=Xn(e)?Po:Nn.current,r=e.contextTypes,i=(r=r!=null)?nl(t,s):Oi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function R1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Bf.enqueueReplaceState(e,e.state,null)}function Bg(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Iv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Er(i):(i=Xn(e)?Po:Nn.current,s.context=nl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Ug(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Bf.enqueueReplaceState(s,s.state,null),Bh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ol(t,e){try{var n="",r=e;do n+=FP(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function bp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var d4=typeof WeakMap=="function"?WeakMap:Map;function P2(t,e,n){n=ks(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){qh||(qh=!0,Jg=r),zg(t,e)},n}function R2(t,e,n){n=ks(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zg(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zg(t,e),typeof r!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function D1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new d4;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=T4.bind(null,t,e,n),e.then(t,t))}function M1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function O1(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ks(-1,1),e.tag=2,Ti(n,e,1))),n.lanes|=1),t)}var h4=$s.ReactCurrentOwner,Kn=!1;function Mn(t,e,n,r){e.child=t===null?l2(e,null,n,r):sl(e,t.child,n,r)}function L1(t,e,n,r,s){n=n.render;var i=e.ref;return La(e,s),r=Dv(t,e,n,r,i,s),n=Mv(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ms(t,e,s)):(vt&&n&&bv(e),e.flags|=1,Mn(t,e,r,s),e.child)}function F1(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Hv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,D2(t,e,i,r,s)):(t=ah(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Wc,n(o,r)&&t.ref===e.ref)return Ms(t,e,s)}return e.flags|=1,t=ki(i,r),t.ref=e.ref,t.return=e,e.child=t}function D2(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Wc(i,r)&&t.ref===e.ref)if(Kn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Kn=!0);else return e.lanes=t.lanes,Ms(t,e,s)}return $g(t,e,n,r,s)}function M2(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(ja,sr),sr|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(ja,sr),sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,at(ja,sr),sr|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,at(ja,sr),sr|=r;return Mn(t,e,s,n),e.child}function O2(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $g(t,e,n,r,s){var i=Xn(n)?Po:Nn.current;return i=nl(e,i),La(e,s),n=Dv(t,e,n,r,i,s),r=Mv(),t!==null&&!Kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Ms(t,e,s)):(vt&&r&&bv(e),e.flags|=1,Mn(t,e,n,s),e.child)}function V1(t,e,n,r,s){if(Xn(n)){var i=!0;Oh(e)}else i=!1;if(La(e,s),e.stateNode===null)sh(t,e),A2(e,n,r),Bg(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Er(d):(d=Xn(n)?Po:Nn.current,d=nl(e,d));var u=n.getDerivedStateFromProps,m=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==d)&&R1(e,o,r,d),si=!1;var h=e.memoizedState;o.state=h,Bh(e,r,o,s),c=e.memoizedState,l!==r||h!==c||Yn.current||si?(typeof u=="function"&&(Ug(e,n,u,r),c=e.memoizedState),(l=si||P1(e,n,l,r,h,c,d))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,u2(t,e),l=e.memoizedProps,d=e.type===e.elementType?l:Ir(e.type,l),o.props=d,m=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=Er(c):(c=Xn(n)?Po:Nn.current,c=nl(e,c));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||h!==c)&&R1(e,o,r,c),si=!1,h=e.memoizedState,o.state=h,Bh(e,r,o,s);var y=e.memoizedState;l!==m||h!==y||Yn.current||si?(typeof p=="function"&&(Ug(e,n,p,r),y=e.memoizedState),(d=si||P1(e,n,d,r,h,y,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wg(t,e,n,r,i,s)}function Wg(t,e,n,r,s,i){O2(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&N1(e,n,!1),Ms(t,e,i);r=e.stateNode,h4.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=sl(e,t.child,null,i),e.child=sl(e,null,l,i)):Mn(t,e,l,i),e.memoizedState=r.state,s&&N1(e,n,!0),e.child}function L2(t){var e=t.stateNode;e.pendingContext?E1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&E1(t,e.context,!1),jv(t,e.containerInfo)}function U1(t,e,n,r,s){return rl(),Nv(s),e.flags|=256,Mn(t,e,n,r),e.child}var Hg={dehydrated:null,treeContext:null,retryLane:0};function qg(t){return{baseLanes:t,cachePool:null,transitions:null}}function F2(t,e,n){var r=e.pendingProps,s=_t.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),at(_t,s&1),t===null)return Fg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Wf(o,r,0,null),t=Io(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=qg(n),e.memoizedState=Hg,t):Fv(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return f4(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ki(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=ki(l,i):(i=Io(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?qg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Hg,r}return i=t.child,t=i.sibling,r=ki(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fv(t,e){return e=Wf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function kd(t,e,n,r){return r!==null&&Nv(r),sl(e,t.child,null,n),t=Fv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function f4(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=bp(Error(ee(422))),kd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Wf({mode:"visible",children:r.children},s,0,null),i=Io(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&sl(e,t.child,null,o),e.child.memoizedState=qg(o),e.memoizedState=Hg,i);if(!(e.mode&1))return kd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(ee(419)),r=bp(i,r,void 0),kd(t,e,o,r)}if(l=(o&t.childLanes)!==0,Kn||l){if(r=Xt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ds(t,s),Or(r,t,s,-1))}return Wv(),r=bp(Error(ee(421))),kd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=S4.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ar=Ni(s.nextSibling),ur=e,vt=!0,Rr=null,t!==null&&(xr[wr++]=Ns,xr[wr++]=Ts,xr[wr++]=Ro,Ns=t.id,Ts=t.overflow,Ro=e),e=Fv(e,r.children),e.flags|=4096,e)}function B1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vg(t.return,e,n)}function Ep(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function V2(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Mn(t,e,r.children,n),r=_t.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B1(t,n,e);else if(t.tag===19)B1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(_t,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),Ep(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}Ep(e,!0,n,null,i);break;case"together":Ep(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ms(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=ki(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ki(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m4(t,e,n){switch(e.tag){case 3:L2(e),rl();break;case 5:d2(e);break;case 1:Xn(e.type)&&Oh(e);break;case 4:jv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;at(Vh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(_t,_t.current&1),e.flags|=128,null):n&e.child.childLanes?F2(t,e,n):(at(_t,_t.current&1),t=Ms(t,e,n),t!==null?t.sibling:null);at(_t,_t.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return V2(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),at(_t,_t.current),r)break;return null;case 22:case 23:return e.lanes=0,M2(t,e,n)}return Ms(t,e,n)}var U2,Gg,B2,z2;U2=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};B2=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,wo(os.current);var i=null;switch(n){case"input":s=pg(t,s),r=pg(t,r),i=[];break;case"select":s=Et({},s,{value:void 0}),r=Et({},r,{value:void 0}),i=[];break;case"textarea":s=vg(t,s),r=vg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Dh)}wg(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var l=s[d];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Lc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(c!=null||l!=null))if(d==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&mt("scroll",t),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};z2=function(t,e,n,r){n!==r&&(e.flags|=4)};function ec(t,e){if(!vt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function gn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function p4(t,e,n){var r=e.pendingProps;switch(Ev(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(e),null;case 1:return Xn(e.type)&&Mh(),gn(e),null;case 3:return r=e.stateNode,il(),gt(Yn),gt(Nn),Pv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Sd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Rr!==null&&(ty(Rr),Rr=null))),Gg(t,e),gn(e),null;case 5:Av(e);var s=wo(Qc.current);if(n=e.type,t!==null&&e.stateNode!=null)B2(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return gn(e),null}if(t=wo(os.current),Sd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ts]=e,r[Gc]=i,t=(e.mode&1)!==0,n){case"dialog":mt("cancel",r),mt("close",r);break;case"iframe":case"object":case"embed":mt("load",r);break;case"video":case"audio":for(s=0;s<dc.length;s++)mt(dc[s],r);break;case"source":mt("error",r);break;case"img":case"image":case"link":mt("error",r),mt("load",r);break;case"details":mt("toggle",r);break;case"input":Yw(r,i),mt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},mt("invalid",r);break;case"textarea":Jw(r,i),mt("invalid",r)}wg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Td(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Td(r.textContent,l,t),s=["children",""+l]):Lc.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&mt("scroll",r)}switch(n){case"input":yd(r),Xw(r,i,!0);break;case"textarea":yd(r),Zw(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Dh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=gN(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ts]=e,t[Gc]=r,U2(t,e,!1,!1),e.stateNode=t;e:{switch(o=_g(n,r),n){case"dialog":mt("cancel",t),mt("close",t),s=r;break;case"iframe":case"object":case"embed":mt("load",t),s=r;break;case"video":case"audio":for(s=0;s<dc.length;s++)mt(dc[s],t);s=r;break;case"source":mt("error",t),s=r;break;case"img":case"image":case"link":mt("error",t),mt("load",t),s=r;break;case"details":mt("toggle",t),s=r;break;case"input":Yw(t,r),s=pg(t,r),mt("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Et({},r,{value:void 0}),mt("invalid",t);break;case"textarea":Jw(t,r),s=vg(t,r),mt("invalid",t);break;default:s=r}wg(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?xN(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&yN(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Fc(t,c):typeof c=="number"&&Fc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Lc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&mt("scroll",t):c!=null&&lv(t,i,c,o))}switch(n){case"input":yd(t),Xw(t,r,!1);break;case"textarea":yd(t),Zw(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Mi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ra(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ra(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Dh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gn(e),null;case 6:if(t&&e.stateNode!=null)z2(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=wo(Qc.current),wo(os.current),Sd(e)){if(r=e.stateNode,n=e.memoizedProps,r[ts]=e,(i=r.nodeValue!==n)&&(t=ur,t!==null))switch(t.tag){case 3:Td(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Td(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ts]=e,e.stateNode=r}return gn(e),null;case 13:if(gt(_t),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(vt&&ar!==null&&e.mode&1&&!(e.flags&128))o2(),rl(),e.flags|=98560,i=!1;else if(i=Sd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(ee(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(ee(317));i[ts]=e}else rl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gn(e),i=!1}else Rr!==null&&(ty(Rr),Rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?Ht===0&&(Ht=3):Wv())),e.updateQueue!==null&&(e.flags|=4),gn(e),null);case 4:return il(),Gg(t,e),t===null&&Hc(e.stateNode.containerInfo),gn(e),null;case 10:return Cv(e.type._context),gn(e),null;case 17:return Xn(e.type)&&Mh(),gn(e),null;case 19:if(gt(_t),i=e.memoizedState,i===null)return gn(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ec(i,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zh(t),o!==null){for(e.flags|=128,ec(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(_t,_t.current&1|2),e.child}t=t.sibling}i.tail!==null&&Mt()>al&&(e.flags|=128,r=!0,ec(i,!1),e.lanes=4194304)}else{if(!r)if(t=zh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ec(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!vt)return gn(e),null}else 2*Mt()-i.renderingStartTime>al&&n!==1073741824&&(e.flags|=128,r=!0,ec(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Mt(),e.sibling=null,n=_t.current,at(_t,r?n&1|2:n&1),e):(gn(e),null);case 22:case 23:return $v(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?sr&1073741824&&(gn(e),e.subtreeFlags&6&&(e.flags|=8192)):gn(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function g4(t,e){switch(Ev(e),e.tag){case 1:return Xn(e.type)&&Mh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return il(),gt(Yn),gt(Nn),Pv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Av(e),null;case 13:if(gt(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));rl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(_t),null;case 4:return il(),null;case 10:return Cv(e.type._context),null;case 22:case 23:return $v(),null;case 24:return null;default:return null}}var Id=!1,wn=!1,y4=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Ia(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){kt(t,e,r)}else n.current=null}function Kg(t,e,n){try{n()}catch(r){kt(t,e,r)}}var z1=!1;function v4(t,e){if(Ag=Ah,t=GN(),_v(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,m=t,h=null;t:for(;;){for(var p;m!==n||s!==0&&m.nodeType!==3||(l=o+s),m!==i||r!==0&&m.nodeType!==3||(c=o+r),m.nodeType===3&&(o+=m.nodeValue.length),(p=m.firstChild)!==null;)h=m,m=p;for(;;){if(m===t)break t;if(h===n&&++d===s&&(l=o),h===i&&++u===r&&(c=o),(p=m.nextSibling)!==null)break;m=h,h=m.parentNode}m=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Pg={focusedElem:t,selectionRange:n},Ah=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var g=y.memoizedProps,w=y.memoizedState,v=e.stateNode,x=v.getSnapshotBeforeUpdate(e.elementType===e.type?g:Ir(e.type,g),w);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(C){kt(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return y=z1,z1=!1,y}function Sc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Kg(e,n,i)}s=s.next}while(s!==r)}}function zf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function $2(t){var e=t.alternate;e!==null&&(t.alternate=null,$2(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ts],delete e[Gc],delete e[Mg],delete e[e4],delete e[t4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function W2(t){return t.tag===5||t.tag===3||t.tag===4}function $1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W2(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Dh));else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}function Xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xg(t,e,n),t=t.sibling;t!==null;)Xg(t,e,n),t=t.sibling}var rn=null,Pr=!1;function Qs(t,e,n){for(n=n.child;n!==null;)H2(t,e,n),n=n.sibling}function H2(t,e,n){if(is&&typeof is.onCommitFiberUnmount=="function")try{is.onCommitFiberUnmount(Df,n)}catch{}switch(n.tag){case 5:wn||Ia(n,e);case 6:var r=rn,s=Pr;rn=null,Qs(t,e,n),rn=r,Pr=s,rn!==null&&(Pr?(t=rn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):rn.removeChild(n.stateNode));break;case 18:rn!==null&&(Pr?(t=rn,n=n.stateNode,t.nodeType===8?gp(t.parentNode,n):t.nodeType===1&&gp(t,n),zc(t)):gp(rn,n.stateNode));break;case 4:r=rn,s=Pr,rn=n.stateNode.containerInfo,Pr=!0,Qs(t,e,n),rn=r,Pr=s;break;case 0:case 11:case 14:case 15:if(!wn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Kg(n,e,o),s=s.next}while(s!==r)}Qs(t,e,n);break;case 1:if(!wn&&(Ia(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kt(n,e,l)}Qs(t,e,n);break;case 21:Qs(t,e,n);break;case 22:n.mode&1?(wn=(r=wn)||n.memoizedState!==null,Qs(t,e,n),wn=r):Qs(t,e,n);break;default:Qs(t,e,n)}}function W1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new y4),e.forEach(function(r){var s=C4.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Sr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:rn=l.stateNode,Pr=!1;break e;case 3:rn=l.stateNode.containerInfo,Pr=!0;break e;case 4:rn=l.stateNode.containerInfo,Pr=!0;break e}l=l.return}if(rn===null)throw Error(ee(160));H2(i,o,s),rn=null,Pr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){kt(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)q2(e,t),e=e.sibling}function q2(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Sr(e,t),Kr(t),r&4){try{Sc(3,t,t.return),zf(3,t)}catch(g){kt(t,t.return,g)}try{Sc(5,t,t.return)}catch(g){kt(t,t.return,g)}}break;case 1:Sr(e,t),Kr(t),r&512&&n!==null&&Ia(n,n.return);break;case 5:if(Sr(e,t),Kr(t),r&512&&n!==null&&Ia(n,n.return),t.flags&32){var s=t.stateNode;try{Fc(s,"")}catch(g){kt(t,t.return,g)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&mN(s,i),_g(l,o);var d=_g(l,i);for(o=0;o<c.length;o+=2){var u=c[o],m=c[o+1];u==="style"?xN(s,m):u==="dangerouslySetInnerHTML"?yN(s,m):u==="children"?Fc(s,m):lv(s,u,m,d)}switch(l){case"input":gg(s,i);break;case"textarea":pN(s,i);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Ra(s,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?Ra(s,!!i.multiple,i.defaultValue,!0):Ra(s,!!i.multiple,i.multiple?[]:"",!1))}s[Gc]=i}catch(g){kt(t,t.return,g)}}break;case 6:if(Sr(e,t),Kr(t),r&4){if(t.stateNode===null)throw Error(ee(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(g){kt(t,t.return,g)}}break;case 3:if(Sr(e,t),Kr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zc(e.containerInfo)}catch(g){kt(t,t.return,g)}break;case 4:Sr(e,t),Kr(t);break;case 13:Sr(e,t),Kr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Bv=Mt())),r&4&&W1(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(wn=(d=wn)||u,Sr(e,t),wn=d):Sr(e,t),Kr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!u&&t.mode&1)for(ce=t,u=t.child;u!==null;){for(m=ce=u;ce!==null;){switch(h=ce,p=h.child,h.tag){case 0:case 11:case 14:case 15:Sc(4,h,h.return);break;case 1:Ia(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(g){kt(r,n,g)}}break;case 5:Ia(h,h.return);break;case 22:if(h.memoizedState!==null){q1(m);continue}}p!==null?(p.return=h,ce=p):q1(m)}u=u.sibling}e:for(u=null,m=t;;){if(m.tag===5){if(u===null){u=m;try{s=m.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=m.stateNode,c=m.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=vN("display",o))}catch(g){kt(t,t.return,g)}}}else if(m.tag===6){if(u===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(g){kt(t,t.return,g)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;u===m&&(u=null),m=m.return}u===m&&(u=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Sr(e,t),Kr(t),r&4&&W1(t);break;case 21:break;default:Sr(e,t),Kr(t)}}function Kr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(W2(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fc(s,""),r.flags&=-33);var i=$1(t);Xg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=$1(t);Yg(t,l,o);break;default:throw Error(ee(161))}}catch(c){kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function x4(t,e,n){ce=t,G2(t)}function G2(t,e,n){for(var r=(t.mode&1)!==0;ce!==null;){var s=ce,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Id;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||wn;l=Id;var d=wn;if(Id=o,(wn=c)&&!d)for(ce=s;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?G1(s):c!==null?(c.return=o,ce=c):G1(s);for(;i!==null;)ce=i,G2(i),i=i.sibling;ce=s,Id=l,wn=d}H1(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,ce=i):H1(t)}}function H1(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:wn||zf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!wn)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Ir(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&I1(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I1(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var m=u.dehydrated;m!==null&&zc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}wn||e.flags&512&&Qg(e)}catch(h){kt(e,e.return,h)}}if(e===t){ce=null;break}if(n=e.sibling,n!==null){n.return=e.return,ce=n;break}ce=e.return}}function q1(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ce=n;break}ce=e.return}}function G1(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zf(4,e)}catch(c){kt(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){kt(e,s,c)}}var i=e.return;try{Qg(e)}catch(c){kt(e,i,c)}break;case 5:var o=e.return;try{Qg(e)}catch(c){kt(e,o,c)}}}catch(c){kt(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var w4=Math.ceil,Hh=$s.ReactCurrentDispatcher,Vv=$s.ReactCurrentOwner,br=$s.ReactCurrentBatchConfig,ze=0,Xt=null,Ut=null,an=0,sr=0,ja=Xi(0),Ht=0,Zc=null,Mo=0,$f=0,Uv=0,Cc=null,Hn=null,Bv=0,al=1/0,bs=null,qh=!1,Jg=null,Si=null,jd=!1,vi=null,Gh=0,kc=0,Zg=null,ih=-1,oh=0;function Fn(){return ze&6?Mt():ih!==-1?ih:ih=Mt()}function Ci(t){return t.mode&1?ze&2&&an!==0?an&-an:r4.transition!==null?(oh===0&&(oh=AN()),oh):(t=tt,t!==0||(t=window.event,t=t===void 0?16:FN(t.type)),t):1}function Or(t,e,n,r){if(50<kc)throw kc=0,Zg=null,Error(ee(185));Eu(t,n,r),(!(ze&2)||t!==Xt)&&(t===Xt&&(!(ze&2)&&($f|=n),Ht===4&&oi(t,an)),Jn(t,r),n===1&&ze===0&&!(e.mode&1)&&(al=Mt()+500,Vf&&Ji()))}function Jn(t,e){var n=t.callbackNode;rR(t,e);var r=jh(t,t===Xt?an:0);if(r===0)n!==null&&n1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&n1(n),e===1)t.tag===0?n4(K1.bind(null,t)):r2(K1.bind(null,t)),JR(function(){!(ze&6)&&Ji()}),n=null;else{switch(PN(r)){case 1:n=fv;break;case 4:n=IN;break;case 16:n=Ih;break;case 536870912:n=jN;break;default:n=Ih}n=tT(n,K2.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function K2(t,e){if(ih=-1,oh=0,ze&6)throw Error(ee(327));var n=t.callbackNode;if(Fa()&&t.callbackNode!==n)return null;var r=jh(t,t===Xt?an:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Kh(t,r);else{e=r;var s=ze;ze|=2;var i=Y2();(Xt!==t||an!==e)&&(bs=null,al=Mt()+500,ko(t,e));do try{E4();break}catch(l){Q2(t,l)}while(!0);Sv(),Hh.current=i,ze=s,Ut!==null?e=0:(Xt=null,an=0,e=Ht)}if(e!==0){if(e===2&&(s=Sg(t),s!==0&&(r=s,e=ey(t,s))),e===1)throw n=Zc,ko(t,0),oi(t,r),Jn(t,Mt()),n;if(e===6)oi(t,r);else{if(s=t.current.alternate,!(r&30)&&!_4(s)&&(e=Kh(t,r),e===2&&(i=Sg(t),i!==0&&(r=i,e=ey(t,i))),e===1))throw n=Zc,ko(t,0),oi(t,r),Jn(t,Mt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:fo(t,Hn,bs);break;case 3:if(oi(t,r),(r&130023424)===r&&(e=Bv+500-Mt(),10<e)){if(jh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Fn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Dg(fo.bind(null,t,Hn,bs),e);break}fo(t,Hn,bs);break;case 4:if(oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Mr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Mt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w4(r/1960))-r,10<r){t.timeoutHandle=Dg(fo.bind(null,t,Hn,bs),r);break}fo(t,Hn,bs);break;case 5:fo(t,Hn,bs);break;default:throw Error(ee(329))}}}return Jn(t,Mt()),t.callbackNode===n?K2.bind(null,t):null}function ey(t,e){var n=Cc;return t.current.memoizedState.isDehydrated&&(ko(t,e).flags|=256),t=Kh(t,e),t!==2&&(e=Hn,Hn=n,e!==null&&ty(e)),t}function ty(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function _4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Vr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function oi(t,e){for(e&=~Uv,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Mr(e),r=1<<n;t[n]=-1,e&=~r}}function K1(t){if(ze&6)throw Error(ee(327));Fa();var e=jh(t,0);if(!(e&1))return Jn(t,Mt()),null;var n=Kh(t,e);if(t.tag!==0&&n===2){var r=Sg(t);r!==0&&(e=r,n=ey(t,r))}if(n===1)throw n=Zc,ko(t,0),oi(t,e),Jn(t,Mt()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,fo(t,Hn,bs),Jn(t,Mt()),null}function zv(t,e){var n=ze;ze|=1;try{return t(e)}finally{ze=n,ze===0&&(al=Mt()+500,Vf&&Ji())}}function Oo(t){vi!==null&&vi.tag===0&&!(ze&6)&&Fa();var e=ze;ze|=1;var n=br.transition,r=tt;try{if(br.transition=null,tt=1,t)return t()}finally{tt=r,br.transition=n,ze=e,!(ze&6)&&Ji()}}function $v(){sr=ja.current,gt(ja)}function ko(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,XR(n)),Ut!==null)for(n=Ut.return;n!==null;){var r=n;switch(Ev(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Mh();break;case 3:il(),gt(Yn),gt(Nn),Pv();break;case 5:Av(r);break;case 4:il();break;case 13:gt(_t);break;case 19:gt(_t);break;case 10:Cv(r.type._context);break;case 22:case 23:$v()}n=n.return}if(Xt=t,Ut=t=ki(t.current,null),an=sr=e,Ht=0,Zc=null,Uv=$f=Mo=0,Hn=Cc=null,xo!==null){for(e=0;e<xo.length;e++)if(n=xo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}xo=null}return t}function Q2(t,e){do{var n=Ut;try{if(Sv(),nh.current=Wh,$h){for(var r=bt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}$h=!1}if(Do=0,Yt=Wt=bt=null,Tc=!1,Yc=0,Vv.current=null,n===null||n.return===null){Ht=1,Zc=e,Ut=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=an,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=l,m=u.tag;if(!(u.mode&1)&&(m===0||m===11||m===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=M1(o);if(p!==null){p.flags&=-257,O1(p,o,l,i,e),p.mode&1&&D1(i,d,e),e=p,c=d;var y=e.updateQueue;if(y===null){var g=new Set;g.add(c),e.updateQueue=g}else y.add(c);break e}else{if(!(e&1)){D1(i,d,e),Wv();break e}c=Error(ee(426))}}else if(vt&&l.mode&1){var w=M1(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),O1(w,o,l,i,e),Nv(ol(c,l));break e}}i=c=ol(c,l),Ht!==4&&(Ht=2),Cc===null?Cc=[i]:Cc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var v=P2(i,c,e);k1(i,v);break e;case 1:l=c;var x=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Si===null||!Si.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var C=R2(i,l,e);k1(i,C);break e}}i=i.return}while(i!==null)}J2(n)}catch(M){e=M,Ut===n&&n!==null&&(Ut=n=n.return);continue}break}while(!0)}function Y2(){var t=Hh.current;return Hh.current=Wh,t===null?Wh:t}function Wv(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Xt===null||!(Mo&268435455)&&!($f&268435455)||oi(Xt,an)}function Kh(t,e){var n=ze;ze|=2;var r=Y2();(Xt!==t||an!==e)&&(bs=null,ko(t,e));do try{b4();break}catch(s){Q2(t,s)}while(!0);if(Sv(),ze=n,Hh.current=r,Ut!==null)throw Error(ee(261));return Xt=null,an=0,Ht}function b4(){for(;Ut!==null;)X2(Ut)}function E4(){for(;Ut!==null&&!KP();)X2(Ut)}function X2(t){var e=eT(t.alternate,t,sr);t.memoizedProps=t.pendingProps,e===null?J2(t):Ut=e,Vv.current=null}function J2(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=g4(n,e),n!==null){n.flags&=32767,Ut=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Ut=null;return}}else if(n=p4(n,e,sr),n!==null){Ut=n;return}if(e=e.sibling,e!==null){Ut=e;return}Ut=e=t}while(e!==null);Ht===0&&(Ht=5)}function fo(t,e,n){var r=tt,s=br.transition;try{br.transition=null,tt=1,N4(t,e,n,r)}finally{br.transition=s,tt=r}return null}function N4(t,e,n,r){do Fa();while(vi!==null);if(ze&6)throw Error(ee(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(sR(t,i),t===Xt&&(Ut=Xt=null,an=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||jd||(jd=!0,tT(Ih,function(){return Fa(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=br.transition,br.transition=null;var o=tt;tt=1;var l=ze;ze|=4,Vv.current=null,v4(t,n),q2(n,t),WR(Pg),Ah=!!Ag,Pg=Ag=null,t.current=n,x4(n),QP(),ze=l,tt=o,br.transition=i}else t.current=n;if(jd&&(jd=!1,vi=t,Gh=s),i=t.pendingLanes,i===0&&(Si=null),JP(n.stateNode),Jn(t,Mt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(qh)throw qh=!1,t=Jg,Jg=null,t;return Gh&1&&t.tag!==0&&Fa(),i=t.pendingLanes,i&1?t===Zg?kc++:(kc=0,Zg=t):kc=0,Ji(),null}function Fa(){if(vi!==null){var t=PN(Gh),e=br.transition,n=tt;try{if(br.transition=null,tt=16>t?16:t,vi===null)var r=!1;else{if(t=vi,vi=null,Gh=0,ze&6)throw Error(ee(331));var s=ze;for(ze|=4,ce=t.current;ce!==null;){var i=ce,o=i.child;if(ce.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var d=l[c];for(ce=d;ce!==null;){var u=ce;switch(u.tag){case 0:case 11:case 15:Sc(8,u,i)}var m=u.child;if(m!==null)m.return=u,ce=m;else for(;ce!==null;){u=ce;var h=u.sibling,p=u.return;if($2(u),u===d){ce=null;break}if(h!==null){h.return=p,ce=h;break}ce=p}}}var y=i.alternate;if(y!==null){var g=y.child;if(g!==null){y.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ce=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,ce=o;else e:for(;ce!==null;){if(i=ce,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Sc(9,i,i.return)}var v=i.sibling;if(v!==null){v.return=i.return,ce=v;break e}ce=i.return}}var x=t.current;for(ce=x;ce!==null;){o=ce;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ce=_;else e:for(o=x;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:zf(9,l)}}catch(M){kt(l,l.return,M)}if(l===o){ce=null;break e}var C=l.sibling;if(C!==null){C.return=l.return,ce=C;break e}ce=l.return}}if(ze=s,Ji(),is&&typeof is.onPostCommitFiberRoot=="function")try{is.onPostCommitFiberRoot(Df,t)}catch{}r=!0}return r}finally{tt=n,br.transition=e}}return!1}function Q1(t,e,n){e=ol(n,e),e=P2(t,e,1),t=Ti(t,e,1),e=Fn(),t!==null&&(Eu(t,1,e),Jn(t,e))}function kt(t,e,n){if(t.tag===3)Q1(t,t,n);else for(;e!==null;){if(e.tag===3){Q1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Si===null||!Si.has(r))){t=ol(n,t),t=R2(e,t,1),e=Ti(e,t,1),t=Fn(),e!==null&&(Eu(e,1,t),Jn(e,t));break}}e=e.return}}function T4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fn(),t.pingedLanes|=t.suspendedLanes&n,Xt===t&&(an&n)===n&&(Ht===4||Ht===3&&(an&130023424)===an&&500>Mt()-Bv?ko(t,0):Uv|=n),Jn(t,e)}function Z2(t,e){e===0&&(t.mode&1?(e=wd,wd<<=1,!(wd&130023424)&&(wd=4194304)):e=1);var n=Fn();t=Ds(t,e),t!==null&&(Eu(t,e,n),Jn(t,n))}function S4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Z2(t,n)}function C4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),Z2(t,n)}var eT;eT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yn.current)Kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Kn=!1,m4(t,e,n);Kn=!!(t.flags&131072)}else Kn=!1,vt&&e.flags&1048576&&s2(e,Fh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;sh(t,e),t=e.pendingProps;var s=nl(e,Nn.current);La(e,n),s=Dv(null,e,r,t,s,n);var i=Mv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(i=!0,Oh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Iv(e),s.updater=Bf,e.stateNode=s,s._reactInternals=e,Bg(e,r,t,n),e=Wg(null,e,r,!0,i,n)):(e.tag=0,vt&&i&&bv(e),Mn(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(sh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=I4(r),t=Ir(r,t),s){case 0:e=$g(null,e,r,t,n);break e;case 1:e=V1(null,e,r,t,n);break e;case 11:e=L1(null,e,r,t,n);break e;case 14:e=F1(null,e,r,Ir(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),$g(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),V1(t,e,r,s,n);case 3:e:{if(L2(e),t===null)throw Error(ee(387));r=e.pendingProps,i=e.memoizedState,s=i.element,u2(t,e),Bh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ol(Error(ee(423)),e),e=U1(t,e,r,n,s);break e}else if(r!==s){s=ol(Error(ee(424)),e),e=U1(t,e,r,n,s);break e}else for(ar=Ni(e.stateNode.containerInfo.firstChild),ur=e,vt=!0,Rr=null,n=l2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rl(),r===s){e=Ms(t,e,n);break e}Mn(t,e,r,n)}e=e.child}return e;case 5:return d2(e),t===null&&Fg(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Rg(r,s)?o=null:i!==null&&Rg(r,i)&&(e.flags|=32),O2(t,e),Mn(t,e,o,n),e.child;case 6:return t===null&&Fg(e),null;case 13:return F2(t,e,n);case 4:return jv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=sl(e,null,r,n):Mn(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),L1(t,e,r,s,n);case 7:return Mn(t,e,e.pendingProps,n),e.child;case 8:return Mn(t,e,e.pendingProps.children,n),e.child;case 12:return Mn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,at(Vh,r._currentValue),r._currentValue=o,i!==null)if(Vr(i.value,o)){if(i.children===s.children&&!Yn.current){e=Ms(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ks(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Vg(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(ee(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Vg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Mn(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,La(e,n),s=Er(s),r=r(s),e.flags|=1,Mn(t,e,r,n),e.child;case 14:return r=e.type,s=Ir(r,e.pendingProps),s=Ir(r.type,s),F1(t,e,r,s,n);case 15:return D2(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Ir(r,s),sh(t,e),e.tag=1,Xn(r)?(t=!0,Oh(e)):t=!1,La(e,n),A2(e,r,s),Bg(e,r,s,n),Wg(null,e,r,!0,t,n);case 19:return V2(t,e,n);case 22:return M2(t,e,n)}throw Error(ee(156,e.tag))};function tT(t,e){return kN(t,e)}function k4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _r(t,e,n,r){return new k4(t,e,n,r)}function Hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function I4(t){if(typeof t=="function")return Hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===uv)return 11;if(t===dv)return 14}return 2}function ki(t,e){var n=t.alternate;return n===null?(n=_r(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ah(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Hv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case wa:return Io(n.children,s,i,e);case cv:o=8,s|=8;break;case dg:return t=_r(12,n,e,s|2),t.elementType=dg,t.lanes=i,t;case hg:return t=_r(13,n,e,s),t.elementType=hg,t.lanes=i,t;case fg:return t=_r(19,n,e,s),t.elementType=fg,t.lanes=i,t;case dN:return Wf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case cN:o=10;break e;case uN:o=9;break e;case uv:o=11;break e;case dv:o=14;break e;case ri:o=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=_r(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Io(t,e,n,r){return t=_r(7,t,r,e),t.lanes=n,t}function Wf(t,e,n,r){return t=_r(22,t,r,e),t.elementType=dN,t.lanes=n,t.stateNode={isHidden:!1},t}function Np(t,e,n){return t=_r(6,t,null,e),t.lanes=n,t}function Tp(t,e,n){return e=_r(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function j4(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ip(0),this.expirationTimes=ip(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ip(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function qv(t,e,n,r,s,i,o,l,c){return t=new j4(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=_r(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Iv(i),t}function A4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function nT(t){if(!t)return Oi;t=t._reactInternals;e:{if(Yo(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Xn(n))return n2(t,n,e)}return e}function rT(t,e,n,r,s,i,o,l,c){return t=qv(n,r,!0,t,s,i,o,l,c),t.context=nT(null),n=t.current,r=Fn(),s=Ci(n),i=ks(r,s),i.callback=e??null,Ti(n,i,s),t.current.lanes=s,Eu(t,s,r),Jn(t,r),t}function Hf(t,e,n,r){var s=e.current,i=Fn(),o=Ci(s);return n=nT(n),e.context===null?e.context=n:e.pendingContext=n,e=ks(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ti(s,e,o),t!==null&&(Or(t,s,o,i),th(t,s,o)),o}function Qh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Y1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Gv(t,e){Y1(t,e),(t=t.alternate)&&Y1(t,e)}function P4(){return null}var sT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Kv(t){this._internalRoot=t}qf.prototype.render=Kv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Hf(t,e,null,null)};qf.prototype.unmount=Kv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Hf(null,t,null,null)}),e[Rs]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=MN();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ii.length&&e!==0&&e<ii[n].priority;n++);ii.splice(n,0,t),n===0&&LN(t)}};function Qv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X1(){}function R4(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Qh(o);i.call(d)}}var o=rT(e,r,t,0,null,!1,!1,"",X1);return t._reactRootContainer=o,t[Rs]=o.current,Hc(t.nodeType===8?t.parentNode:t),Oo(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var d=Qh(c);l.call(d)}}var c=qv(t,0,!1,null,null,!1,!1,"",X1);return t._reactRootContainer=c,t[Rs]=c.current,Hc(t.nodeType===8?t.parentNode:t),Oo(function(){Hf(e,c,n,r)}),c}function Kf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Qh(o);l.call(c)}}Hf(e,o,t,s)}else o=R4(n,e,t,s,r);return Qh(o)}RN=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=uc(e.pendingLanes);n!==0&&(mv(e,n|1),Jn(e,Mt()),!(ze&6)&&(al=Mt()+500,Ji()))}break;case 13:Oo(function(){var r=Ds(t,1);if(r!==null){var s=Fn();Or(r,t,1,s)}}),Gv(t,1)}};pv=function(t){if(t.tag===13){var e=Ds(t,134217728);if(e!==null){var n=Fn();Or(e,t,134217728,n)}Gv(t,134217728)}};DN=function(t){if(t.tag===13){var e=Ci(t),n=Ds(t,e);if(n!==null){var r=Fn();Or(n,t,e,r)}Gv(t,e)}};MN=function(){return tt};ON=function(t,e){var n=tt;try{return tt=t,e()}finally{tt=n}};Eg=function(t,e,n){switch(e){case"input":if(gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ff(r);if(!s)throw Error(ee(90));fN(r),gg(r,s)}}}break;case"textarea":pN(t,n);break;case"select":e=n.value,e!=null&&Ra(t,!!n.multiple,e,!1)}};bN=zv;EN=Oo;var D4={usingClientEntryPoint:!1,Events:[Tu,Na,Ff,wN,_N,zv]},tc={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},M4={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$s.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=SN(t),t===null?null:t.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||P4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ad.isDisabled&&Ad.supportsFiber)try{Df=Ad.inject(M4),is=Ad}catch{}}gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D4;gr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qv(e))throw Error(ee(200));return A4(t,e,null,n)};gr.createRoot=function(t,e){if(!Qv(t))throw Error(ee(299));var n=!1,r="",s=sT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=qv(t,1,!1,null,null,n,!1,r,s),t[Rs]=e.current,Hc(t.nodeType===8?t.parentNode:t),new Kv(e)};gr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=SN(e),t=t===null?null:t.stateNode,t};gr.flushSync=function(t){return Oo(t)};gr.hydrate=function(t,e,n){if(!Gf(e))throw Error(ee(200));return Kf(null,t,e,!0,n)};gr.hydrateRoot=function(t,e,n){if(!Qv(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=sT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=rT(e,null,t,1,n??null,s,!1,i,o),t[Rs]=e.current,Hc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new qf(e)};gr.render=function(t,e,n){if(!Gf(e))throw Error(ee(200));return Kf(null,t,e,!1,n)};gr.unmountComponentAtNode=function(t){if(!Gf(t))throw Error(ee(40));return t._reactRootContainer?(Oo(function(){Kf(null,null,t,!1,function(){t._reactRootContainer=null,t[Rs]=null})}),!0):!1};gr.unstable_batchedUpdates=zv;gr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Gf(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Kf(t,e,n,!1,r)};gr.version="18.3.1-next-f1338f8080-20240426";function iT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iT)}catch(t){console.error(t)}}iT(),iN.exports=gr;var Xo=iN.exports;const oT=qE(Xo);var aT,J1=Xo;aT=J1.createRoot,J1.hydrateRoot;const O4=1,L4=1e6;let Sp=0;function F4(){return Sp=(Sp+1)%Number.MAX_SAFE_INTEGER,Sp.toString()}const Cp=new Map,Z1=t=>{if(Cp.has(t))return;const e=setTimeout(()=>{Cp.delete(t),Ic({type:"REMOVE_TOAST",toastId:t})},L4);Cp.set(t,e)},V4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,O4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?Z1(n):t.toasts.forEach(r=>{Z1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},lh=[];let ch={toasts:[]};function Ic(t){ch=V4(ch,t),lh.forEach(e=>{e(ch)})}function hc({...t}){const e=F4(),n=s=>Ic({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Ic({type:"DISMISS_TOAST",toastId:e});return Ic({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function Bn(){const[t,e]=N.useState(ch);return N.useEffect(()=>(lh.push(e),()=>{const n=lh.indexOf(e);n>-1&&lh.splice(n,1)}),[t]),{...t,toast:hc,dismiss:n=>Ic({type:"DISMISS_TOAST",toastId:n})}}function Te(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function U4(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function lT(...t){return e=>t.forEach(n=>U4(n,e))}function ct(...t){return N.useCallback(lT(...t),t)}function B4(t,e=[]){let n=[];function r(i,o){const l=N.createContext(o),c=n.length;n=[...n,o];function d(m){const{scope:h,children:p,...y}=m,g=(h==null?void 0:h[t][c])||l,w=N.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:p})}function u(m,h){const p=(h==null?void 0:h[t][c])||l,y=N.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,z4(s,...e)]}function z4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Lo=N.forwardRef((t,e)=>{const{children:n,...r}=t,s=N.Children.toArray(n),i=s.find($4);if(i){const o=i.props.children,l=s.map(c=>c===i?N.Children.count(o)>1?N.Children.only(null):N.isValidElement(o)?o.props.children:null:c);return a.jsx(ny,{...r,ref:e,children:N.isValidElement(o)?N.cloneElement(o,void 0,l):null})}return a.jsx(ny,{...r,ref:e,children:n})});Lo.displayName="Slot";var ny=N.forwardRef((t,e)=>{const{children:n,...r}=t;if(N.isValidElement(n)){const s=H4(n);return N.cloneElement(n,{...W4(r,n.props),ref:e?lT(e,s):s})}return N.Children.count(n)>1?N.Children.only(null):null});ny.displayName="SlotClone";var cT=({children:t})=>a.jsx(a.Fragment,{children:t});function $4(t){return N.isValidElement(t)&&t.type===cT}function W4(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...l)=>{i(...l),s(...l)}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function H4(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function uT(t){const e=t+"CollectionProvider",[n,r]=B4(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=p=>{const{scope:y,children:g}=p,w=re.useRef(null),v=re.useRef(new Map).current;return a.jsx(s,{scope:y,itemMap:v,collectionRef:w,children:g})};o.displayName=e;const l=t+"CollectionSlot",c=re.forwardRef((p,y)=>{const{scope:g,children:w}=p,v=i(l,g),x=ct(y,v.collectionRef);return a.jsx(Lo,{ref:x,children:w})});c.displayName=l;const d=t+"CollectionItemSlot",u="data-radix-collection-item",m=re.forwardRef((p,y)=>{const{scope:g,children:w,...v}=p,x=re.useRef(null),_=ct(y,x),C=i(d,g);return re.useEffect(()=>(C.itemMap.set(x,{ref:x,...v}),()=>void C.itemMap.delete(x))),a.jsx(Lo,{[u]:"",ref:_,children:w})});m.displayName=d;function h(p){const y=i(t+"CollectionConsumer",p);return re.useCallback(()=>{const w=y.collectionRef.current;if(!w)return[];const v=Array.from(w.querySelectorAll(`[${u}]`));return Array.from(y.itemMap.values()).sort((C,M)=>v.indexOf(C.ref.current)-v.indexOf(M.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:o,Slot:c,ItemSlot:m},h,r]}function q4(t,e){const n=N.createContext(e),r=i=>{const{children:o,...l}=i,c=N.useMemo(()=>l,Object.values(l));return a.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=N.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function Cu(t,e=[]){let n=[];function r(i,o){const l=N.createContext(o),c=n.length;n=[...n,o];const d=m=>{var v;const{scope:h,children:p,...y}=m,g=((v=h==null?void 0:h[t])==null?void 0:v[c])||l,w=N.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:p})};d.displayName=i+"Provider";function u(m,h){var g;const p=((g=h==null?void 0:h[t])==null?void 0:g[c])||l,y=N.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return[d,u]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,G4(s,...e)]}function G4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var K4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Oe=K4.reduce((t,e)=>{const n=N.forwardRef((r,s)=>{const{asChild:i,...o}=r,l=i?Lo:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(l,{...o,ref:s})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function dT(t,e){t&&Xo.flushSync(()=>t.dispatchEvent(e))}function mr(t){const e=N.useRef(t);return N.useEffect(()=>{e.current=t}),N.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Q4(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t);N.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Y4="DismissableLayer",ry="dismissableLayer.update",X4="dismissableLayer.pointerDownOutside",J4="dismissableLayer.focusOutside",e_,hT=N.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ku=N.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:l,...c}=t,d=N.useContext(hT),[u,m]=N.useState(null),h=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,p]=N.useState({}),y=ct(e,k=>m(k)),g=Array.from(d.layers),[w]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),v=g.indexOf(w),x=u?g.indexOf(u):-1,_=d.layersWithOutsidePointerEventsDisabled.size>0,C=x>=v,M=eD(k=>{const b=k.target,T=[...d.branches].some(S=>S.contains(b));!C||T||(s==null||s(k),o==null||o(k),k.defaultPrevented||l==null||l())},h),R=tD(k=>{const b=k.target;[...d.branches].some(S=>S.contains(b))||(i==null||i(k),o==null||o(k),k.defaultPrevented||l==null||l())},h);return Q4(k=>{x===d.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&l&&(k.preventDefault(),l()))},h),N.useEffect(()=>{if(u)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(e_=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(u)),d.layers.add(u),t_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=e_)}},[u,h,n,d]),N.useEffect(()=>()=>{u&&(d.layers.delete(u),d.layersWithOutsidePointerEventsDisabled.delete(u),t_())},[u,d]),N.useEffect(()=>{const k=()=>p({});return document.addEventListener(ry,k),()=>document.removeEventListener(ry,k)},[]),a.jsx(Oe.div,{...c,ref:y,style:{pointerEvents:_?C?"auto":"none":void 0,...t.style},onFocusCapture:Te(t.onFocusCapture,R.onFocusCapture),onBlurCapture:Te(t.onBlurCapture,R.onBlurCapture),onPointerDownCapture:Te(t.onPointerDownCapture,M.onPointerDownCapture)})});ku.displayName=Y4;var Z4="DismissableLayerBranch",fT=N.forwardRef((t,e)=>{const n=N.useContext(hT),r=N.useRef(null),s=ct(e,r);return N.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(Oe.div,{...t,ref:s})});fT.displayName=Z4;function eD(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t),r=N.useRef(!1),s=N.useRef(()=>{});return N.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let c=function(){mT(X4,n,d,{discrete:!0})};const d={originalEvent:l};l.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function tD(t,e=globalThis==null?void 0:globalThis.document){const n=mr(t),r=N.useRef(!1);return N.useEffect(()=>{const s=i=>{i.target&&!r.current&&mT(J4,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function t_(){const t=new CustomEvent(ry);document.dispatchEvent(t)}function mT(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dT(s,i):s.dispatchEvent(i)}var nD=ku,rD=fT,cn=globalThis!=null&&globalThis.document?N.useLayoutEffect:()=>{},sD="Portal",Qf=N.forwardRef((t,e)=>{var l;const{container:n,...r}=t,[s,i]=N.useState(!1);cn(()=>i(!0),[]);const o=n||s&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return o?oT.createPortal(a.jsx(Oe.div,{...r,ref:e}),o):null});Qf.displayName=sD;function iD(t,e){return N.useReducer((n,r)=>e[n][r]??n,t)}var Jo=t=>{const{present:e,children:n}=t,r=oD(e),s=typeof n=="function"?n({present:r.isPresent}):N.Children.only(n),i=ct(r.ref,aD(s));return typeof n=="function"||r.isPresent?N.cloneElement(s,{ref:i}):null};Jo.displayName="Presence";function oD(t){const[e,n]=N.useState(),r=N.useRef({}),s=N.useRef(t),i=N.useRef("none"),o=t?"mounted":"unmounted",[l,c]=iD(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return N.useEffect(()=>{const d=Pd(r.current);i.current=l==="mounted"?d:"none"},[l]),cn(()=>{const d=r.current,u=s.current;if(u!==t){const h=i.current,p=Pd(d);t?c("MOUNT"):p==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(u&&h!==p?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),cn(()=>{if(e){let d;const u=e.ownerDocument.defaultView??window,m=p=>{const g=Pd(r.current).includes(p.animationName);if(p.target===e&&g&&(c("ANIMATION_END"),!s.current)){const w=e.style.animationFillMode;e.style.animationFillMode="forwards",d=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=w)})}},h=p=>{p.target===e&&(i.current=Pd(r.current))};return e.addEventListener("animationstart",h),e.addEventListener("animationcancel",m),e.addEventListener("animationend",m),()=>{u.clearTimeout(d),e.removeEventListener("animationstart",h),e.removeEventListener("animationcancel",m),e.removeEventListener("animationend",m)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:N.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Pd(t){return(t==null?void 0:t.animationName)||"none"}function aD(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function eu({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,s]=lD({defaultProp:e,onChange:n}),i=t!==void 0,o=i?t:r,l=mr(n),c=N.useCallback(d=>{if(i){const m=typeof d=="function"?d(t):d;m!==t&&l(m)}else s(d)},[i,t,s,l]);return[o,c]}function lD({defaultProp:t,onChange:e}){const n=N.useState(t),[r]=n,s=N.useRef(r),i=mr(e);return N.useEffect(()=>{s.current!==r&&(i(r),s.current=r)},[r,s,i]),n}var cD="VisuallyHidden",Iu=N.forwardRef((t,e)=>a.jsx(Oe.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Iu.displayName=cD;var uD=Iu,Yv="ToastProvider",[Xv,dD,hD]=uT("Toast"),[pT,Yq]=Cu("Toast",[hD]),[fD,Yf]=pT(Yv),gT=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[l,c]=N.useState(null),[d,u]=N.useState(0),m=N.useRef(!1),h=N.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yv}\`. Expected non-empty \`string\`.`),a.jsx(Xv.Provider,{scope:e,children:a.jsx(fD,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:l,onViewportChange:c,onToastAdd:N.useCallback(()=>u(p=>p+1),[]),onToastRemove:N.useCallback(()=>u(p=>p-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:h,children:o})})};gT.displayName=Yv;var yT="ToastViewport",mD=["F8"],sy="toast.viewportPause",iy="toast.viewportResume",vT=N.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=mD,label:s="Notifications ({hotkey})",...i}=t,o=Yf(yT,n),l=dD(n),c=N.useRef(null),d=N.useRef(null),u=N.useRef(null),m=N.useRef(null),h=ct(e,m,o.onViewportChange),p=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),y=o.toastCount>0;N.useEffect(()=>{const w=v=>{var _;r.length!==0&&r.every(C=>v[C]||v.code===C)&&((_=m.current)==null||_.focus())};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[r]),N.useEffect(()=>{const w=c.current,v=m.current;if(y&&w&&v){const x=()=>{if(!o.isClosePausedRef.current){const R=new CustomEvent(sy);v.dispatchEvent(R),o.isClosePausedRef.current=!0}},_=()=>{if(o.isClosePausedRef.current){const R=new CustomEvent(iy);v.dispatchEvent(R),o.isClosePausedRef.current=!1}},C=R=>{!w.contains(R.relatedTarget)&&_()},M=()=>{w.contains(document.activeElement)||_()};return w.addEventListener("focusin",x),w.addEventListener("focusout",C),w.addEventListener("pointermove",x),w.addEventListener("pointerleave",M),window.addEventListener("blur",x),window.addEventListener("focus",_),()=>{w.removeEventListener("focusin",x),w.removeEventListener("focusout",C),w.removeEventListener("pointermove",x),w.removeEventListener("pointerleave",M),window.removeEventListener("blur",x),window.removeEventListener("focus",_)}}},[y,o.isClosePausedRef]);const g=N.useCallback(({tabbingDirection:w})=>{const x=l().map(_=>{const C=_.ref.current,M=[C,...CD(C)];return w==="forwards"?M:M.reverse()});return(w==="forwards"?x.reverse():x).flat()},[l]);return N.useEffect(()=>{const w=m.current;if(w){const v=x=>{var M,R,k;const _=x.altKey||x.ctrlKey||x.metaKey;if(x.key==="Tab"&&!_){const b=document.activeElement,T=x.shiftKey;if(x.target===w&&T){(M=d.current)==null||M.focus();return}const P=g({tabbingDirection:T?"backwards":"forwards"}),j=P.findIndex(V=>V===b);kp(P.slice(j+1))?x.preventDefault():T?(R=d.current)==null||R.focus():(k=u.current)==null||k.focus()}};return w.addEventListener("keydown",v),()=>w.removeEventListener("keydown",v)}},[l,g]),a.jsxs(rD,{ref:c,role:"region","aria-label":s.replace("{hotkey}",p),tabIndex:-1,style:{pointerEvents:y?void 0:"none"},children:[y&&a.jsx(oy,{ref:d,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"forwards"});kp(w)}}),a.jsx(Xv.Slot,{scope:n,children:a.jsx(Oe.ol,{tabIndex:-1,...i,ref:h})}),y&&a.jsx(oy,{ref:u,onFocusFromOutsideViewport:()=>{const w=g({tabbingDirection:"backwards"});kp(w)}})]})});vT.displayName=yT;var xT="ToastFocusProxy",oy=N.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Yf(xT,n);return a.jsx(Iu,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const l=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(l))&&r()}})});oy.displayName=xT;var Xf="Toast",pD="toast.swipeStart",gD="toast.swipeMove",yD="toast.swipeCancel",vD="toast.swipeEnd",wT=N.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[l=!0,c]=eu({prop:r,defaultProp:s,onChange:i});return a.jsx(Jo,{present:n||l,children:a.jsx(_D,{open:l,...o,ref:e,onClose:()=>c(!1),onPause:mr(t.onPause),onResume:mr(t.onResume),onSwipeStart:Te(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Te(t.onSwipeMove,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Te(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Te(t.onSwipeEnd,d=>{const{x:u,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),c(!1)})})})});wT.displayName=Xf;var[xD,wD]=pT(Xf,{onClose(){}}),_D=N.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:l,onPause:c,onResume:d,onSwipeStart:u,onSwipeMove:m,onSwipeCancel:h,onSwipeEnd:p,...y}=t,g=Yf(Xf,n),[w,v]=N.useState(null),x=ct(e,V=>v(V)),_=N.useRef(null),C=N.useRef(null),M=s||g.duration,R=N.useRef(0),k=N.useRef(M),b=N.useRef(0),{onToastAdd:T,onToastRemove:S}=g,A=mr(()=>{var B;(w==null?void 0:w.contains(document.activeElement))&&((B=g.viewport)==null||B.focus()),o()}),P=N.useCallback(V=>{!V||V===1/0||(window.clearTimeout(b.current),R.current=new Date().getTime(),b.current=window.setTimeout(A,V))},[A]);N.useEffect(()=>{const V=g.viewport;if(V){const B=()=>{P(k.current),d==null||d()},O=()=>{const D=new Date().getTime()-R.current;k.current=k.current-D,window.clearTimeout(b.current),c==null||c()};return V.addEventListener(sy,O),V.addEventListener(iy,B),()=>{V.removeEventListener(sy,O),V.removeEventListener(iy,B)}}},[g.viewport,M,c,d,P]),N.useEffect(()=>{i&&!g.isClosePausedRef.current&&P(M)},[i,M,g.isClosePausedRef,P]),N.useEffect(()=>(T(),()=>S()),[T,S]);const j=N.useMemo(()=>w?CT(w):null,[w]);return g.viewport?a.jsxs(a.Fragment,{children:[j&&a.jsx(bD,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:j}),a.jsx(xD,{scope:n,onClose:A,children:Xo.createPortal(a.jsx(Xv.ItemSlot,{scope:n,children:a.jsx(nD,{asChild:!0,onEscapeKeyDown:Te(l,()=>{g.isFocusedToastEscapeKeyDownRef.current||A(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:a.jsx(Oe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":g.swipeDirection,...y,ref:x,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Te(t.onKeyDown,V=>{V.key==="Escape"&&(l==null||l(V.nativeEvent),V.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,A()))}),onPointerDown:Te(t.onPointerDown,V=>{V.button===0&&(_.current={x:V.clientX,y:V.clientY})}),onPointerMove:Te(t.onPointerMove,V=>{if(!_.current)return;const B=V.clientX-_.current.x,O=V.clientY-_.current.y,D=!!C.current,F=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,z=F?U(0,B):0,G=F?0:U(0,O),W=V.pointerType==="touch"?10:2,Q={x:z,y:G},Y={originalEvent:V,delta:Q};D?(C.current=Q,Rd(gD,m,Y,{discrete:!1})):n_(Q,g.swipeDirection,W)?(C.current=Q,Rd(pD,u,Y,{discrete:!1}),V.target.setPointerCapture(V.pointerId)):(Math.abs(B)>W||Math.abs(O)>W)&&(_.current=null)}),onPointerUp:Te(t.onPointerUp,V=>{const B=C.current,O=V.target;if(O.hasPointerCapture(V.pointerId)&&O.releasePointerCapture(V.pointerId),C.current=null,_.current=null,B){const D=V.currentTarget,F={originalEvent:V,delta:B};n_(B,g.swipeDirection,g.swipeThreshold)?Rd(vD,p,F,{discrete:!0}):Rd(yD,h,F,{discrete:!0}),D.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),bD=t=>{const{__scopeToast:e,children:n,...r}=t,s=Yf(Xf,e),[i,o]=N.useState(!1),[l,c]=N.useState(!1);return TD(()=>o(!0)),N.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),l?null:a.jsx(Qf,{asChild:!0,children:a.jsx(Iu,{...r,children:i&&a.jsxs(a.Fragment,{children:[s.label," ",n]})})})},ED="ToastTitle",_T=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Oe.div,{...r,ref:e})});_T.displayName=ED;var ND="ToastDescription",bT=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return a.jsx(Oe.div,{...r,ref:e})});bT.displayName=ND;var ET="ToastAction",NT=N.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?a.jsx(ST,{altText:n,asChild:!0,children:a.jsx(Jv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${ET}\`. Expected non-empty \`string\`.`),null)});NT.displayName=ET;var TT="ToastClose",Jv=N.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=wD(TT,n);return a.jsx(ST,{asChild:!0,children:a.jsx(Oe.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,s.onClose)})})});Jv.displayName=TT;var ST=N.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return a.jsx(Oe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function CT(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),SD(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...CT(r))}}),e}function Rd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?dT(s,i):s.dispatchEvent(i)}var n_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function TD(t=()=>{}){const e=mr(t);cn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function SD(t){return t.nodeType===t.ELEMENT_NODE}function CD(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function kp(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var kD=gT,kT=vT,IT=wT,jT=_T,AT=bT,PT=NT,RT=Jv;function DT(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=DT(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function MT(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=DT(t))&&(r&&(r+=" "),r+=e);return r}const r_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,s_=MT,Jf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return s_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const u=n==null?void 0:n[d],m=i==null?void 0:i[d];if(u===null)return null;const h=r_(u)||r_(m);return s[d][h]}),l=n&&Object.entries(n).reduce((d,u)=>{let[m,h]=u;return h===void 0||(d[m]=h),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,u)=>{let{class:m,className:h,...p}=u;return Object.entries(p).every(y=>{let[g,w]=y;return Array.isArray(w)?w.includes({...i,...l}[g]):{...i,...l}[g]===w})?[...d,m,h]:d},[]);return s_(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),OT=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...l},c)=>N.createElement("svg",{ref:c,...jD,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:OT("lucide",s),...l},[...o.map(([d,u])=>N.createElement(d,u)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const je=(t,e)=>{const n=N.forwardRef(({className:r,...s},i)=>N.createElement(AD,{ref:i,iconNode:e,className:OT(`lucide-${ID(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zn=je("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ip=je("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=je("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=je("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=je("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=je("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=je("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LT=je("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=je("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FT=je("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=je("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VT=je("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=je("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i_=je("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tu=je("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=je("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=je("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=je("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ju=je("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=je("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=je("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=je("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=je("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=je("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lr=je("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Au=je("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=je("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ii=je("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=je("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=je("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=je("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UD=je("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=je("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pu=je("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=je("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=je("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jt=je("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nc=je("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ru=je("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ix="-",WD=t=>{const e=qD(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const l=o.split(ix);return l[0]===""&&l.length!==1&&l.shift(),UT(l,e)||HD(o)},getConflictingClassGroupIds:(o,l)=>{const c=n[o]||[];return l&&r[o]?[...c,...r[o]]:c}}},UT=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?UT(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(ix);return(o=e.validators.find(({validator:l})=>l(i)))==null?void 0:o.classGroupId},o_=/^\[(.+)\]$/,HD=t=>{if(o_.test(t)){const e=o_.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},qD=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return KD(Object.entries(t.classGroups),n).forEach(([i,o])=>{ly(o,r,i,e)}),r},ly=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:a_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(GD(s)){ly(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{ly(o,a_(e,i),n,r)})})},a_=(t,e)=>{let n=t;return e.split(ix).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},GD=t=>t.isThemeGetter,KD=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,l])=>[e+o,l])):i);return[n,s]}):t,QD=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},BT="!",YD=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=l=>{const c=[];let d=0,u=0,m;for(let w=0;w<l.length;w++){let v=l[w];if(d===0){if(v===s&&(r||l.slice(w,w+i)===e)){c.push(l.slice(u,w)),u=w+i;continue}if(v==="/"){m=w;continue}}v==="["?d++:v==="]"&&d--}const h=c.length===0?l:l.substring(u),p=h.startsWith(BT),y=p?h.substring(1):h,g=m&&m>u?m-u:void 0;return{modifiers:c,hasImportantModifier:p,baseClassName:y,maybePostfixModifierPosition:g}};return n?l=>n({className:l,parseClassName:o}):o},XD=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},JD=t=>({cache:QD(t.cacheSize),parseClassName:YD(t),...WD(t)}),ZD=/\s+/,eM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(ZD);let l="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:u,hasImportantModifier:m,baseClassName:h,maybePostfixModifierPosition:p}=n(d);let y=!!p,g=r(y?h.substring(0,p):h);if(!g){if(!y){l=d+(l.length>0?" "+l:l);continue}if(g=r(h),!g){l=d+(l.length>0?" "+l:l);continue}y=!1}const w=XD(u).join(":"),v=m?w+BT:w,x=v+g;if(i.includes(x))continue;i.push(x);const _=s(g,y);for(let C=0;C<_.length;++C){const M=_[C];i.push(v+M)}l=d+(l.length>0?" "+l:l)}return l};function tM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=zT(e))&&(r&&(r+=" "),r+=n);return r}const zT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=zT(t[r]))&&(n&&(n+=" "),n+=e);return n};function nM(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((u,m)=>m(u),t());return n=JD(d),r=n.cache.get,s=n.cache.set,i=l,l(c)}function l(c){const d=r(c);if(d)return d;const u=eM(c,n);return s(c,u),u}return function(){return i(tM.apply(null,arguments))}}const ft=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},$T=/^\[(?:([a-z-]+):)?(.+)\]$/i,rM=/^\d+\/\d+$/,sM=new Set(["px","full","screen"]),iM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,oM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,lM=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cM=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xs=t=>Va(t)||sM.has(t)||rM.test(t),Ys=t=>El(t,"length",yM),Va=t=>!!t&&!Number.isNaN(Number(t)),jp=t=>El(t,"number",Va),rc=t=>!!t&&Number.isInteger(Number(t)),uM=t=>t.endsWith("%")&&Va(t.slice(0,-1)),Ce=t=>$T.test(t),Xs=t=>iM.test(t),dM=new Set(["length","size","percentage"]),hM=t=>El(t,dM,WT),fM=t=>El(t,"position",WT),mM=new Set(["image","url"]),pM=t=>El(t,mM,xM),gM=t=>El(t,"",vM),sc=()=>!0,El=(t,e,n)=>{const r=$T.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},yM=t=>oM.test(t)&&!aM.test(t),WT=()=>!1,vM=t=>lM.test(t),xM=t=>cM.test(t),wM=()=>{const t=ft("colors"),e=ft("spacing"),n=ft("blur"),r=ft("brightness"),s=ft("borderColor"),i=ft("borderRadius"),o=ft("borderSpacing"),l=ft("borderWidth"),c=ft("contrast"),d=ft("grayscale"),u=ft("hueRotate"),m=ft("invert"),h=ft("gap"),p=ft("gradientColorStops"),y=ft("gradientColorStopPositions"),g=ft("inset"),w=ft("margin"),v=ft("opacity"),x=ft("padding"),_=ft("saturate"),C=ft("scale"),M=ft("sepia"),R=ft("skew"),k=ft("space"),b=ft("translate"),T=()=>["auto","contain","none"],S=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto",Ce,e],P=()=>[Ce,e],j=()=>["",xs,Ys],V=()=>["auto",Va,Ce],B=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],O=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",Ce],z=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[Va,Ce];return{cacheSize:500,separator:":",theme:{colors:[sc],spacing:[xs,Ys],blur:["none","",Xs,Ce],brightness:G(),borderColor:[t],borderRadius:["none","","full",Xs,Ce],borderSpacing:P(),borderWidth:j(),contrast:G(),grayscale:U(),hueRotate:G(),invert:U(),gap:P(),gradientColorStops:[t],gradientColorStopPositions:[uM,Ys],inset:A(),margin:A(),opacity:G(),padding:P(),saturate:G(),scale:G(),sepia:U(),skew:G(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ce]}],container:["container"],columns:[{columns:[Xs]}],"break-after":[{"break-after":z()}],"break-before":[{"break-before":z()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...B(),Ce]}],overflow:[{overflow:S()}],"overflow-x":[{"overflow-x":S()}],"overflow-y":[{"overflow-y":S()}],overscroll:[{overscroll:T()}],"overscroll-x":[{"overscroll-x":T()}],"overscroll-y":[{"overscroll-y":T()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",rc,Ce]}],basis:[{basis:A()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ce]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",rc,Ce]}],"grid-cols":[{"grid-cols":[sc]}],"col-start-end":[{col:["auto",{span:["full",rc,Ce]},Ce]}],"col-start":[{"col-start":V()}],"col-end":[{"col-end":V()}],"grid-rows":[{"grid-rows":[sc]}],"row-start-end":[{row:["auto",{span:[rc,Ce]},Ce]}],"row-start":[{"row-start":V()}],"row-end":[{"row-end":V()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ce]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ce]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[x]}],px:[{px:[x]}],py:[{py:[x]}],ps:[{ps:[x]}],pe:[{pe:[x]}],pt:[{pt:[x]}],pr:[{pr:[x]}],pb:[{pb:[x]}],pl:[{pl:[x]}],m:[{m:[w]}],mx:[{mx:[w]}],my:[{my:[w]}],ms:[{ms:[w]}],me:[{me:[w]}],mt:[{mt:[w]}],mr:[{mr:[w]}],mb:[{mb:[w]}],ml:[{ml:[w]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ce,e]}],"min-w":[{"min-w":[Ce,e,"min","max","fit"]}],"max-w":[{"max-w":[Ce,e,"none","full","min","max","fit","prose",{screen:[Xs]},Xs]}],h:[{h:[Ce,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ce,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ce,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Xs,Ys]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",jp]}],"font-family":[{font:[sc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ce]}],"line-clamp":[{"line-clamp":["none",Va,jp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xs,Ce]}],"list-image":[{"list-image":["none",Ce]}],"list-style-type":[{list:["none","disc","decimal",Ce]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[v]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[v]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...O(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xs,Ys]}],"underline-offset":[{"underline-offset":["auto",xs,Ce]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ce]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ce]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[v]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...B(),fM]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",hM]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pM]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[l]}],"border-w-x":[{"border-x":[l]}],"border-w-y":[{"border-y":[l]}],"border-w-s":[{"border-s":[l]}],"border-w-e":[{"border-e":[l]}],"border-w-t":[{"border-t":[l]}],"border-w-r":[{"border-r":[l]}],"border-w-b":[{"border-b":[l]}],"border-w-l":[{"border-l":[l]}],"border-opacity":[{"border-opacity":[v]}],"border-style":[{border:[...O(),"hidden"]}],"divide-x":[{"divide-x":[l]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[l]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[v]}],"divide-style":[{divide:O()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...O()]}],"outline-offset":[{"outline-offset":[xs,Ce]}],"outline-w":[{outline:[xs,Ys]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:j()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[v]}],"ring-offset-w":[{"ring-offset":[xs,Ys]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Xs,gM]}],"shadow-color":[{shadow:[sc]}],opacity:[{opacity:[v]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Xs,Ce]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[m]}],saturate:[{saturate:[_]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[v]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ce]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",Ce]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ce]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[C]}],"scale-x":[{"scale-x":[C]}],"scale-y":[{"scale-y":[C]}],rotate:[{rotate:[rc,Ce]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ce]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ce]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ce]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xs,Ys,jp]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},_M=nM(wM);function Se(...t){return _M(MT(t))}const bM=kD,HT=N.forwardRef(({className:t,...e},n)=>a.jsx(kT,{ref:n,className:Se("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));HT.displayName=kT.displayName;const EM=Jf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qT=N.forwardRef(({className:t,variant:e,...n},r)=>a.jsx(IT,{ref:r,className:Se(EM({variant:e}),t),...n}));qT.displayName=IT.displayName;const NM=N.forwardRef(({className:t,...e},n)=>a.jsx(PT,{ref:n,className:Se("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));NM.displayName=PT.displayName;const GT=N.forwardRef(({className:t,...e},n)=>a.jsx(RT,{ref:n,className:Se("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:a.jsx(Ru,{className:"h-4 w-4"})}));GT.displayName=RT.displayName;const KT=N.forwardRef(({className:t,...e},n)=>a.jsx(jT,{ref:n,className:Se("text-sm font-semibold",t),...e}));KT.displayName=jT.displayName;const QT=N.forwardRef(({className:t,...e},n)=>a.jsx(AT,{ref:n,className:Se("text-sm opacity-90",t),...e}));QT.displayName=AT.displayName;function TM(){const{toasts:t}=Bn();return a.jsxs(bM,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return a.jsxs(qT,{...i,children:[a.jsxs("div",{className:"grid gap-1",children:[n&&a.jsx(KT,{children:n}),r&&a.jsx(QT,{children:r})]}),s,a.jsx(GT,{})]},e)}),a.jsx(HT,{})]})}var l_=["light","dark"],SM="(prefers-color-scheme: dark)",CM=N.createContext(void 0),kM={setTheme:t=>{},themes:[]},IM=()=>{var t;return(t=N.useContext(CM))!=null?t:kM};N.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:l,nonce:c})=>{let d=i==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${l.map(y=>`'${y}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,m=s?l_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",h=(y,g=!1,w=!0)=>{let v=o?o[y]:y,x=g?y+"|| ''":`'${v}'`,_="";return s&&w&&!g&&l_.includes(y)&&(_+=`d.style.colorScheme = '${y}';`),n==="class"?g||v?_+=`c.add(${x})`:_+="null":v&&(_+=`d[s](n,${x})`),_},p=t?`!function(){${u}${h(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${SM}',m=window.matchMedia(t);if(m.media!==t||m.matches){${h("dark")}}else{${h("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}${d?"":"else{"+h(i,!1,!1)+"}"}${m}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${h(o?"x[e]":"e",!0)}}else{${h(i,!1,!1)};}${m}}catch(t){}}();`;return N.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:p}})});var jM=t=>{switch(t){case"success":return RM;case"info":return MM;case"warning":return DM;case"error":return OM;default:return null}},AM=Array(12).fill(0),PM=({visible:t})=>re.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},re.createElement("div",{className:"sonner-spinner"},AM.map((e,n)=>re.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),RM=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),DM=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),MM=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),OM=re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},re.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),LM=()=>{let[t,e]=re.useState(document.hidden);return re.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},cy=1,FM=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;let{message:r,...s}=e,i=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:cy++,o=this.toasts.find(c=>c.id===i),l=e.dismissible===void 0?!0:e.dismissible;return o?this.toasts=this.toasts.map(c=>c.id===i?(this.publish({...c,...e,id:i,title:r}),{...c,...e,id:i,dismissible:l,title:r}):c):this.addToast({title:r,...s,dismissible:l,id:i}),i},this.dismiss=e=>(e||this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),this.subscribers.forEach(n=>n({id:e,dismiss:!0})),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));let s=e instanceof Promise?e:e(),i=r!==void 0;return s.then(async o=>{if(UM(o)&&!o.ok){i=!1;let l=typeof n.error=="function"?await n.error(`HTTP error! status: ${o.status}`):n.error,c=typeof n.description=="function"?await n.description(`HTTP error! status: ${o.status}`):n.description;this.create({id:r,type:"error",message:l,description:c})}else if(n.success!==void 0){i=!1;let l=typeof n.success=="function"?await n.success(o):n.success,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"success",message:l,description:c})}}).catch(async o=>{if(n.error!==void 0){i=!1;let l=typeof n.error=="function"?await n.error(o):n.error,c=typeof n.description=="function"?await n.description(o):n.description;this.create({id:r,type:"error",message:l,description:c})}}).finally(()=>{var o;i&&(this.dismiss(r),r=void 0),(o=n.finally)==null||o.call(n)}),r},this.custom=(e,n)=>{let r=(n==null?void 0:n.id)||cy++;return this.create({jsx:e(r),id:r,...n}),r},this.subscribers=[],this.toasts=[]}},rr=new FM,VM=(t,e)=>{let n=(e==null?void 0:e.id)||cy++;return rr.addToast({title:t,...e,id:n}),n},UM=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",BM=VM,zM=()=>rr.toasts;Object.assign(BM,{success:rr.success,info:rr.info,warning:rr.warning,error:rr.error,custom:rr.custom,message:rr.message,promise:rr.promise,dismiss:rr.dismiss,loading:rr.loading},{getHistory:zM});function $M(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$M(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Dd(t){return t.label!==void 0}var WM=3,HM="32px",qM=4e3,GM=356,KM=14,QM=20,YM=200;function XM(...t){return t.filter(Boolean).join(" ")}var JM=t=>{var e,n,r,s,i,o,l,c,d,u;let{invert:m,toast:h,unstyled:p,interacting:y,setHeights:g,visibleToasts:w,heights:v,index:x,toasts:_,expanded:C,removeToast:M,defaultRichColors:R,closeButton:k,style:b,cancelButtonStyle:T,actionButtonStyle:S,className:A="",descriptionClassName:P="",duration:j,position:V,gap:B,loadingIcon:O,expandByDefault:D,classNames:F,icons:U,closeButtonAriaLabel:z="Close toast",pauseWhenPageIsHidden:G,cn:W}=t,[Q,Y]=re.useState(!1),[q,ne]=re.useState(!1),[te,de]=re.useState(!1),[ge,ue]=re.useState(!1),[he,pe]=re.useState(0),[rt,nt]=re.useState(0),Le=re.useRef(null),We=re.useRef(null),Ve=x===0,qe=x+1<=w,Ae=h.type,ot=h.dismissible!==!1,dt=h.className||"",Zt=h.descriptionClassName||"",Je=re.useMemo(()=>v.findIndex(xe=>xe.toastId===h.id)||0,[v,h.id]),Ge=re.useMemo(()=>{var xe;return(xe=h.closeButton)!=null?xe:k},[h.closeButton,k]),$t=re.useMemo(()=>h.duration||j||qM,[h.duration,j]),Ze=re.useRef(0),st=re.useRef(0),yt=re.useRef(0),en=re.useRef(null),[At,kn]=V.split("-"),Pt=re.useMemo(()=>v.reduce((xe,Ke,Fe)=>Fe>=Je?xe:xe+Ke.height,0),[v,Je]),In=LM(),jn=h.invert||m,An=Ae==="loading";st.current=re.useMemo(()=>Je*B+Pt,[Je,Pt]),re.useEffect(()=>{Y(!0)},[]),re.useLayoutEffect(()=>{if(!Q)return;let xe=We.current,Ke=xe.style.height;xe.style.height="auto";let Fe=xe.getBoundingClientRect().height;xe.style.height=Ke,nt(Fe),g(Gt=>Gt.find(wt=>wt.toastId===h.id)?Gt.map(wt=>wt.toastId===h.id?{...wt,height:Fe}:wt):[{toastId:h.id,height:Fe,position:h.position},...Gt])},[Q,h.title,h.description,g,h.id]);let $n=re.useCallback(()=>{ne(!0),pe(st.current),g(xe=>xe.filter(Ke=>Ke.toastId!==h.id)),setTimeout(()=>{M(h)},YM)},[h,M,g,st]);re.useEffect(()=>{if(h.promise&&Ae==="loading"||h.duration===1/0||h.type==="loading")return;let xe,Ke=$t;return C||y||G&&In?(()=>{if(yt.current<Ze.current){let Fe=new Date().getTime()-Ze.current;Ke=Ke-Fe}yt.current=new Date().getTime()})():Ke!==1/0&&(Ze.current=new Date().getTime(),xe=setTimeout(()=>{var Fe;(Fe=h.onAutoClose)==null||Fe.call(h,h),$n()},Ke)),()=>clearTimeout(xe)},[C,y,D,h,$t,$n,h.promise,Ae,G,In]),re.useEffect(()=>{let xe=We.current;if(xe){let Ke=xe.getBoundingClientRect().height;return nt(Ke),g(Fe=>[{toastId:h.id,height:Ke,position:h.position},...Fe]),()=>g(Fe=>Fe.filter(Gt=>Gt.toastId!==h.id))}},[g,h.id]),re.useEffect(()=>{h.delete&&$n()},[$n,h.delete]);function Ll(){return U!=null&&U.loading?re.createElement("div",{className:"sonner-loader","data-visible":Ae==="loading"},U.loading):O?re.createElement("div",{className:"sonner-loader","data-visible":Ae==="loading"},O):re.createElement(PM,{visible:Ae==="loading"})}return re.createElement("li",{"aria-live":h.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:We,className:W(A,dt,F==null?void 0:F.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,F==null?void 0:F.default,F==null?void 0:F[Ae],(n=h==null?void 0:h.classNames)==null?void 0:n[Ae]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:R,"data-styled":!(h.jsx||h.unstyled||p),"data-mounted":Q,"data-promise":!!h.promise,"data-removed":q,"data-visible":qe,"data-y-position":At,"data-x-position":kn,"data-index":x,"data-front":Ve,"data-swiping":te,"data-dismissible":ot,"data-type":Ae,"data-invert":jn,"data-swipe-out":ge,"data-expanded":!!(C||D&&Q),style:{"--index":x,"--toasts-before":x,"--z-index":_.length-x,"--offset":`${q?he:st.current}px`,"--initial-height":D?"auto":`${rt}px`,...b,...h.style},onPointerDown:xe=>{An||!ot||(Le.current=new Date,pe(st.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(de(!0),en.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,Ke,Fe,Gt;if(ge||!ot)return;en.current=null;let wt=Number(((xe=We.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),tn=new Date().getTime()-((Ke=Le.current)==null?void 0:Ke.getTime()),dn=Math.abs(wt)/tn;if(Math.abs(wt)>=QM||dn>.11){pe(st.current),(Fe=h.onDismiss)==null||Fe.call(h,h),$n(),ue(!0);return}(Gt=We.current)==null||Gt.style.setProperty("--swipe-amount","0px"),de(!1)},onPointerMove:xe=>{var Ke;if(!en.current||!ot)return;let Fe=xe.clientY-en.current.y,Gt=xe.clientX-en.current.x,wt=(At==="top"?Math.min:Math.max)(0,Fe),tn=xe.pointerType==="touch"?10:2;Math.abs(wt)>tn?(Ke=We.current)==null||Ke.style.setProperty("--swipe-amount",`${Fe}px`):Math.abs(Gt)>tn&&(en.current=null)}},Ge&&!h.jsx?re.createElement("button",{"aria-label":z,"data-disabled":An,"data-close-button":!0,onClick:An||!ot?()=>{}:()=>{var xe;$n(),(xe=h.onDismiss)==null||xe.call(h,h)},className:W(F==null?void 0:F.closeButton,(s=h==null?void 0:h.classNames)==null?void 0:s.closeButton)},re.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},re.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),re.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,h.jsx||re.isValidElement(h.title)?h.jsx||h.title:re.createElement(re.Fragment,null,Ae||h.icon||h.promise?re.createElement("div",{"data-icon":"",className:W(F==null?void 0:F.icon,(i=h==null?void 0:h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||Ll():null,h.type!=="loading"?h.icon||(U==null?void 0:U[Ae])||jM(Ae):null):null,re.createElement("div",{"data-content":"",className:W(F==null?void 0:F.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},re.createElement("div",{"data-title":"",className:W(F==null?void 0:F.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},h.title),h.description?re.createElement("div",{"data-description":"",className:W(P,Zt,F==null?void 0:F.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},h.description):null),re.isValidElement(h.cancel)?h.cancel:h.cancel&&Dd(h.cancel)?re.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||T,onClick:xe=>{var Ke,Fe;Dd(h.cancel)&&ot&&((Fe=(Ke=h.cancel).onClick)==null||Fe.call(Ke,xe),$n())},className:W(F==null?void 0:F.cancelButton,(d=h==null?void 0:h.classNames)==null?void 0:d.cancelButton)},h.cancel.label):null,re.isValidElement(h.action)?h.action:h.action&&Dd(h.action)?re.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||S,onClick:xe=>{var Ke,Fe;Dd(h.action)&&(xe.defaultPrevented||((Fe=(Ke=h.action).onClick)==null||Fe.call(Ke,xe),$n()))},className:W(F==null?void 0:F.actionButton,(u=h==null?void 0:h.classNames)==null?void 0:u.actionButton)},h.action.label):null))};function c_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var ZM=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:s,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:m,visibleToasts:h=WM,toastOptions:p,dir:y=c_(),gap:g=KM,loadingIcon:w,icons:v,containerAriaLabel:x="Notifications",pauseWhenPageIsHidden:_,cn:C=XM}=t,[M,R]=re.useState([]),k=re.useMemo(()=>Array.from(new Set([n].concat(M.filter(G=>G.position).map(G=>G.position)))),[M,n]),[b,T]=re.useState([]),[S,A]=re.useState(!1),[P,j]=re.useState(!1),[V,B]=re.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),O=re.useRef(null),D=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),F=re.useRef(null),U=re.useRef(!1),z=re.useCallback(G=>{var W;(W=M.find(Q=>Q.id===G.id))!=null&&W.delete||rr.dismiss(G.id),R(Q=>Q.filter(({id:Y})=>Y!==G.id))},[M]);return re.useEffect(()=>rr.subscribe(G=>{if(G.dismiss){R(W=>W.map(Q=>Q.id===G.id?{...Q,delete:!0}:Q));return}setTimeout(()=>{oT.flushSync(()=>{R(W=>{let Q=W.findIndex(Y=>Y.id===G.id);return Q!==-1?[...W.slice(0,Q),{...W[Q],...G},...W.slice(Q+1)]:[G,...W]})})})}),[]),re.useEffect(()=>{if(c!=="system"){B(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?B("dark"):B("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:G})=>{B(G?"dark":"light")})},[c]),re.useEffect(()=>{M.length<=1&&A(!1)},[M]),re.useEffect(()=>{let G=W=>{var Q,Y;r.every(q=>W[q]||W.code===q)&&(A(!0),(Q=O.current)==null||Q.focus()),W.code==="Escape"&&(document.activeElement===O.current||(Y=O.current)!=null&&Y.contains(document.activeElement))&&A(!1)};return document.addEventListener("keydown",G),()=>document.removeEventListener("keydown",G)},[r]),re.useEffect(()=>{if(O.current)return()=>{F.current&&(F.current.focus({preventScroll:!0}),F.current=null,U.current=!1)}},[O.current]),M.length?re.createElement("section",{"aria-label":`${x} ${D}`,tabIndex:-1},k.map((G,W)=>{var Q;let[Y,q]=G.split("-");return re.createElement("ol",{key:G,dir:y==="auto"?c_():y,tabIndex:-1,ref:O,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":Y,"data-x-position":q,style:{"--front-toast-height":`${((Q=b[0])==null?void 0:Q.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||HM,"--width":`${GM}px`,"--gap":`${g}px`,...m},onBlur:ne=>{U.current&&!ne.currentTarget.contains(ne.relatedTarget)&&(U.current=!1,F.current&&(F.current.focus({preventScroll:!0}),F.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||U.current||(U.current=!0,F.current=ne.relatedTarget)},onMouseEnter:()=>A(!0),onMouseMove:()=>A(!0),onMouseLeave:()=>{P||A(!1)},onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||j(!0)},onPointerUp:()=>j(!1)},M.filter(ne=>!ne.position&&W===0||ne.position===G).map((ne,te)=>{var de,ge;return re.createElement(JM,{key:ne.id,icons:v,index:te,toast:ne,defaultRichColors:d,duration:(de=p==null?void 0:p.duration)!=null?de:u,className:p==null?void 0:p.className,descriptionClassName:p==null?void 0:p.descriptionClassName,invert:e,visibleToasts:h,closeButton:(ge=p==null?void 0:p.closeButton)!=null?ge:i,interacting:P,position:G,style:p==null?void 0:p.style,unstyled:p==null?void 0:p.unstyled,classNames:p==null?void 0:p.classNames,cancelButtonStyle:p==null?void 0:p.cancelButtonStyle,actionButtonStyle:p==null?void 0:p.actionButtonStyle,removeToast:z,toasts:M.filter(ue=>ue.position==ne.position),heights:b.filter(ue=>ue.position==ne.position),setHeights:T,expandByDefault:s,gap:g,loadingIcon:w,expanded:S,pauseWhenPageIsHidden:_,cn:C})}))})):null};const e3=({...t})=>{const{theme:e="system"}=IM();return a.jsx(ZM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var t3=rN.useId||(()=>{}),n3=0;function jo(t){const[e,n]=N.useState(t3());return cn(()=>{n(r=>r??String(n3++))},[t]),e?`radix-${e}`:""}const r3=["top","right","bottom","left"],Li=Math.min,ir=Math.max,Xh=Math.round,Md=Math.floor,Fi=t=>({x:t,y:t}),s3={left:"right",right:"left",bottom:"top",top:"bottom"},i3={start:"end",end:"start"};function uy(t,e,n){return ir(t,Li(e,n))}function Os(t,e){return typeof t=="function"?t(e):t}function Ls(t){return t.split("-")[0]}function Nl(t){return t.split("-")[1]}function ox(t){return t==="x"?"y":"x"}function ax(t){return t==="y"?"height":"width"}function Vi(t){return["top","bottom"].includes(Ls(t))?"y":"x"}function lx(t){return ox(Vi(t))}function o3(t,e,n){n===void 0&&(n=!1);const r=Nl(t),s=lx(t),i=ax(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Jh(o)),[o,Jh(o)]}function a3(t){const e=Jh(t);return[dy(t),e,dy(e)]}function dy(t){return t.replace(/start|end/g,e=>i3[e])}function l3(t,e,n){const r=["left","right"],s=["right","left"],i=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?s:r:e?r:s;case"left":case"right":return e?i:o;default:return[]}}function c3(t,e,n,r){const s=Nl(t);let i=l3(Ls(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(dy)))),i}function Jh(t){return t.replace(/left|right|bottom|top/g,e=>s3[e])}function u3(t){return{top:0,right:0,bottom:0,left:0,...t}}function YT(t){return typeof t!="number"?u3(t):{top:t,right:t,bottom:t,left:t}}function Zh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function u_(t,e,n){let{reference:r,floating:s}=t;const i=Vi(e),o=lx(e),l=ax(o),c=Ls(e),d=i==="y",u=r.x+r.width/2-s.width/2,m=r.y+r.height/2-s.height/2,h=r[l]/2-s[l]/2;let p;switch(c){case"top":p={x:u,y:r.y-s.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:m};break;case"left":p={x:r.x-s.width,y:m};break;default:p={x:r.x,y:r.y}}switch(Nl(e)){case"start":p[o]-=h*(n&&d?-1:1);break;case"end":p[o]+=h*(n&&d?-1:1);break}return p}const d3=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:u,y:m}=u_(d,r,c),h=r,p={},y=0;for(let g=0;g<l.length;g++){const{name:w,fn:v}=l[g],{x,y:_,data:C,reset:M}=await v({x:u,y:m,initialPlacement:r,placement:h,strategy:s,middlewareData:p,rects:d,platform:o,elements:{reference:t,floating:e}});u=x??u,m=_??m,p={...p,[w]:{...p[w],...C}},M&&y<=50&&(y++,typeof M=="object"&&(M.placement&&(h=M.placement),M.rects&&(d=M.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):M.rects),{x:u,y:m}=u_(d,h,c)),g=-1)}return{x:u,y:m,placement:h,strategy:s,middlewareData:p}};async function nu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:u="viewport",elementContext:m="floating",altBoundary:h=!1,padding:p=0}=Os(e,t),y=YT(p),w=l[h?m==="floating"?"reference":"floating":m],v=Zh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(w)))==null||n?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:u,strategy:c})),x=m==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,_=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),C=await(i.isElement==null?void 0:i.isElement(_))?await(i.getScale==null?void 0:i.getScale(_))||{x:1,y:1}:{x:1,y:1},M=Zh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:x,offsetParent:_,strategy:c}):x);return{top:(v.top-M.top+y.top)/C.y,bottom:(M.bottom-v.bottom+y.bottom)/C.y,left:(v.left-M.left+y.left)/C.x,right:(M.right-v.right+y.right)/C.x}}const h3=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:u=0}=Os(t,e)||{};if(d==null)return{};const m=YT(u),h={x:n,y:r},p=lx(s),y=ax(p),g=await o.getDimensions(d),w=p==="y",v=w?"top":"left",x=w?"bottom":"right",_=w?"clientHeight":"clientWidth",C=i.reference[y]+i.reference[p]-h[p]-i.floating[y],M=h[p]-i.reference[p],R=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let k=R?R[_]:0;(!k||!await(o.isElement==null?void 0:o.isElement(R)))&&(k=l.floating[_]||i.floating[y]);const b=C/2-M/2,T=k/2-g[y]/2-1,S=Li(m[v],T),A=Li(m[x],T),P=S,j=k-g[y]-A,V=k/2-g[y]/2+b,B=uy(P,V,j),O=!c.arrow&&Nl(s)!=null&&V!==B&&i.reference[y]/2-(V<P?S:A)-g[y]/2<0,D=O?V<P?V-P:V-j:0;return{[p]:h[p]+D,data:{[p]:B,centerOffset:V-B-D,...O&&{alignmentOffset:D}},reset:O}}}),f3=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:u=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:y="none",flipAlignment:g=!0,...w}=Os(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const v=Ls(s),x=Vi(l),_=Ls(l)===l,C=await(c.isRTL==null?void 0:c.isRTL(d.floating)),M=h||(_||!g?[Jh(l)]:a3(l)),R=y!=="none";!h&&R&&M.push(...c3(l,g,y,C));const k=[l,...M],b=await nu(e,w),T=[];let S=((r=i.flip)==null?void 0:r.overflows)||[];if(u&&T.push(b[v]),m){const V=o3(s,o,C);T.push(b[V[0]],b[V[1]])}if(S=[...S,{placement:s,overflows:T}],!T.every(V=>V<=0)){var A,P;const V=(((A=i.flip)==null?void 0:A.index)||0)+1,B=k[V];if(B)return{data:{index:V,overflows:S},reset:{placement:B}};let O=(P=S.filter(D=>D.overflows[0]<=0).sort((D,F)=>D.overflows[1]-F.overflows[1])[0])==null?void 0:P.placement;if(!O)switch(p){case"bestFit":{var j;const D=(j=S.filter(F=>{if(R){const U=Vi(F.placement);return U===x||U==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(U=>U>0).reduce((U,z)=>U+z,0)]).sort((F,U)=>F[1]-U[1])[0])==null?void 0:j[0];D&&(O=D);break}case"initialPlacement":O=l;break}if(s!==O)return{reset:{placement:O}}}return{}}}};function d_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function h_(t){return r3.some(e=>t[e]>=0)}const m3=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Os(t,e);switch(r){case"referenceHidden":{const i=await nu(e,{...s,elementContext:"reference"}),o=d_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:h_(o)}}}case"escaped":{const i=await nu(e,{...s,altBoundary:!0}),o=d_(i,n.floating);return{data:{escapedOffsets:o,escaped:h_(o)}}}default:return{}}}}};async function p3(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ls(n),l=Nl(n),c=Vi(n)==="y",d=["left","top"].includes(o)?-1:1,u=i&&c?-1:1,m=Os(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:y}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof y=="number"&&(p=l==="end"?y*-1:y),c?{x:p*u,y:h*d}:{x:h*d,y:p*u}}const g3=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await p3(e,t);return o===((n=l.offset)==null?void 0:n.placement)&&(r=l.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},y3=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:l={fn:w=>{let{x:v,y:x}=w;return{x:v,y:x}}},...c}=Os(t,e),d={x:n,y:r},u=await nu(e,c),m=Vi(Ls(s)),h=ox(m);let p=d[h],y=d[m];if(i){const w=h==="y"?"top":"left",v=h==="y"?"bottom":"right",x=p+u[w],_=p-u[v];p=uy(x,p,_)}if(o){const w=m==="y"?"top":"left",v=m==="y"?"bottom":"right",x=y+u[w],_=y-u[v];y=uy(x,y,_)}const g=l.fn({...e,[h]:p,[m]:y});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:i,[m]:o}}}}}},v3=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:l=0,mainAxis:c=!0,crossAxis:d=!0}=Os(t,e),u={x:n,y:r},m=Vi(s),h=ox(m);let p=u[h],y=u[m];const g=Os(l,e),w=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(c){const _=h==="y"?"height":"width",C=i.reference[h]-i.floating[_]+w.mainAxis,M=i.reference[h]+i.reference[_]-w.mainAxis;p<C?p=C:p>M&&(p=M)}if(d){var v,x;const _=h==="y"?"width":"height",C=["top","left"].includes(Ls(s)),M=i.reference[m]-i.floating[_]+(C&&((v=o.offset)==null?void 0:v[m])||0)+(C?0:w.crossAxis),R=i.reference[m]+i.reference[_]+(C?0:((x=o.offset)==null?void 0:x[m])||0)-(C?w.crossAxis:0);y<M?y=M:y>R&&(y=R)}return{[h]:p,[m]:y}}}},x3=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:l}=e,{apply:c=()=>{},...d}=Os(t,e),u=await nu(e,d),m=Ls(s),h=Nl(s),p=Vi(s)==="y",{width:y,height:g}=i.floating;let w,v;m==="top"||m==="bottom"?(w=m,v=h===(await(o.isRTL==null?void 0:o.isRTL(l.floating))?"start":"end")?"left":"right"):(v=m,w=h==="end"?"top":"bottom");const x=g-u.top-u.bottom,_=y-u.left-u.right,C=Li(g-u[w],x),M=Li(y-u[v],_),R=!e.middlewareData.shift;let k=C,b=M;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(b=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(k=x),R&&!h){const S=ir(u.left,0),A=ir(u.right,0),P=ir(u.top,0),j=ir(u.bottom,0);p?b=y-2*(S!==0||A!==0?S+A:ir(u.left,u.right)):k=g-2*(P!==0||j!==0?P+j:ir(u.top,u.bottom))}await c({...e,availableWidth:b,availableHeight:k});const T=await o.getDimensions(l.floating);return y!==T.width||g!==T.height?{reset:{rects:!0}}:{}}}};function Zf(){return typeof window<"u"}function Tl(t){return XT(t)?(t.nodeName||"").toLowerCase():"#document"}function dr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ps(t){var e;return(e=(XT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function XT(t){return Zf()?t instanceof Node||t instanceof dr(t).Node:!1}function Ur(t){return Zf()?t instanceof Element||t instanceof dr(t).Element:!1}function hs(t){return Zf()?t instanceof HTMLElement||t instanceof dr(t).HTMLElement:!1}function f_(t){return!Zf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof dr(t).ShadowRoot}function Du(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=Br(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(s)}function w3(t){return["table","td","th"].includes(Tl(t))}function em(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function cx(t){const e=ux(),n=Ur(t)?Br(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function _3(t){let e=Ui(t);for(;hs(e)&&!cl(e);){if(cx(e))return e;if(em(e))return null;e=Ui(e)}return null}function ux(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cl(t){return["html","body","#document"].includes(Tl(t))}function Br(t){return dr(t).getComputedStyle(t)}function tm(t){return Ur(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ui(t){if(Tl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||f_(t)&&t.host||ps(t);return f_(e)?e.host:e}function JT(t){const e=Ui(t);return cl(e)?t.ownerDocument?t.ownerDocument.body:t.body:hs(e)&&Du(e)?e:JT(e)}function ru(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=JT(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=dr(s);if(i){const l=hy(o);return e.concat(o,o.visualViewport||[],Du(s)?s:[],l&&n?ru(l):[])}return e.concat(s,ru(s,[],n))}function hy(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ZT(t){const e=Br(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=hs(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,l=Xh(n)!==i||Xh(r)!==o;return l&&(n=i,r=o),{width:n,height:r,$:l}}function dx(t){return Ur(t)?t:t.contextElement}function Ua(t){const e=dx(t);if(!hs(e))return Fi(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=ZT(e);let o=(i?Xh(n.width):n.width)/r,l=(i?Xh(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const b3=Fi(0);function eS(t){const e=dr(t);return!ux()||!e.visualViewport?b3:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function E3(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==dr(t)?!1:e}function Fo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=dx(t);let o=Fi(1);e&&(r?Ur(r)&&(o=Ua(r)):o=Ua(t));const l=E3(i,n,r)?eS(i):Fi(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,u=s.width/o.x,m=s.height/o.y;if(i){const h=dr(i),p=r&&Ur(r)?dr(r):r;let y=h,g=hy(y);for(;g&&r&&p!==y;){const w=Ua(g),v=g.getBoundingClientRect(),x=Br(g),_=v.left+(g.clientLeft+parseFloat(x.paddingLeft))*w.x,C=v.top+(g.clientTop+parseFloat(x.paddingTop))*w.y;c*=w.x,d*=w.y,u*=w.x,m*=w.y,c+=_,d+=C,y=dr(g),g=hy(y)}}return Zh({width:u,height:m,x:c,y:d})}function N3(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=ps(r),l=e?em(e.floating):!1;if(r===o||l&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Fi(1);const u=Fi(0),m=hs(r);if((m||!m&&!i)&&((Tl(r)!=="body"||Du(o))&&(c=tm(r)),hs(r))){const h=Fo(r);d=Ua(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+u.x,y:n.y*d.y-c.scrollTop*d.y+u.y}}function T3(t){return Array.from(t.getClientRects())}function fy(t,e){const n=tm(t).scrollLeft;return e?e.left+n:Fo(ps(t)).left+n}function S3(t){const e=ps(t),n=tm(t),r=t.ownerDocument.body,s=ir(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=ir(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+fy(t);const l=-n.scrollTop;return Br(r).direction==="rtl"&&(o+=ir(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:l}}function C3(t,e){const n=dr(t),r=ps(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const d=ux();(!d||d&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l,y:c}}function k3(t,e){const n=Fo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=hs(t)?Ua(t):Fi(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:l,x:c,y:d}}function m_(t,e,n){let r;if(e==="viewport")r=C3(t,n);else if(e==="document")r=S3(ps(t));else if(Ur(e))r=k3(e,n);else{const s=eS(t);r={...e,x:e.x-s.x,y:e.y-s.y}}return Zh(r)}function tS(t,e){const n=Ui(t);return n===e||!Ur(n)||cl(n)?!1:Br(n).position==="fixed"||tS(n,e)}function I3(t,e){const n=e.get(t);if(n)return n;let r=ru(t,[],!1).filter(l=>Ur(l)&&Tl(l)!=="body"),s=null;const i=Br(t).position==="fixed";let o=i?Ui(t):t;for(;Ur(o)&&!cl(o);){const l=Br(o),c=cx(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||Du(o)&&!c&&tS(t,o))?r=r.filter(u=>u!==o):s=l,o=Ui(o)}return e.set(t,r),r}function j3(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?em(e)?[]:I3(e,this._c):[].concat(n),r],l=o[0],c=o.reduce((d,u)=>{const m=m_(e,u,s);return d.top=ir(m.top,d.top),d.right=Li(m.right,d.right),d.bottom=Li(m.bottom,d.bottom),d.left=ir(m.left,d.left),d},m_(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function A3(t){const{width:e,height:n}=ZT(t);return{width:e,height:n}}function P3(t,e,n){const r=hs(e),s=ps(e),i=n==="fixed",o=Fo(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=Fi(0);if(r||!r&&!i)if((Tl(e)!=="body"||Du(s))&&(l=tm(e)),r){const p=Fo(e,!0,i,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else s&&(c.x=fy(s));let d=0,u=0;if(s&&!r&&!i){const p=s.getBoundingClientRect();u=p.top+l.scrollTop,d=p.left+l.scrollLeft-fy(s,p)}const m=o.left+l.scrollLeft-c.x-d,h=o.top+l.scrollTop-c.y-u;return{x:m,y:h,width:o.width,height:o.height}}function Ap(t){return Br(t).position==="static"}function p_(t,e){if(!hs(t)||Br(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return ps(t)===n&&(n=n.ownerDocument.body),n}function nS(t,e){const n=dr(t);if(em(t))return n;if(!hs(t)){let s=Ui(t);for(;s&&!cl(s);){if(Ur(s)&&!Ap(s))return s;s=Ui(s)}return n}let r=p_(t,e);for(;r&&w3(r)&&Ap(r);)r=p_(r,e);return r&&cl(r)&&Ap(r)&&!cx(r)?n:r||_3(t)||n}const R3=async function(t){const e=this.getOffsetParent||nS,n=this.getDimensions,r=await n(t.floating);return{reference:P3(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function D3(t){return Br(t).direction==="rtl"}const M3={convertOffsetParentRelativeRectToViewportRelativeRect:N3,getDocumentElement:ps,getClippingRect:j3,getOffsetParent:nS,getElementRects:R3,getClientRects:T3,getDimensions:A3,getScale:Ua,isElement:Ur,isRTL:D3};function O3(t,e){let n=null,r;const s=ps(t);function i(){var l;clearTimeout(r),(l=n)==null||l.disconnect(),n=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const{left:d,top:u,width:m,height:h}=t.getBoundingClientRect();if(l||e(),!m||!h)return;const p=Md(u),y=Md(s.clientWidth-(d+m)),g=Md(s.clientHeight-(u+h)),w=Md(d),x={rootMargin:-p+"px "+-y+"px "+-g+"px "+-w+"px",threshold:ir(0,Li(1,c))||1};let _=!0;function C(M){const R=M[0].intersectionRatio;if(R!==c){if(!_)return o();R?o(!1,R):r=setTimeout(()=>{o(!1,1e-7)},1e3)}_=!1}try{n=new IntersectionObserver(C,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(C,x)}n.observe(t)}return o(!0),i}function L3(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=dx(t),u=s||i?[...d?ru(d):[],...ru(e)]:[];u.forEach(v=>{s&&v.addEventListener("scroll",n,{passive:!0}),i&&v.addEventListener("resize",n)});const m=d&&l?O3(d,n):null;let h=-1,p=null;o&&(p=new ResizeObserver(v=>{let[x]=v;x&&x.target===d&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var _;(_=p)==null||_.observe(e)})),n()}),d&&!c&&p.observe(d),p.observe(e));let y,g=c?Fo(t):null;c&&w();function w(){const v=Fo(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,y=requestAnimationFrame(w)}return n(),()=>{var v;u.forEach(x=>{s&&x.removeEventListener("scroll",n),i&&x.removeEventListener("resize",n)}),m==null||m(),(v=p)==null||v.disconnect(),p=null,c&&cancelAnimationFrame(y)}}const F3=g3,V3=y3,U3=f3,B3=x3,z3=m3,g_=h3,$3=v3,W3=(t,e,n)=>{const r=new Map,s={platform:M3,...n},i={...s.platform,_c:r};return d3(t,e,{...s,platform:i})};var uh=typeof document<"u"?N.useLayoutEffect:N.useEffect;function ef(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!ef(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!ef(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function rS(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function y_(t,e){const n=rS(t);return Math.round(e*n)/n}function Pp(t){const e=N.useRef(t);return uh(()=>{e.current=t}),e}function H3(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[u,m]=N.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=N.useState(r);ef(h,r)||p(r);const[y,g]=N.useState(null),[w,v]=N.useState(null),x=N.useCallback(F=>{F!==R.current&&(R.current=F,g(F))},[]),_=N.useCallback(F=>{F!==k.current&&(k.current=F,v(F))},[]),C=i||y,M=o||w,R=N.useRef(null),k=N.useRef(null),b=N.useRef(u),T=c!=null,S=Pp(c),A=Pp(s),P=Pp(d),j=N.useCallback(()=>{if(!R.current||!k.current)return;const F={placement:e,strategy:n,middleware:h};A.current&&(F.platform=A.current),W3(R.current,k.current,F).then(U=>{const z={...U,isPositioned:P.current!==!1};V.current&&!ef(b.current,z)&&(b.current=z,Xo.flushSync(()=>{m(z)}))})},[h,e,n,A,P]);uh(()=>{d===!1&&b.current.isPositioned&&(b.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const V=N.useRef(!1);uh(()=>(V.current=!0,()=>{V.current=!1}),[]),uh(()=>{if(C&&(R.current=C),M&&(k.current=M),C&&M){if(S.current)return S.current(C,M,j);j()}},[C,M,j,S,T]);const B=N.useMemo(()=>({reference:R,floating:k,setReference:x,setFloating:_}),[x,_]),O=N.useMemo(()=>({reference:C,floating:M}),[C,M]),D=N.useMemo(()=>{const F={position:n,left:0,top:0};if(!O.floating)return F;const U=y_(O.floating,u.x),z=y_(O.floating,u.y);return l?{...F,transform:"translate("+U+"px, "+z+"px)",...rS(O.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:z}},[n,l,O.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:j,refs:B,elements:O,floatingStyles:D}),[u,j,B,O,D])}const q3=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?g_({element:r.current,padding:s}).fn(n):{}:r?g_({element:r,padding:s}).fn(n):{}}}},G3=(t,e)=>({...F3(t),options:[t,e]}),K3=(t,e)=>({...V3(t),options:[t,e]}),Q3=(t,e)=>({...$3(t),options:[t,e]}),Y3=(t,e)=>({...U3(t),options:[t,e]}),X3=(t,e)=>({...B3(t),options:[t,e]}),J3=(t,e)=>({...z3(t),options:[t,e]}),Z3=(t,e)=>({...q3(t),options:[t,e]});var eO="Arrow",sS=N.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return a.jsx(Oe.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});sS.displayName=eO;var tO=sS;function nO(t,e=[]){let n=[];function r(i,o){const l=N.createContext(o),c=n.length;n=[...n,o];function d(m){const{scope:h,children:p,...y}=m,g=(h==null?void 0:h[t][c])||l,w=N.useMemo(()=>y,Object.values(y));return a.jsx(g.Provider,{value:w,children:p})}function u(m,h){const p=(h==null?void 0:h[t][c])||l,y=N.useContext(p);if(y)return y;if(o!==void 0)return o;throw new Error(`\`${m}\` must be used within \`${i}\``)}return d.displayName=i+"Provider",[d,u]}const s=()=>{const i=n.map(o=>N.createContext(o));return function(l){const c=(l==null?void 0:l[t])||i;return N.useMemo(()=>({[`__scope${t}`]:{...l,[t]:c}}),[l,c])}};return s.scopeName=t,[r,rO(s,...e)]}function rO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((l,{useScope:c,scopeName:d})=>{const m=c(i)[`__scope${d}`];return{...l,...m}},{});return N.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function sO(t){const[e,n]=N.useState(void 0);return cn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,l;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,l=d.blockSize}else o=t.offsetWidth,l=t.offsetHeight;n({width:o,height:l})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var hx="Popper",[iS,nm]=nO(hx),[iO,oS]=iS(hx),aS=t=>{const{__scopePopper:e,children:n}=t,[r,s]=N.useState(null);return a.jsx(iO,{scope:e,anchor:r,onAnchorChange:s,children:n})};aS.displayName=hx;var lS="PopperAnchor",cS=N.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=oS(lS,n),o=N.useRef(null),l=ct(e,o);return N.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:a.jsx(Oe.div,{...s,ref:l})});cS.displayName=lS;var fx="PopperContent",[oO,aO]=iS(fx),uS=N.forwardRef((t,e)=>{var te,de,ge,ue,he,pe;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:l=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:u=0,sticky:m="partial",hideWhenDetached:h=!1,updatePositionStrategy:p="optimized",onPlaced:y,...g}=t,w=oS(fx,n),[v,x]=N.useState(null),_=ct(e,rt=>x(rt)),[C,M]=N.useState(null),R=sO(C),k=(R==null?void 0:R.width)??0,b=(R==null?void 0:R.height)??0,T=r+(i!=="center"?"-"+i:""),S=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},A=Array.isArray(d)?d:[d],P=A.length>0,j={padding:S,boundary:A.filter(cO),altBoundary:P},{refs:V,floatingStyles:B,placement:O,isPositioned:D,middlewareData:F}=H3({strategy:"fixed",placement:T,whileElementsMounted:(...rt)=>L3(...rt,{animationFrame:p==="always"}),elements:{reference:w.anchor},middleware:[G3({mainAxis:s+b,alignmentAxis:o}),c&&K3({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?Q3():void 0,...j}),c&&Y3({...j}),X3({...j,apply:({elements:rt,rects:nt,availableWidth:Le,availableHeight:We})=>{const{width:Ve,height:qe}=nt.reference,Ae=rt.floating.style;Ae.setProperty("--radix-popper-available-width",`${Le}px`),Ae.setProperty("--radix-popper-available-height",`${We}px`),Ae.setProperty("--radix-popper-anchor-width",`${Ve}px`),Ae.setProperty("--radix-popper-anchor-height",`${qe}px`)}}),C&&Z3({element:C,padding:l}),uO({arrowWidth:k,arrowHeight:b}),h&&J3({strategy:"referenceHidden",...j})]}),[U,z]=fS(O),G=mr(y);cn(()=>{D&&(G==null||G())},[D,G]);const W=(te=F.arrow)==null?void 0:te.x,Q=(de=F.arrow)==null?void 0:de.y,Y=((ge=F.arrow)==null?void 0:ge.centerOffset)!==0,[q,ne]=N.useState();return cn(()=>{v&&ne(window.getComputedStyle(v).zIndex)},[v]),a.jsx("div",{ref:V.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:D?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:q,"--radix-popper-transform-origin":[(ue=F.transformOrigin)==null?void 0:ue.x,(he=F.transformOrigin)==null?void 0:he.y].join(" "),...((pe=F.hide)==null?void 0:pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:a.jsx(oO,{scope:n,placedSide:U,onArrowChange:M,arrowX:W,arrowY:Q,shouldHideArrow:Y,children:a.jsx(Oe.div,{"data-side":U,"data-align":z,...g,ref:_,style:{...g.style,animation:D?void 0:"none"}})})})});uS.displayName=fx;var dS="PopperArrow",lO={top:"bottom",right:"left",bottom:"top",left:"right"},hS=N.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=aO(dS,r),o=lO[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(tO,{...s,ref:n,style:{...s.style,display:"block"}})})});hS.displayName=dS;function cO(t){return t!==null}var uO=t=>({name:"transformOrigin",options:t,fn(e){var w,v,x;const{placement:n,rects:r,middlewareData:s}=e,o=((w=s.arrow)==null?void 0:w.centerOffset)!==0,l=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,u]=fS(n),m={start:"0%",center:"50%",end:"100%"}[u],h=(((v=s.arrow)==null?void 0:v.x)??0)+l/2,p=(((x=s.arrow)==null?void 0:x.y)??0)+c/2;let y="",g="";return d==="bottom"?(y=o?m:`${h}px`,g=`${-c}px`):d==="top"?(y=o?m:`${h}px`,g=`${r.floating.height+c}px`):d==="right"?(y=`${-c}px`,g=o?m:`${p}px`):d==="left"&&(y=`${r.floating.width+c}px`,g=o?m:`${p}px`),{data:{x:y,y:g}}}});function fS(t){const[e,n="center"]=t.split("-");return[e,n]}var dO=aS,mS=cS,pS=uS,gS=hS,[rm,Jq]=Cu("Tooltip",[nm]),mx=nm(),yS="TooltipProvider",hO=700,v_="tooltip.open",[fO,vS]=rm(yS),xS=t=>{const{__scopeTooltip:e,delayDuration:n=hO,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,[o,l]=N.useState(!0),c=N.useRef(!1),d=N.useRef(0);return N.useEffect(()=>{const u=d.current;return()=>window.clearTimeout(u)},[]),a.jsx(fO,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:N.useCallback(()=>{window.clearTimeout(d.current),l(!1)},[]),onClose:N.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>l(!0),r)},[r]),isPointerInTransitRef:c,onPointerInTransitChange:N.useCallback(u=>{c.current=u},[]),disableHoverableContent:s,children:i})};xS.displayName=yS;var wS="Tooltip",[Zq,sm]=rm(wS),my="TooltipTrigger",mO=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=sm(my,n),i=vS(my,n),o=mx(n),l=N.useRef(null),c=ct(e,l,s.onTriggerChange),d=N.useRef(!1),u=N.useRef(!1),m=N.useCallback(()=>d.current=!1,[]);return N.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),a.jsx(mS,{asChild:!0,...o,children:a.jsx(Oe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:Te(t.onPointerMove,h=>{h.pointerType!=="touch"&&!u.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),u.current=!0)}),onPointerLeave:Te(t.onPointerLeave,()=>{s.onTriggerLeave(),u.current=!1}),onPointerDown:Te(t.onPointerDown,()=>{d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Te(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:Te(t.onBlur,s.onClose),onClick:Te(t.onClick,s.onClose)})})});mO.displayName=my;var pO="TooltipPortal",[eG,gO]=rm(pO,{forceMount:void 0}),ul="TooltipContent",_S=N.forwardRef((t,e)=>{const n=gO(ul,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=sm(ul,t.__scopeTooltip);return a.jsx(Jo,{present:r||o.open,children:o.disableHoverableContent?a.jsx(bS,{side:s,...i,ref:e}):a.jsx(yO,{side:s,...i,ref:e})})}),yO=N.forwardRef((t,e)=>{const n=sm(ul,t.__scopeTooltip),r=vS(ul,t.__scopeTooltip),s=N.useRef(null),i=ct(e,s),[o,l]=N.useState(null),{trigger:c,onClose:d}=n,u=s.current,{onPointerInTransitChange:m}=r,h=N.useCallback(()=>{l(null),m(!1)},[m]),p=N.useCallback((y,g)=>{const w=y.currentTarget,v={x:y.clientX,y:y.clientY},x=_O(v,w.getBoundingClientRect()),_=bO(v,x),C=EO(g.getBoundingClientRect()),M=TO([..._,...C]);l(M),m(!0)},[m]);return N.useEffect(()=>()=>h(),[h]),N.useEffect(()=>{if(c&&u){const y=w=>p(w,u),g=w=>p(w,c);return c.addEventListener("pointerleave",y),u.addEventListener("pointerleave",g),()=>{c.removeEventListener("pointerleave",y),u.removeEventListener("pointerleave",g)}}},[c,u,p,h]),N.useEffect(()=>{if(o){const y=g=>{const w=g.target,v={x:g.clientX,y:g.clientY},x=(c==null?void 0:c.contains(w))||(u==null?void 0:u.contains(w)),_=!NO(v,o);x?h():_&&(h(),d())};return document.addEventListener("pointermove",y),()=>document.removeEventListener("pointermove",y)}},[c,u,o,d,h]),a.jsx(bS,{...t,ref:i})}),[vO,xO]=rm(wS,{isInside:!1}),bS=N.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...l}=t,c=sm(ul,n),d=mx(n),{onClose:u}=c;return N.useEffect(()=>(document.addEventListener(v_,u),()=>document.removeEventListener(v_,u)),[u]),N.useEffect(()=>{if(c.trigger){const m=h=>{const p=h.target;p!=null&&p.contains(c.trigger)&&u()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[c.trigger,u]),a.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:m=>m.preventDefault(),onDismiss:u,children:a.jsxs(pS,{"data-state":c.stateAttribute,...d,...l,ref:e,style:{...l.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[a.jsx(cT,{children:r}),a.jsx(vO,{scope:n,isInside:!0,children:a.jsx(uD,{id:c.contentId,role:"tooltip",children:s||r})})]})})});_S.displayName=ul;var ES="TooltipArrow",wO=N.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=mx(n);return xO(ES,n).isInside?null:a.jsx(gS,{...s,...r,ref:e})});wO.displayName=ES;function _O(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function bO(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function EO(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function NO(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const l=e[i].x,c=e[i].y,d=e[o].x,u=e[o].y;c>r!=u>r&&n<(d-l)*(r-c)/(u-c)+l&&(s=!s)}return s}function TO(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),SO(e)}function SO(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var CO=xS,NS=_S;const kO=CO,IO=N.forwardRef(({className:t,sideOffset:e=4,...n},r)=>a.jsx(NS,{ref:r,sideOffset:e,className:Se("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));IO.displayName=NS.displayName;var im=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},om=typeof window>"u"||"Deno"in globalThis;function jr(){}function jO(t,e){return typeof t=="function"?t(e):t}function AO(t){return typeof t=="number"&&t>=0&&t!==1/0}function PO(t,e){return Math.max(t+(e||0)-Date.now(),0)}function x_(t,e){return typeof t=="function"?t(e):t}function RO(t,e){return typeof t=="function"?t(e):t}function w_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:l}=t;if(o){if(r){if(e.queryHash!==px(o,e.options))return!1}else if(!iu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof l=="boolean"&&e.isStale()!==l||s&&s!==e.state.fetchStatus||i&&!i(e))}function __(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(su(e.options.mutationKey)!==su(i))return!1}else if(!iu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function px(t,e){return((e==null?void 0:e.queryKeyHashFn)||su)(t)}function su(t){return JSON.stringify(t,(e,n)=>py(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function iu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!iu(t[n],e[n])):!1}function TS(t,e){if(t===e)return t;const n=b_(t)&&b_(e);if(n||py(t)&&py(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,l=n?[]:{};let c=0;for(let d=0;d<o;d++){const u=n?d:i[d];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(l[u]=void 0,c++):(l[u]=TS(t[u],e[u]),l[u]===t[u]&&t[u]!==void 0&&c++)}return s===o&&c===s?t:l}return e}function b_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function py(t){if(!E_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!E_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function E_(t){return Object.prototype.toString.call(t)==="[object Object]"}function DO(t){return new Promise(e=>{setTimeout(e,t)})}function MO(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?TS(t,e):e}function OO(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function LO(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var gx=Symbol();function SS(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===gx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var No,hi,qa,FE,FO=(FE=class extends im{constructor(){super();Qe(this,No);Qe(this,hi);Qe(this,qa);ke(this,qa,e=>{if(!om&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){Z(this,hi)||this.setEventListener(Z(this,qa))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,hi))==null||e.call(this),ke(this,hi,void 0))}setEventListener(e){var n;ke(this,qa,e),(n=Z(this,hi))==null||n.call(this),ke(this,hi,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){Z(this,No)!==e&&(ke(this,No,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof Z(this,No)=="boolean"?Z(this,No):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},No=new WeakMap,hi=new WeakMap,qa=new WeakMap,FE),CS=new FO,Ga,fi,Ka,VE,VO=(VE=class extends im{constructor(){super();Qe(this,Ga,!0);Qe(this,fi);Qe(this,Ka);ke(this,Ka,e=>{if(!om&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){Z(this,fi)||this.setEventListener(Z(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=Z(this,fi))==null||e.call(this),ke(this,fi,void 0))}setEventListener(e){var n;ke(this,Ka,e),(n=Z(this,fi))==null||n.call(this),ke(this,fi,e(this.setOnline.bind(this)))}setOnline(e){Z(this,Ga)!==e&&(ke(this,Ga,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return Z(this,Ga)}},Ga=new WeakMap,fi=new WeakMap,Ka=new WeakMap,VE),tf=new VO;function UO(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function BO(t){return Math.min(1e3*2**t,3e4)}function kS(t){return(t??"online")==="online"?tf.isOnline():!0}var IS=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Rp(t){return t instanceof IS}function jS(t){let e=!1,n=0,r=!1,s;const i=UO(),o=g=>{var w;r||(h(new IS(g)),(w=t.abort)==null||w.call(t))},l=()=>{e=!0},c=()=>{e=!1},d=()=>CS.isFocused()&&(t.networkMode==="always"||tf.isOnline())&&t.canRun(),u=()=>kS(t.networkMode)&&t.canRun(),m=g=>{var w;r||(r=!0,(w=t.onSuccess)==null||w.call(t,g),s==null||s(),i.resolve(g))},h=g=>{var w;r||(r=!0,(w=t.onError)==null||w.call(t,g),s==null||s(),i.reject(g))},p=()=>new Promise(g=>{var w;s=v=>{(r||d())&&g(v)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;s=void 0,r||(g=t.onContinue)==null||g.call(t)}),y=()=>{if(r)return;let g;const w=n===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(v){g=Promise.reject(v)}Promise.resolve(g).then(m).catch(v=>{var R;if(r)return;const x=t.retry??(om?0:3),_=t.retryDelay??BO,C=typeof _=="function"?_(n,v):_,M=x===!0||typeof x=="number"&&n<x||typeof x=="function"&&x(n,v);if(e||!M){h(v);return}n++,(R=t.onFail)==null||R.call(t,n,v),DO(C).then(()=>d()?void 0:p()).then(()=>{e?h(v):y()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:l,continueRetry:c,canStart:u,start:()=>(u()?y():p().then(y),i)}}function zO(){let t=[],e=0,n=l=>{l()},r=l=>{l()},s=l=>setTimeout(l,0);const i=l=>{e?t.push(l):s(()=>{n(l)})},o=()=>{const l=t;t=[],l.length&&s(()=>{r(()=>{l.forEach(c=>{n(c)})})})};return{batch:l=>{let c;e++;try{c=l()}finally{e--,e||o()}return c},batchCalls:l=>(...c)=>{i(()=>{l(...c)})},schedule:i,setNotifyFunction:l=>{n=l},setBatchNotifyFunction:l=>{r=l},setScheduler:l=>{s=l}}}var Ln=zO(),To,UE,AS=(UE=class{constructor(){Qe(this,To)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),AO(this.gcTime)&&ke(this,To,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(om?1/0:5*60*1e3))}clearGcTimeout(){Z(this,To)&&(clearTimeout(Z(this,To)),ke(this,To,void 0))}},To=new WeakMap,UE),Qa,Ya,vr,vn,wu,So,Ar,_s,BE,$O=(BE=class extends AS{constructor(n){super();Qe(this,Ar);Qe(this,Qa);Qe(this,Ya);Qe(this,vr);Qe(this,vn);Qe(this,wu);Qe(this,So);ke(this,So,!1),ke(this,wu,n.defaultOptions),this.setOptions(n.options),this.observers=[],ke(this,vr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ke(this,Qa,HO(this.options)),this.state=n.state??Z(this,Qa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=Z(this,vn))==null?void 0:n.promise}setOptions(n){this.options={...Z(this,wu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&Z(this,vr).remove(this)}setData(n,r){const s=MO(this.state.data,n,this.options);return mn(this,Ar,_s).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){mn(this,Ar,_s).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=Z(this,vn))==null?void 0:s.promise;return(i=Z(this,vn))==null||i.cancel(n),r?r.then(jr).catch(jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Z(this,Qa))}isActive(){return this.observers.some(n=>RO(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!PO(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=Z(this,vn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=Z(this,vn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),Z(this,vr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(Z(this,vn)&&(Z(this,So)?Z(this,vn).cancel({revert:!0}):Z(this,vn).cancelRetry()),this.scheduleGc()),Z(this,vr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||mn(this,Ar,_s).call(this,{type:"invalidate"})}fetch(n,r){var d,u,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(Z(this,vn))return Z(this,vn).continueRetry(),Z(this,vn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const h=this.observers.find(p=>p.options.queryFn);h&&this.setOptions(h.options)}const s=new AbortController,i=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(ke(this,So,!0),s.signal)})},o=()=>{const h=SS(this.options,r),p={queryKey:this.queryKey,meta:this.meta};return i(p),ke(this,So,!1),this.options.persister?this.options.persister(h,p,this):h(p)},l={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(d=this.options.behavior)==null||d.onFetch(l,this),ke(this,Ya,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=l.fetchOptions)==null?void 0:u.meta))&&mn(this,Ar,_s).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const c=h=>{var p,y,g,w;Rp(h)&&h.silent||mn(this,Ar,_s).call(this,{type:"error",error:h}),Rp(h)||((y=(p=Z(this,vr).config).onError)==null||y.call(p,h,this),(w=(g=Z(this,vr).config).onSettled)==null||w.call(g,this.state.data,h,this)),this.scheduleGc()};return ke(this,vn,jS({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:h=>{var p,y,g,w;if(h===void 0){c(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(v){c(v);return}(y=(p=Z(this,vr).config).onSuccess)==null||y.call(p,h,this),(w=(g=Z(this,vr).config).onSettled)==null||w.call(g,h,this.state.error,this),this.scheduleGc()},onError:c,onFail:(h,p)=>{mn(this,Ar,_s).call(this,{type:"failed",failureCount:h,error:p})},onPause:()=>{mn(this,Ar,_s).call(this,{type:"pause"})},onContinue:()=>{mn(this,Ar,_s).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),Z(this,vn).start()}},Qa=new WeakMap,Ya=new WeakMap,vr=new WeakMap,vn=new WeakMap,wu=new WeakMap,So=new WeakMap,Ar=new WeakSet,_s=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...WO(s.data,this.options),fetchMeta:n.meta??null};case"success":return{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return Rp(i)&&i.revert&&Z(this,Ya)?{...Z(this,Ya),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Ln.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),Z(this,vr).notify({query:this,type:"updated",action:n})})},BE);function WO(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:kS(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HO(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Xr,zE,qO=(zE=class extends im{constructor(e={}){super();Qe(this,Xr);this.config=e,ke(this,Xr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??px(s,n);let o=this.get(i);return o||(o=new $O({cache:this,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){Z(this,Xr).has(e.queryHash)||(Z(this,Xr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=Z(this,Xr).get(e.queryHash);n&&(e.destroy(),n===e&&Z(this,Xr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return Z(this,Xr).get(e)}getAll(){return[...Z(this,Xr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>w_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>w_(e,r)):n}notify(e){Ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Ln.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ln.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Xr=new WeakMap,zE),Jr,Dn,Co,Zr,ei,$E,GO=($E=class extends AS{constructor(n){super();Qe(this,Zr);Qe(this,Jr);Qe(this,Dn);Qe(this,Co);this.mutationId=n.mutationId,ke(this,Dn,n.mutationCache),ke(this,Jr,[]),this.state=n.state||KO(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){Z(this,Jr).includes(n)||(Z(this,Jr).push(n),this.clearGcTimeout(),Z(this,Dn).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ke(this,Jr,Z(this,Jr).filter(r=>r!==n)),this.scheduleGc(),Z(this,Dn).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){Z(this,Jr).length||(this.state.status==="pending"?this.scheduleGc():Z(this,Dn).remove(this))}continue(){var n;return((n=Z(this,Co))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var i,o,l,c,d,u,m,h,p,y,g,w,v,x,_,C,M,R,k,b;ke(this,Co,jS({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(T,S)=>{mn(this,Zr,ei).call(this,{type:"failed",failureCount:T,error:S})},onPause:()=>{mn(this,Zr,ei).call(this,{type:"pause"})},onContinue:()=>{mn(this,Zr,ei).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>Z(this,Dn).canRun(this)}));const r=this.state.status==="pending",s=!Z(this,Co).canStart();try{if(!r){mn(this,Zr,ei).call(this,{type:"pending",variables:n,isPaused:s}),await((o=(i=Z(this,Dn).config).onMutate)==null?void 0:o.call(i,n,this));const S=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,n));S!==this.state.context&&mn(this,Zr,ei).call(this,{type:"pending",context:S,variables:n,isPaused:s})}const T=await Z(this,Co).start();return await((u=(d=Z(this,Dn).config).onSuccess)==null?void 0:u.call(d,T,n,this.state.context,this)),await((h=(m=this.options).onSuccess)==null?void 0:h.call(m,T,n,this.state.context)),await((y=(p=Z(this,Dn).config).onSettled)==null?void 0:y.call(p,T,null,this.state.variables,this.state.context,this)),await((w=(g=this.options).onSettled)==null?void 0:w.call(g,T,null,n,this.state.context)),mn(this,Zr,ei).call(this,{type:"success",data:T}),T}catch(T){try{throw await((x=(v=Z(this,Dn).config).onError)==null?void 0:x.call(v,T,n,this.state.context,this)),await((C=(_=this.options).onError)==null?void 0:C.call(_,T,n,this.state.context)),await((R=(M=Z(this,Dn).config).onSettled)==null?void 0:R.call(M,void 0,T,this.state.variables,this.state.context,this)),await((b=(k=this.options).onSettled)==null?void 0:b.call(k,void 0,T,n,this.state.context)),T}finally{mn(this,Zr,ei).call(this,{type:"error",error:T})}}finally{Z(this,Dn).runNext(this)}}},Jr=new WeakMap,Dn=new WeakMap,Co=new WeakMap,Zr=new WeakSet,ei=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ln.batch(()=>{Z(this,Jr).forEach(s=>{s.onMutationUpdate(n)}),Z(this,Dn).notify({mutation:this,type:"updated",action:n})})},$E);function KO(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var nr,_u,WE,QO=(WE=class extends im{constructor(e={}){super();Qe(this,nr);Qe(this,_u);this.config=e,ke(this,nr,new Map),ke(this,_u,Date.now())}build(e,n,r){const s=new GO({mutationCache:this,mutationId:++md(this,_u)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){const n=Od(e),r=Z(this,nr).get(n)??[];r.push(e),Z(this,nr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Od(e);if(Z(this,nr).has(n)){const s=(r=Z(this,nr).get(n))==null?void 0:r.filter(i=>i!==e);s&&(s.length===0?Z(this,nr).delete(n):Z(this,nr).set(n,s))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=Z(this,nr).get(Od(e)))==null?void 0:r.find(s=>s.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=Z(this,nr).get(Od(e)))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Ln.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...Z(this,nr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>__(n,r))}findAll(e={}){return this.getAll().filter(n=>__(e,n))}notify(e){Ln.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Ln.batch(()=>Promise.all(e.map(n=>n.continue().catch(jr))))}},nr=new WeakMap,_u=new WeakMap,WE);function Od(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function N_(t){return{onFetch:(e,n)=>{var u,m,h,p,y;const r=e.options,s=(h=(m=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:m.fetchMore)==null?void 0:h.direction,i=((p=e.state.data)==null?void 0:p.pages)||[],o=((y=e.state.data)==null?void 0:y.pageParams)||[];let l={pages:[],pageParams:[]},c=0;const d=async()=>{let g=!1;const w=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},v=SS(e.options,e.fetchOptions),x=async(_,C,M)=>{if(g)return Promise.reject();if(C==null&&_.pages.length)return Promise.resolve(_);const R={queryKey:e.queryKey,pageParam:C,direction:M?"backward":"forward",meta:e.options.meta};w(R);const k=await v(R),{maxPages:b}=e.options,T=M?LO:OO;return{pages:T(_.pages,k,b),pageParams:T(_.pageParams,C,b)}};if(s&&i.length){const _=s==="backward",C=_?YO:T_,M={pages:i,pageParams:o},R=C(r,M);l=await x(M,R,_)}else{const _=t??i.length;do{const C=c===0?o[0]??r.initialPageParam:T_(r,l);if(c>0&&C==null)break;l=await x(l,C),c++}while(c<_)}return l};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,d,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function T_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function YO(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ct,mi,pi,Xa,Ja,gi,Za,el,HE,XO=(HE=class{constructor(t={}){Qe(this,Ct);Qe(this,mi);Qe(this,pi);Qe(this,Xa);Qe(this,Ja);Qe(this,gi);Qe(this,Za);Qe(this,el);ke(this,Ct,t.queryCache||new qO),ke(this,mi,t.mutationCache||new QO),ke(this,pi,t.defaultOptions||{}),ke(this,Xa,new Map),ke(this,Ja,new Map),ke(this,gi,0)}mount(){md(this,gi)._++,Z(this,gi)===1&&(ke(this,Za,CS.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Ct).onFocus())})),ke(this,el,tf.subscribe(async t=>{t&&(await this.resumePausedMutations(),Z(this,Ct).onOnline())})))}unmount(){var t,e;md(this,gi)._--,Z(this,gi)===0&&((t=Z(this,Za))==null||t.call(this),ke(this,Za,void 0),(e=Z(this,el))==null||e.call(this),ke(this,el,void 0))}isFetching(t){return Z(this,Ct).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return Z(this,mi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Ct).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=Z(this,Ct).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(x_(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return Z(this,Ct).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=Z(this,Ct).get(r.queryHash),i=s==null?void 0:s.state.data,o=jO(e,i);if(o!==void 0)return Z(this,Ct).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Ln.batch(()=>Z(this,Ct).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=Z(this,Ct).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=Z(this,Ct);Ln.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=Z(this,Ct),r={type:"active",...t};return Ln.batch(()=>(n.findAll(t).forEach(s=>{s.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=Ln.batch(()=>Z(this,Ct).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(jr).catch(jr)}invalidateQueries(t={},e={}){return Ln.batch(()=>{if(Z(this,Ct).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=Ln.batch(()=>Z(this,Ct).findAll(t).filter(s=>!s.isDisabled()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(jr)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(jr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=Z(this,Ct).build(this,e);return n.isStaleByTime(x_(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(jr).catch(jr)}fetchInfiniteQuery(t){return t.behavior=N_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(jr).catch(jr)}ensureInfiniteQueryData(t){return t.behavior=N_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return tf.isOnline()?Z(this,mi).resumePausedMutations():Promise.resolve()}getQueryCache(){return Z(this,Ct)}getMutationCache(){return Z(this,mi)}getDefaultOptions(){return Z(this,pi)}setDefaultOptions(t){ke(this,pi,t)}setQueryDefaults(t,e){Z(this,Xa).set(su(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...Z(this,Xa).values()];let n={};return e.forEach(r=>{iu(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){Z(this,Ja).set(su(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...Z(this,Ja).values()];let n={};return e.forEach(r=>{iu(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...Z(this,pi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=px(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===gx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...Z(this,pi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){Z(this,Ct).clear(),Z(this,mi).clear()}},Ct=new WeakMap,mi=new WeakMap,pi=new WeakMap,Xa=new WeakMap,Ja=new WeakMap,gi=new WeakMap,Za=new WeakMap,el=new WeakMap,HE),JO=N.createContext(void 0),ZO=({client:t,children:e})=>(N.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),a.jsx(JO.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ou(){return ou=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ou.apply(this,arguments)}var xi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(xi||(xi={}));const S_="popstate";function e5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return gy("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:nf(s)}return n5(e,n,null,t)}function Ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function PS(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function t5(){return Math.random().toString(36).substr(2,8)}function C_(t,e){return{usr:t.state,key:t.key,idx:e}}function gy(t,e,n,r){return n===void 0&&(n=null),ou({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Sl(e):e,{state:n,key:e&&e.key||r||t5()})}function nf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Sl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function n5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=xi.Pop,c=null,d=u();d==null&&(d=0,o.replaceState(ou({},o.state,{idx:d}),""));function u(){return(o.state||{idx:null}).idx}function m(){l=xi.Pop;let w=u(),v=w==null?null:w-d;d=w,c&&c({action:l,location:g.location,delta:v})}function h(w,v){l=xi.Push;let x=gy(g.location,w,v);d=u()+1;let _=C_(x,d),C=g.createHref(x);try{o.pushState(_,"",C)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(C)}i&&c&&c({action:l,location:g.location,delta:1})}function p(w,v){l=xi.Replace;let x=gy(g.location,w,v);d=u();let _=C_(x,d),C=g.createHref(x);o.replaceState(_,"",C),i&&c&&c({action:l,location:g.location,delta:0})}function y(w){let v=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof w=="string"?w:nf(w);return x=x.replace(/ $/,"%20"),Ft(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let g={get action(){return l},get location(){return t(s,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(S_,m),c=w,()=>{s.removeEventListener(S_,m),c=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let v=y(w);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(w){return o.go(w)}};return g}var k_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(k_||(k_={}));function r5(t,e,n){return n===void 0&&(n="/"),s5(t,e,n,!1)}function s5(t,e,n,r){let s=typeof e=="string"?Sl(e):e,i=yx(s.pathname||"/",n);if(i==null)return null;let o=RS(t);i5(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=g5(i);l=m5(o[c],d,r)}return l}function RS(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(Ft(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=ji([r,c.relativePath]),u=n.concat(c);i.children&&i.children.length>0&&(Ft(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),RS(i.children,e,u,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:h5(d,i.index),routesMeta:u})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of DS(i.path))s(i,o,c)}),e}function DS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=DS(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function i5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:f5(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const o5=/^:[\w-]+$/,a5=3,l5=2,c5=1,u5=10,d5=-2,I_=t=>t==="*";function h5(t,e){let n=t.split("/"),r=n.length;return n.some(I_)&&(r+=d5),e&&(r+=l5),n.filter(s=>!I_(s)).reduce((s,i)=>s+(o5.test(i)?a5:i===""?c5:u5),r)}function f5(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function m5(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],d=l===r.length-1,u=i==="/"?e:e.slice(i.length)||"/",m=j_({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),h=c.route;if(!m&&d&&n&&!r[r.length-1].route.index&&(m=j_({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ji([i,m.pathname]),pathnameBase:w5(ji([i,m.pathnameBase])),route:h}),m.pathnameBase!=="/"&&(i=ji([i,m.pathnameBase]))}return o}function j_(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=p5(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((d,u,m)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let g=l[m]||"";o=i.slice(0,i.length-g.length).replace(/(.)\/+$/,"$1")}const y=l[m];return p&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function p5(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),PS(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function g5(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return PS(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function yx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function y5(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Sl(t):t;return{pathname:n?n.startsWith("/")?n:v5(n,e):e,search:_5(r),hash:b5(s)}}function v5(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Dp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function x5(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vx(t,e){let n=x5(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function xx(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Sl(t):(s=ou({},t),Ft(!s.pathname||!s.pathname.includes("?"),Dp("?","pathname","search",s)),Ft(!s.pathname||!s.pathname.includes("#"),Dp("#","pathname","hash",s)),Ft(!s.search||!s.search.includes("#"),Dp("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),m-=1;s.pathname=h.join("/")}l=m>=0?e[m]:"/"}let c=y5(s,l),d=o&&o!=="/"&&o.endsWith("/"),u=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ji=t=>t.join("/").replace(/\/\/+/g,"/"),w5=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_5=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,b5=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function E5(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const MS=["post","put","patch","delete"];new Set(MS);const N5=["get",...MS];new Set(N5);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function au(){return au=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},au.apply(this,arguments)}const wx=N.createContext(null),T5=N.createContext(null),Zi=N.createContext(null),am=N.createContext(null),eo=N.createContext({outlet:null,matches:[],isDataRoute:!1}),OS=N.createContext(null);function S5(t,e){let{relative:n}=e===void 0?{}:e;Cl()||Ft(!1);let{basename:r,navigator:s}=N.useContext(Zi),{hash:i,pathname:o,search:l}=FS(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ji([r,o])),s.createHref({pathname:c,search:l,hash:i})}function Cl(){return N.useContext(am)!=null}function kl(){return Cl()||Ft(!1),N.useContext(am).location}function LS(t){N.useContext(Zi).static||N.useLayoutEffect(t)}function Mu(){let{isDataRoute:t}=N.useContext(eo);return t?V5():C5()}function C5(){Cl()||Ft(!1);let t=N.useContext(wx),{basename:e,future:n,navigator:r}=N.useContext(Zi),{matches:s}=N.useContext(eo),{pathname:i}=kl(),o=JSON.stringify(vx(s,n.v7_relativeSplatPath)),l=N.useRef(!1);return LS(()=>{l.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!l.current)return;if(typeof d=="number"){r.go(d);return}let m=xx(d,JSON.parse(o),i,u.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ji([e,m.pathname])),(u.replace?r.replace:r.push)(m,u.state,u)},[e,r,o,i,t])}function FS(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=N.useContext(Zi),{matches:s}=N.useContext(eo),{pathname:i}=kl(),o=JSON.stringify(vx(s,r.v7_relativeSplatPath));return N.useMemo(()=>xx(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function k5(t,e){return I5(t,e)}function I5(t,e,n,r){Cl()||Ft(!1);let{navigator:s}=N.useContext(Zi),{matches:i}=N.useContext(eo),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=kl(),u;if(e){var m;let w=typeof e=="string"?Sl(e):e;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||Ft(!1),u=w}else u=d;let h=u.pathname||"/",p=h;if(c!=="/"){let w=c.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=r5(t,{pathname:p}),g=D5(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},l,w.params),pathname:ji([c,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ji([c,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,n,r);return e&&g?N.createElement(am.Provider,{value:{location:au({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:xi.Pop}},g):g}function j5(){let t=F5(),e=E5(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),n?N.createElement("pre",{style:s},n):null,null)}const A5=N.createElement(j5,null);class P5 extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?N.createElement(eo.Provider,{value:this.props.routeContext},N.createElement(OS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R5(t){let{routeContext:e,match:n,children:r}=t,s=N.useContext(wx);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),N.createElement(eo.Provider,{value:e},r)}function D5(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let u=o.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);u>=0||Ft(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let m=o[u];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=u),m.route.id){let{loaderData:h,errors:p}=n,y=m.route.loader&&h[m.route.id]===void 0&&(!p||p[m.route.id]===void 0);if(m.route.lazy||y){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((u,m,h)=>{let p,y=!1,g=null,w=null;n&&(p=l&&m.route.id?l[m.route.id]:void 0,g=m.route.errorElement||A5,c&&(d<0&&h===0?(y=!0,w=null):d===h&&(y=!0,w=m.route.hydrateFallbackElement||null)));let v=e.concat(o.slice(0,h+1)),x=()=>{let _;return p?_=g:y?_=w:m.route.Component?_=N.createElement(m.route.Component,null):m.route.element?_=m.route.element:_=u,N.createElement(R5,{match:m,routeContext:{outlet:u,matches:v,isDataRoute:n!=null},children:_})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?N.createElement(P5,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var VS=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(VS||{}),rf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(rf||{});function M5(t){let e=N.useContext(wx);return e||Ft(!1),e}function O5(t){let e=N.useContext(T5);return e||Ft(!1),e}function L5(t){let e=N.useContext(eo);return e||Ft(!1),e}function US(t){let e=L5(),n=e.matches[e.matches.length-1];return n.route.id||Ft(!1),n.route.id}function F5(){var t;let e=N.useContext(OS),n=O5(rf.UseRouteError),r=US(rf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function V5(){let{router:t}=M5(VS.UseNavigateStable),e=US(rf.UseNavigateStable),n=N.useRef(!1);return LS(()=>{n.current=!0}),N.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,au({fromRouteId:e},i)))},[t,e])}function U5(t){let{to:e,replace:n,state:r,relative:s}=t;Cl()||Ft(!1);let{future:i,static:o}=N.useContext(Zi),{matches:l}=N.useContext(eo),{pathname:c}=kl(),d=Mu(),u=xx(e,vx(l,i.v7_relativeSplatPath),c,s==="path"),m=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(m),{replace:n,state:r,relative:s}),[d,m,s,n,r]),null}function ti(t){Ft(!1)}function B5(t){let{basename:e="/",children:n=null,location:r,navigationType:s=xi.Pop,navigator:i,static:o=!1,future:l}=t;Cl()&&Ft(!1);let c=e.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:i,static:o,future:au({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=Sl(r));let{pathname:u="/",search:m="",hash:h="",state:p=null,key:y="default"}=r,g=N.useMemo(()=>{let w=yx(u,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:p,key:y},navigationType:s}},[c,u,m,h,p,y,s]);return g==null?null:N.createElement(Zi.Provider,{value:d},N.createElement(am.Provider,{children:n,value:g}))}function z5(t){let{children:e,location:n}=t;return k5(yy(e),n)}new Promise(()=>{});function yy(t,e){e===void 0&&(e=[]);let n=[];return N.Children.forEach(t,(r,s)=>{if(!N.isValidElement(r))return;let i=[...e,s];if(r.type===N.Fragment){n.push.apply(n,yy(r.props.children,i));return}r.type!==ti&&Ft(!1),!r.props.index||!r.props.children||Ft(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=yy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vy(){return vy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vy.apply(this,arguments)}function $5(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function W5(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H5(t,e){return t.button===0&&(!e||e==="_self")&&!W5(t)}const q5=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G5="6";try{window.__reactRouterVersion=G5}catch{}const K5="startTransition",A_=rN[K5];function Q5(t){let{basename:e,children:n,future:r,window:s}=t,i=N.useRef();i.current==null&&(i.current=e5({window:s,v5Compat:!0}));let o=i.current,[l,c]=N.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},u=N.useCallback(m=>{d&&A_?A_(()=>c(m)):c(m)},[c,d]);return N.useLayoutEffect(()=>o.listen(u),[o,u]),N.createElement(B5,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const Y5=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",X5=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Mp=N.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:u,viewTransition:m}=e,h=$5(e,q5),{basename:p}=N.useContext(Zi),y,g=!1;if(typeof d=="string"&&X5.test(d)&&(y=d,Y5))try{let _=new URL(window.location.href),C=d.startsWith("//")?new URL(_.protocol+d):new URL(d),M=yx(C.pathname,p);C.origin===_.origin&&M!=null?d=M+C.search+C.hash:g=!0}catch{}let w=S5(d,{relative:s}),v=J5(d,{replace:o,state:l,target:c,preventScrollReset:u,relative:s,viewTransition:m});function x(_){r&&r(_),_.defaultPrevented||v(_)}return N.createElement("a",vy({},h,{href:y||w,onClick:g||i?r:x,ref:n,target:c}))});var P_;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(P_||(P_={}));var R_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(R_||(R_={}));function J5(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=Mu(),d=kl(),u=FS(t,{relative:o});return N.useCallback(m=>{if(H5(m,n)){m.preventDefault();let h=r!==void 0?r:nf(d)===nf(u);c(t,{replace:h,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[d,c,u,r,s,n,t,i,o,l])}const Z5=()=>{};var D_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},eL=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,u=i>>2,m=(i&3)<<4|l>>4;let h=(l&15)<<2|d>>6,p=d&63;c||(p=64,o||(h=64)),r.push(n[u],n[m],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(BS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eL(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const m=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||d==null||m==null)throw new tL;const h=i<<2|l>>4;if(r.push(h),d!==64){const p=l<<4&240|d>>2;if(r.push(p),m!==64){const y=d<<6&192|m;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tL extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nL=function(t){const e=BS(t);return zS.encodeByteArray(e,!0)},sf=function(t){return nL(t).replace(/\./g,"")},$S=function(t){try{return zS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sL=()=>rL().__FIREBASE_DEFAULTS__,iL=()=>{if(typeof process>"u"||typeof D_>"u")return;const t=D_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oL=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&$S(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return Z5()||sL()||iL()||oL()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},WS=t=>{var e,n;return(n=(e=lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},HS=t=>{const e=WS(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},qS=()=>{var t;return(t=lm())===null||t===void 0?void 0:t.config},GS=t=>{var e;return(e=lm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ea(t){return t.endsWith(".cloudworkstations.dev")}async function _x(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[sf(JSON.stringify(n)),sf(JSON.stringify(o)),""].join(".")}const jc={};function lL(){const t={prod:[],emulator:[]};for(const e of Object.keys(jc))jc[e]?t.emulator.push(e):t.prod.push(e);return t}function cL(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let M_=!1;function bx(t,e){if(typeof window>"u"||typeof document>"u"||!ea(window.location.host)||jc[t]===e||jc[t]||M_)return;jc[t]=e;function n(h){return`__firebase__banner__${h}`}const r="__firebase__banner",i=lL().prod.length>0;function o(){const h=document.getElementById(r);h&&h.remove()}function l(h){h.style.display="flex",h.style.background="#7faaf0",h.style.position="fixed",h.style.bottom="5px",h.style.left="5px",h.style.padding=".5em",h.style.borderRadius="5px",h.style.alignItems="center"}function c(h,p){h.setAttribute("width","24"),h.setAttribute("id",p),h.setAttribute("height","24"),h.setAttribute("viewBox","0 0 24 24"),h.setAttribute("fill","none"),h.style.marginLeft="-6px"}function d(){const h=document.createElement("span");return h.style.cursor="pointer",h.style.marginLeft="16px",h.style.fontSize="24px",h.innerHTML=" &times;",h.onclick=()=>{M_=!0,o()},h}function u(h,p){h.setAttribute("id",p),h.innerText="Learn more",h.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",h.setAttribute("target","__blank"),h.style.paddingLeft="5px",h.style.textDecoration="underline"}function m(){const h=cL(r),p=n("text"),y=document.getElementById(p)||document.createElement("span"),g=n("learnmore"),w=document.getElementById(g)||document.createElement("a"),v=n("preprendIcon"),x=document.getElementById(v)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(h.created){const _=h.element;l(_),u(w,g);const C=d();c(x,v),_.append(x,y,w,C),document.body.appendChild(_)}i?(y.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",p)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uL(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function dL(){var t;const e=(t=lm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function hL(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fL(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mL(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pL(){const t=Sn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gL(){return!dL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yL(){try{return typeof indexedDB=="object"}catch{return!1}}function vL(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="FirebaseError";class gs extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=xL,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ou.prototype.create)}}class Ou{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?wL(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new gs(s,l,r)}}function wL(t,e){return t.replace(_L,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const _L=/\{\$([^}]+)}/g;function bL(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Bi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(O_(i)&&O_(o)){if(!Bi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function O_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function fc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function mc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function EL(t,e){const n=new NL(t,e);return n.subscribe.bind(n)}class NL{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");TL(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Op),s.error===void 0&&(s.error=Op),s.complete===void 0&&(s.complete=Op);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TL(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Op(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(t){return t&&t._delegate?t._delegate:t}class zi{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SL{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aL;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kL(e))try{this.getOrInitializeService({instanceIdentifier:mo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=mo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=mo){return this.instances.has(e)}getOptions(e=mo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:CL(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=mo){return this.component?this.component.multipleInstances?e:mo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function CL(t){return t===mo?void 0:t}function kL(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new SL(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(De||(De={}));const jL={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},AL=De.INFO,PL={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},RL=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=PL[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ex{constructor(e){this.name=e,this._logLevel=AL,this._logHandler=RL,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?jL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const DL=(t,e)=>e.some(n=>t instanceof n);let L_,F_;function ML(){return L_||(L_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function OL(){return F_||(F_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const QS=new WeakMap,xy=new WeakMap,YS=new WeakMap,Lp=new WeakMap,Nx=new WeakMap;function LL(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ai(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&QS.set(n,t)}).catch(()=>{}),Nx.set(e,t),e}function FL(t){if(xy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});xy.set(t,e)}let wy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return xy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||YS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VL(t){wy=t(wy)}function UL(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Fp(this),e,...n);return YS.set(r,e.sort?e.sort():[e]),Ai(r)}:OL().includes(t)?function(...e){return t.apply(Fp(this),e),Ai(QS.get(this))}:function(...e){return Ai(t.apply(Fp(this),e))}}function BL(t){return typeof t=="function"?UL(t):(t instanceof IDBTransaction&&FL(t),DL(t,ML())?new Proxy(t,wy):t)}function Ai(t){if(t instanceof IDBRequest)return LL(t);if(Lp.has(t))return Lp.get(t);const e=BL(t);return e!==t&&(Lp.set(t,e),Nx.set(e,t)),e}const Fp=t=>Nx.get(t);function zL(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=Ai(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ai(o.result),c.oldVersion,c.newVersion,Ai(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),l}const $L=["get","getKey","getAll","getAllKeys","count"],WL=["put","add","delete","clear"],Vp=new Map;function V_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Vp.get(e))return Vp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=WL.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||$L.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(l.shift())),(await Promise.all([d[n](...l),s&&c.done]))[0]};return Vp.set(e,i),i}VL(t=>({...t,get:(e,n,r)=>V_(e,n)||t.get(e,n,r),has:(e,n)=>!!V_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HL{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qL(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function qL(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _y="@firebase/app",U_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Ex("@firebase/app"),GL="@firebase/app-compat",KL="@firebase/analytics-compat",QL="@firebase/analytics",YL="@firebase/app-check-compat",XL="@firebase/app-check",JL="@firebase/auth",ZL="@firebase/auth-compat",e6="@firebase/database",t6="@firebase/data-connect",n6="@firebase/database-compat",r6="@firebase/functions",s6="@firebase/functions-compat",i6="@firebase/installations",o6="@firebase/installations-compat",a6="@firebase/messaging",l6="@firebase/messaging-compat",c6="@firebase/performance",u6="@firebase/performance-compat",d6="@firebase/remote-config",h6="@firebase/remote-config-compat",f6="@firebase/storage",m6="@firebase/storage-compat",p6="@firebase/firestore",g6="@firebase/ai",y6="@firebase/firestore-compat",v6="firebase",x6="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",w6={[_y]:"fire-core",[GL]:"fire-core-compat",[QL]:"fire-analytics",[KL]:"fire-analytics-compat",[XL]:"fire-app-check",[YL]:"fire-app-check-compat",[JL]:"fire-auth",[ZL]:"fire-auth-compat",[e6]:"fire-rtdb",[t6]:"fire-data-connect",[n6]:"fire-rtdb-compat",[r6]:"fire-fn",[s6]:"fire-fn-compat",[i6]:"fire-iid",[o6]:"fire-iid-compat",[a6]:"fire-fcm",[l6]:"fire-fcm-compat",[c6]:"fire-perf",[u6]:"fire-perf-compat",[d6]:"fire-rc",[h6]:"fire-rc-compat",[f6]:"fire-gcs",[m6]:"fire-gcs-compat",[p6]:"fire-fst",[y6]:"fire-fst-compat",[g6]:"fire-vertex","fire-js":"fire-js",[v6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=new Map,_6=new Map,Ey=new Map;function B_(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vo(t){const e=t.name;if(Ey.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;Ey.set(e,t);for(const n of of.values())B_(n,t);for(const n of _6.values())B_(n,t);return!0}function cm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pi=new Ou("app","Firebase",b6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new zi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta=x6;function XS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Pi.create("bad-app-name",{appName:String(s)});if(n||(n=qS()),!n)throw Pi.create("no-options");const i=of.get(s);if(i){if(Bi(n,i.options)&&Bi(r,i.config))return i;throw Pi.create("duplicate-app",{appName:s})}const o=new IL(s);for(const c of Ey.values())o.addComponent(c);const l=new E6(n,r,o);return of.set(s,l),l}function Fu(t=by){const e=of.get(t);if(!e&&t===by&&qS())return XS();if(!e)throw Pi.create("no-app",{appName:t});return e}function as(t,e,n){var r;let s=(r=w6[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(l.join(" "));return}Vo(new zi(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6="firebase-heartbeat-database",T6=1,lu="firebase-heartbeat-store";let Up=null;function JS(){return Up||(Up=zL(N6,T6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(lu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pi.create("idb-open",{originalErrorMessage:t.message})})),Up}async function S6(t){try{const n=(await JS()).transaction(lu),r=await n.objectStore(lu).get(ZS(t));return await n.done,r}catch(e){if(e instanceof gs)Fs.warn(e.message);else{const n=Pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function z_(t,e){try{const r=(await JS()).transaction(lu,"readwrite");await r.objectStore(lu).put(e,ZS(t)),await r.done}catch(n){if(n instanceof gs)Fs.warn(n.message);else{const r=Pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(r.message)}}}function ZS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=1024,k6=30;class I6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new A6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>k6){const o=P6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=$_(),{heartbeatsToSend:r,unsentEntries:s}=j6(this._heartbeatsCache.heartbeats),i=sf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Fs.warn(n),""}}}function $_(){return new Date().toISOString().substring(0,10)}function j6(t,e=C6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),W_(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),W_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class A6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yL()?vL().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await S6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return z_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function W_(t){return sf(JSON.stringify({version:2,heartbeats:t})).length}function P6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){Vo(new zi("platform-logger",e=>new HL(e),"PRIVATE")),Vo(new zi("heartbeat",e=>new I6(e),"PRIVATE")),as(_y,U_,t),as(_y,U_,"esm2017"),as("fire-js","")}R6("");var D6="firebase",M6="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(D6,M6,"app");var ns=function(){return ns=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},ns.apply(this,arguments)};function Vu(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function O6(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function eC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const L6=eC,tC=new Ou("auth","Firebase",eC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=new Ex("@firebase/auth");function F6(t,...e){af.logLevel<=De.WARN&&af.warn(`Auth (${ta}): ${t}`,...e)}function dh(t,...e){af.logLevel<=De.ERROR&&af.error(`Auth (${ta}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t,...e){throw Tx(t,...e)}function ls(t,...e){return Tx(t,...e)}function nC(t,e,n){const r=Object.assign(Object.assign({},L6()),{[e]:n});return new Ou("auth","Firebase",r).create(e,{appName:t.name})}function Is(t){return nC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tC.create(t,...e)}function we(t,e,...n){if(!t)throw Tx(e,...n)}function Ss(t){const e="INTERNAL ASSERTION FAILED: "+t;throw dh(e),new Error(e)}function Vs(t,e){t||Ss(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ny(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function V6(){return H_()==="http:"||H_()==="https:"}function H_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(V6()||fL()||"connection"in navigator)?navigator.onLine:!0}function B6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vs(n>e,"Short delay should be less than long delay!"),this.isMobile=uL()||mL()}get(){return U6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(t,e){Vs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ss("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ss("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ss("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],W6=new Uu(3e4,6e4);function to(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function no(t,e,n,r,s={}){return sC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Lu(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return hL()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&ea(t.emulatorConfig.host)&&(d.credentials="include"),rC.fetch()(await iC(t,t.config.apiHost,n,l),d)})}async function sC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},z6),e);try{const s=new q6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Ld(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[c,d]=l.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ld(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Ld(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Ld(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw nC(t,u,d);zr(t,u)}}catch(s){if(s instanceof gs)throw s;zr(t,"network-request-failed",{message:String(s)})}}async function Bu(t,e,n,r,s={}){const i=await no(t,e,n,r,s);return"mfaPendingCredential"in i&&zr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function iC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?Sx(t.config,s):`${t.config.apiScheme}://${s}`;return $6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function H6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class q6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ls(this.auth,"network-request-failed")),W6.get())})}}function Ld(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=ls(t,e,r);return s.customData._tokenResponse=n,s}function q_(t){return t!==void 0&&t.enterprise!==void 0}class G6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return H6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function K6(t,e){return no(t,"GET","/v2/recaptchaConfig",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q6(t,e){return no(t,"POST","/v1/accounts:delete",e)}async function lf(t,e){return no(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Y6(t,e=!1){const n=Nt(t),r=await n.getIdToken(e),s=Cx(r);we(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ac(Bp(s.auth_time)),issuedAtTime:Ac(Bp(s.iat)),expirationTime:Ac(Bp(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Bp(t){return Number(t)*1e3}function Cx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const s=$S(n);return s?JSON.parse(s):(dh("Failed to decode base64 JWT payload"),null)}catch(s){return dh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function G_(t){const e=Cx(t);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof gs&&X6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function X6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ac(this.lastLoginAt),this.creationTime=Ac(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cf(t){var e;const n=t.auth,r=await t.getIdToken(),s=await cu(t,lf(n,{idToken:r}));we(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?oC(i.providerUserInfo):[],l=eF(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),u=c?d:!1,m={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Ty(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,m)}async function Z6(t){const e=Nt(t);await cf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function eF(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function oC(t){return t.map(e=>{var{providerId:n}=e,r=Vu(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tF(t,e){const n=await sC(t,{},async()=>{const r=Lu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await iC(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",rC.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function nF(t,e){return no(t,"POST","/v2/accounts:revokeToken",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):G_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=G_(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await tF(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ba;return r&&(we(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(we(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return Ss("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Js(t,e){we(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Dr{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Vu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new J6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Ty(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Y6(this,e)}reload(){return Z6(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await cf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(or(this.auth.app))return Promise.reject(Is(this.auth));const e=await this.getIdToken();return await cu(this,Q6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,c,d,u;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(s=n.email)!==null&&s!==void 0?s:void 0,p=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,v=(d=n.createdAt)!==null&&d!==void 0?d:void 0,x=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:_,emailVerified:C,isAnonymous:M,providerData:R,stsTokenManager:k}=n;we(_&&k,e,"internal-error");const b=Ba.fromJSON(this.name,k);we(typeof _=="string",e,"internal-error"),Js(m,e.name),Js(h,e.name),we(typeof C=="boolean",e,"internal-error"),we(typeof M=="boolean",e,"internal-error"),Js(p,e.name),Js(y,e.name),Js(g,e.name),Js(w,e.name),Js(v,e.name),Js(x,e.name);const T=new Dr({uid:_,auth:e,email:h,emailVerified:C,displayName:m,isAnonymous:M,photoURL:y,phoneNumber:p,tenantId:g,stsTokenManager:b,createdAt:v,lastLoginAt:x});return R&&Array.isArray(R)&&(T.providerData=R.map(S=>Object.assign({},S))),w&&(T._redirectEventId=w),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ba;s.updateFromServerResponse(n);const i=new Dr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await cf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];we(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?oC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new Ba;l.updateFromIdToken(r);const c=new Dr({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Ty(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new Map;function Cs(t){Vs(t instanceof Function,"Expected a class definition");let e=K_.get(t);return e?(Vs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,K_.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}aC.type="NONE";const Q_=aC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(t,e,n){return`firebase:${t}:${e}:${n}`}class za{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=hh(this.userKey,s.apiKey,i),this.fullPersistenceKey=hh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lf(this.auth,{idToken:e}).catch(()=>{});return n?Dr._fromGetAccountInfoResponse(this.auth,n,e):null}return Dr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new za(Cs(Q_),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||Cs(Q_);const o=hh(r,e.config.apiKey,e.name);let l=null;for(const d of n)try{const u=await d._get(o);if(u){let m;if(typeof u=="string"){const h=await lf(e,{idToken:u}).catch(()=>{});if(!h)break;m=await Dr._fromGetAccountInfoResponse(e,h,u)}else m=Dr._fromJSON(e,u);d!==i&&(l=m),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new za(i,e,r):(i=c[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new za(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fC(e))return"Blackberry";if(mC(e))return"Webos";if(cC(e))return"Safari";if((e.includes("chrome/")||uC(e))&&!e.includes("edge/"))return"Chrome";if(hC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function lC(t=Sn()){return/firefox\//i.test(t)}function cC(t=Sn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uC(t=Sn()){return/crios\//i.test(t)}function dC(t=Sn()){return/iemobile/i.test(t)}function hC(t=Sn()){return/android/i.test(t)}function fC(t=Sn()){return/blackberry/i.test(t)}function mC(t=Sn()){return/webos/i.test(t)}function kx(t=Sn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function rF(t=Sn()){var e;return kx(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function sF(){return pL()&&document.documentMode===10}function pC(t=Sn()){return kx(t)||hC(t)||mC(t)||fC(t)||/windows phone/i.test(t)||dC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gC(t,e=[]){let n;switch(t){case"Browser":n=Y_(Sn());break;case"Worker":n=`${Y_(Sn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ta}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iF{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const c=e(i);o(c)}catch(c){l(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oF(t,e={}){return no(t,"GET","/v2/passwordPolicy",to(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aF=6;class lF{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:aF,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(l=c.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cF{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new X_(this),this.idTokenSubscription=new X_(this),this.beforeStateQueue=new iF(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Cs(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lf(this,{idToken:e}),r=await Dr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===l)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await cf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=B6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(or(this.app))return Promise.reject(Is(this));const n=e?Nt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return or(this.app)?Promise.reject(Is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return or(this.app)?Promise.reject(Is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Cs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await oF(this),n=new lF(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ou("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await nF(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Cs(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[Cs(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&F6(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function na(t){return Nt(t)}class X_{constructor(e){this.auth=e,this.observer=null,this.addObserver=EL(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function uF(t){um=t}function yC(t){return um.loadJS(t)}function dF(){return um.recaptchaEnterpriseScript}function hF(){return um.gapiScript}function fF(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class mF{constructor(){this.enterprise=new pF}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class pF{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const gF="recaptcha-enterprise",vC="NO_RECAPTCHA";class yF{constructor(e){this.type=gF,this.auth=na(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,l)=>{K6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const d=new G6(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{l(c)})})}function s(i,o,l){const c=window.grecaptcha;q_(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(vC)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new mF().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(l=>{if(!n&&q_(window.grecaptcha))s(l,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=dF();c.length!==0&&(c+=l),yC(c).then(()=>{s(l,i,o)}).catch(d=>{o(d)})}}).catch(l=>{o(l)})})}}async function J_(t,e,n,r=!1,s=!1){const i=new yF(t);let o;if(s)o=vC;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const l=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in l){const c=l.phoneEnrollmentInfo.phoneNumber,d=l.phoneEnrollmentInfo.recaptchaToken;Object.assign(l,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in l){const c=l.phoneSignInInfo.recaptchaToken;Object.assign(l,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return l}return r?Object.assign(l,{captchaResp:o}):Object.assign(l,{captchaResponse:o}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Sy(t,e,n,r,s){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await J_(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await J_(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vF(t,e){const n=cm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Bi(i,e??{}))return s;zr(s,"already-initialized")}return n.initialize({options:e})}function xF(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Cs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function wF(t,e,n){const r=na(t);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=xC(e),{host:o,port:l}=_F(e),c=l===null?"":`:${l}`,d={url:`${i}//${o}${c}/`},u=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(Bi(d,r.config.emulator)&&Bi(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,ea(o)?(_x(`${i}//${o}${c}`),bx("Auth",!0)):bF()}function xC(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function _F(t){const e=xC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:Z_(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:Z_(o)}}}function Z_(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function bF(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ss("not implemented")}_getIdTokenResponse(e){return Ss("not implemented")}_linkToIdToken(e,n){return Ss("not implemented")}_getReauthenticationResolver(e){return Ss("not implemented")}}async function EF(t,e){return no(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NF(t,e){return Bu(t,"POST","/v1/accounts:signInWithPassword",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TF(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}async function SF(t,e){return Bu(t,"POST","/v1/accounts:signInWithEmailLink",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends Ix{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sy(e,n,"signInWithPassword",NF);case"emailLink":return TF(e,{email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sy(e,r,"signUpPassword",EF);case"emailLink":return SF(e,{idToken:n,email:this._email,oobCode:this._password});default:zr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $a(t,e){return Bu(t,"POST","/v1/accounts:signInWithIdp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CF="http://localhost";class Uo extends Ix{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):zr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Vu(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new Uo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return $a(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$a(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$a(e,n)}buildRequest(){const e={requestUri:CF,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kF(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function IF(t){const e=fc(mc(t)).link,n=e?fc(mc(e)).deep_link_id:null,r=fc(mc(t)).deep_link_id;return(r?fc(mc(r)).link:null)||r||n||e||t}class jx{constructor(e){var n,r,s,i,o,l;const c=fc(mc(e)),d=(n=c.apiKey)!==null&&n!==void 0?n:null,u=(r=c.oobCode)!==null&&r!==void 0?r:null,m=kF((s=c.mode)!==null&&s!==void 0?s:null);we(d&&u&&m,"argument-error"),this.apiKey=d,this.operation=m,this.code=u,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.lang)!==null&&o!==void 0?o:null,this.tenantId=(l=c.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=IF(e);try{return new jx(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=jx.parseLink(n);return we(r,"argument-error"),uu._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu extends wC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ai extends zu{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ai.credential(e.oauthAccessToken)}catch{return null}}}ai.FACEBOOK_SIGN_IN_METHOD="facebook.com";ai.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class li extends zu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:li.PROVIDER_ID,signInMethod:li.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return li.credentialFromTaggedObject(e)}static credentialFromError(e){return li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return li.credential(n,r)}catch{return null}}}li.GOOGLE_SIGN_IN_METHOD="google.com";li.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci extends zu{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:ci.PROVIDER_ID,signInMethod:ci.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ci.credentialFromTaggedObject(e)}static credentialFromError(e){return ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ci.credential(e.oauthAccessToken)}catch{return null}}}ci.GITHUB_SIGN_IN_METHOD="github.com";ci.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui extends zu{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:ui.PROVIDER_ID,signInMethod:ui.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ui.credentialFromTaggedObject(e)}static credentialFromError(e){return ui.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ui.credential(n,r)}catch{return null}}}ui.TWITTER_SIGN_IN_METHOD="twitter.com";ui.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jF(t,e){return Bu(t,"POST","/v1/accounts:signUp",to(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await Dr._fromIdTokenResponse(e,r,s),o=eb(r);return new Bo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=eb(r);return new Bo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function eb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf extends gs{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,uf.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new uf(e,n,r,s)}}function _C(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?uf._fromErrorAndOperation(t,i,e,r):i})}async function AF(t,e,n=!1){const r=await cu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Bo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PF(t,e,n=!1){const{auth:r}=t;if(or(r.app))return Promise.reject(Is(r));const s="reauthenticate";try{const i=await cu(t,_C(r,s,e,t),n);we(i.idToken,r,"internal-error");const o=Cx(i.idToken);we(o,r,"internal-error");const{sub:l}=o;return we(t.uid===l,r,"user-mismatch"),Bo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&zr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bC(t,e,n=!1){if(or(t.app))return Promise.reject(Is(t));const r="signIn",s=await _C(t,r,e),i=await Bo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function RF(t,e){return bC(na(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(t){const e=na(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function DF(t,e,n){if(or(t.app))return Promise.reject(Is(t));const r=na(t),o=await Sy(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",jF).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&EC(t),c}),l=await Bo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(l.user),l}function MF(t,e,n){return or(t.app)?Promise.reject(Is(t)):RF(Nt(t),Il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&EC(t),r})}function OF(t,e,n,r){return Nt(t).onIdTokenChanged(e,n,r)}function LF(t,e,n){return Nt(t).beforeAuthStateChanged(e,n)}function FF(t,e,n,r){return Nt(t).onAuthStateChanged(e,n,r)}function VF(t){return Nt(t).signOut()}const df="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(df,"1"),this.storage.removeItem(df),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UF=1e3,BF=10;class TC extends NC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pC(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);sF()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,BF):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},UF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TC.type="LOCAL";const zF=TC;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC extends NC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SC.type="SESSION";const CC=SC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $F(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new dm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async d=>d(n.origin,i)),c=await $F(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}dm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WF{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,c)=>{const d=Ax("",20);s.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(m){const h=m;if(h.data.eventId===d)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(h.data.response);break;default:clearTimeout(u),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cs(){return window}function HF(t){cs().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kC(){return typeof cs().WorkerGlobalScope<"u"&&typeof cs().importScripts=="function"}async function qF(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function KF(){return kC()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC="firebaseLocalStorageDb",QF=1,hf="firebaseLocalStorage",jC="fbase_key";class $u{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hm(t,e){return t.transaction([hf],e?"readwrite":"readonly").objectStore(hf)}function YF(){const t=indexedDB.deleteDatabase(IC);return new $u(t).toPromise()}function Cy(){const t=indexedDB.open(IC,QF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(hf,{keyPath:jC})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(hf)?e(r):(r.close(),await YF(),e(await Cy()))})})}async function tb(t,e,n){const r=hm(t,!0).put({[jC]:e,value:n});return new $u(r).toPromise()}async function XF(t,e){const n=hm(t,!1).get(e),r=await new $u(n).toPromise();return r===void 0?null:r.value}function nb(t,e){const n=hm(t,!0).delete(e);return new $u(n).toPromise()}const JF=800,ZF=3;class AC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Cy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>ZF)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return kC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=dm._getInstance(KF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qF(),!this.activeServiceWorker)return;this.sender=new WF(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||GF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Cy();return await tb(e,df,"1"),await nb(e,df),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>tb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>XF(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>nb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=hm(s,!1).getAll();return new $u(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),JF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AC.type="LOCAL";const eV=AC;new Uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tV(t,e){return e?Cs(e):(we(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px extends Ix{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $a(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $a(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $a(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function nV(t){return bC(t.auth,new Px(t),t.bypassAuthState)}function rV(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),PF(n,new Px(t),t.bypassAuthState)}async function sV(t){const{auth:e,user:n}=t;return we(n,e,"internal-error"),AF(n,new Px(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return nV;case"linkViaPopup":case"linkViaRedirect":return sV;case"reauthViaPopup":case"reauthViaRedirect":return rV;default:zr(this.auth,"internal-error")}}resolve(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iV=new Uu(2e3,1e4);class Aa extends PC{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){Vs(this.filter.length===1,"Popup operations only handle one event");const e=Ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ls(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ls(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ls(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iV.get())};e()}}Aa.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="pendingRedirect",fh=new Map;class aV extends PC{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const r=await lV(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lV(t,e){const n=dV(e),r=uV(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function cV(t,e){fh.set(t._key(),e)}function uV(t){return Cs(t._redirectPersistence)}function dV(t){return hh(oV,t.config.apiKey,t.name)}async function hV(t,e,n=!1){if(or(t.app))return Promise.reject(Is(t));const r=na(t),s=tV(r,e),o=await new aV(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fV=10*60*1e3;class mV{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pV(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!RC(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ls(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=fV&&this.cachedEventUids.clear(),this.cachedEventUids.has(rb(e))}saveEventToCache(e){this.cachedEventUids.add(rb(e)),this.lastProcessedEventTime=Date.now()}}function rb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function RC({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pV(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RC(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gV(t,e={}){return no(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vV=/^https?/;async function xV(t){if(t.config.emulator)return;const{authorizedDomains:e}=await gV(t);for(const n of e)try{if(wV(n))return}catch{}zr(t,"unauthorized-domain")}function wV(t){const e=Ny(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!vV.test(n))return!1;if(yV.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _V=new Uu(3e4,6e4);function sb(){const t=cs().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bV(t){return new Promise((e,n)=>{var r,s,i;function o(){sb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sb(),n(ls(t,"network-request-failed"))},timeout:_V.get()})}if(!((s=(r=cs().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=cs().gapi)===null||i===void 0)&&i.load)o();else{const l=fF("iframefcb");return cs()[l]=()=>{gapi.load?o():n(ls(t,"network-request-failed"))},yC(`${hF()}?onload=${l}`).catch(c=>n(c))}}).catch(e=>{throw mh=null,e})}let mh=null;function EV(t){return mh=mh||bV(t),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV=new Uu(5e3,15e3),TV="__/auth/iframe",SV="emulator/auth/iframe",CV={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function IV(t){const e=t.config;we(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Sx(e,SV):`https://${t.config.authDomain}/${TV}`,r={apiKey:e.apiKey,appName:t.name,v:ta},s=kV.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Lu(r).slice(1)}`}async function jV(t){const e=await EV(t),n=cs().gapi;return we(n,t,"internal-error"),e.open({where:document.body,url:IV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:CV,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=ls(t,"network-request-failed"),l=cs().setTimeout(()=>{i(o)},NV.get());function c(){cs().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PV=500,RV=600,DV="_blank",MV="http://localhost";class ib{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OV(t,e,n,r=PV,s=RV){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const c=Object.assign(Object.assign({},AV),{width:r.toString(),height:s.toString(),top:i,left:o}),d=Sn().toLowerCase();n&&(l=uC(d)?DV:n),lC(d)&&(e=e||MV,c.scrollbars="yes");const u=Object.entries(c).reduce((h,[p,y])=>`${h}${p}=${y},`,"");if(rF(d)&&l!=="_self")return LV(e||"",l),new ib(null);const m=window.open(e||"",l,u);we(m,t,"popup-blocked");try{m.focus()}catch{}return new ib(m)}function LV(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="__/auth/handler",VV="emulator/auth/handler",UV=encodeURIComponent("fac");async function ob(t,e,n,r,s,i){we(t.config.authDomain,t,"auth-domain-config-required"),we(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ta,eventId:s};if(e instanceof wC){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bL(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,m]of Object.entries({}))o[u]=m}if(e instanceof zu){const u=e.getScopes().filter(m=>m!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const c=await t._getAppCheckToken(),d=c?`#${UV}=${encodeURIComponent(c)}`:"";return`${BV(t)}?${Lu(l).slice(1)}${d}`}function BV({config:t}){return t.emulator?Sx(t,VV):`https://${t.authDomain}/${FV}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zp="webStorageSupport";class zV{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=CC,this._completeRedirectFn=hV,this._overrideRedirectResult=cV}async _openPopup(e,n,r,s){var i;Vs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ob(e,n,r,Ny(),s);return OV(e,o,Ax())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ob(e,n,r,Ny(),s);return HF(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Vs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await jV(e),r=new mV(e);return n.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(zp,{type:zp},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[zp];o!==void 0&&n(!!o),zr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xV(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pC()||cC()||kx()}}const $V=zV;var ab="@firebase/auth",lb="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WV{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qV(t){Vo(new zi("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;we(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gC(t)},d=new cF(r,s,i,c);return xF(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vo(new zi("auth-internal",e=>{const n=na(e.getProvider("auth").getImmediate());return(r=>new WV(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(ab,lb,HV(t)),as(ab,lb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GV=5*60,KV=GS("authIdTokenMaxAge")||GV;let cb=null;const QV=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>KV)return;const s=n==null?void 0:n.token;cb!==s&&(cb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function YV(t=Fu()){const e=cm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=vF(t,{popupRedirectResolver:$V,persistence:[eV,zF,CC]}),r=GS("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=QV(i.toString());LF(n,o,()=>o(n.currentUser)),OF(n,l=>o(l))}}const s=WS("auth");return s&&wF(n,`http://${s}`),n}function XV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}uF({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=ls("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",XV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qV("Browser");var ub=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,DC;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,b){function T(){}T.prototype=b.prototype,k.D=b.prototype,k.prototype=new T,k.prototype.constructor=k,k.C=function(S,A,P){for(var j=Array(arguments.length-2),V=2;V<arguments.length;V++)j[V-2]=arguments[V];return b.prototype[A].apply(S,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,b,T){T||(T=0);var S=Array(16);if(typeof b=="string")for(var A=0;16>A;++A)S[A]=b.charCodeAt(T++)|b.charCodeAt(T++)<<8|b.charCodeAt(T++)<<16|b.charCodeAt(T++)<<24;else for(A=0;16>A;++A)S[A]=b[T++]|b[T++]<<8|b[T++]<<16|b[T++]<<24;b=k.g[0],T=k.g[1],A=k.g[2];var P=k.g[3],j=b+(P^T&(A^P))+S[0]+3614090360&4294967295;b=T+(j<<7&4294967295|j>>>25),j=P+(A^b&(T^A))+S[1]+3905402710&4294967295,P=b+(j<<12&4294967295|j>>>20),j=A+(T^P&(b^T))+S[2]+606105819&4294967295,A=P+(j<<17&4294967295|j>>>15),j=T+(b^A&(P^b))+S[3]+3250441966&4294967295,T=A+(j<<22&4294967295|j>>>10),j=b+(P^T&(A^P))+S[4]+4118548399&4294967295,b=T+(j<<7&4294967295|j>>>25),j=P+(A^b&(T^A))+S[5]+1200080426&4294967295,P=b+(j<<12&4294967295|j>>>20),j=A+(T^P&(b^T))+S[6]+2821735955&4294967295,A=P+(j<<17&4294967295|j>>>15),j=T+(b^A&(P^b))+S[7]+4249261313&4294967295,T=A+(j<<22&4294967295|j>>>10),j=b+(P^T&(A^P))+S[8]+1770035416&4294967295,b=T+(j<<7&4294967295|j>>>25),j=P+(A^b&(T^A))+S[9]+2336552879&4294967295,P=b+(j<<12&4294967295|j>>>20),j=A+(T^P&(b^T))+S[10]+4294925233&4294967295,A=P+(j<<17&4294967295|j>>>15),j=T+(b^A&(P^b))+S[11]+2304563134&4294967295,T=A+(j<<22&4294967295|j>>>10),j=b+(P^T&(A^P))+S[12]+1804603682&4294967295,b=T+(j<<7&4294967295|j>>>25),j=P+(A^b&(T^A))+S[13]+4254626195&4294967295,P=b+(j<<12&4294967295|j>>>20),j=A+(T^P&(b^T))+S[14]+2792965006&4294967295,A=P+(j<<17&4294967295|j>>>15),j=T+(b^A&(P^b))+S[15]+1236535329&4294967295,T=A+(j<<22&4294967295|j>>>10),j=b+(A^P&(T^A))+S[1]+4129170786&4294967295,b=T+(j<<5&4294967295|j>>>27),j=P+(T^A&(b^T))+S[6]+3225465664&4294967295,P=b+(j<<9&4294967295|j>>>23),j=A+(b^T&(P^b))+S[11]+643717713&4294967295,A=P+(j<<14&4294967295|j>>>18),j=T+(P^b&(A^P))+S[0]+3921069994&4294967295,T=A+(j<<20&4294967295|j>>>12),j=b+(A^P&(T^A))+S[5]+3593408605&4294967295,b=T+(j<<5&4294967295|j>>>27),j=P+(T^A&(b^T))+S[10]+38016083&4294967295,P=b+(j<<9&4294967295|j>>>23),j=A+(b^T&(P^b))+S[15]+3634488961&4294967295,A=P+(j<<14&4294967295|j>>>18),j=T+(P^b&(A^P))+S[4]+3889429448&4294967295,T=A+(j<<20&4294967295|j>>>12),j=b+(A^P&(T^A))+S[9]+568446438&4294967295,b=T+(j<<5&4294967295|j>>>27),j=P+(T^A&(b^T))+S[14]+3275163606&4294967295,P=b+(j<<9&4294967295|j>>>23),j=A+(b^T&(P^b))+S[3]+4107603335&4294967295,A=P+(j<<14&4294967295|j>>>18),j=T+(P^b&(A^P))+S[8]+1163531501&4294967295,T=A+(j<<20&4294967295|j>>>12),j=b+(A^P&(T^A))+S[13]+2850285829&4294967295,b=T+(j<<5&4294967295|j>>>27),j=P+(T^A&(b^T))+S[2]+4243563512&4294967295,P=b+(j<<9&4294967295|j>>>23),j=A+(b^T&(P^b))+S[7]+1735328473&4294967295,A=P+(j<<14&4294967295|j>>>18),j=T+(P^b&(A^P))+S[12]+2368359562&4294967295,T=A+(j<<20&4294967295|j>>>12),j=b+(T^A^P)+S[5]+4294588738&4294967295,b=T+(j<<4&4294967295|j>>>28),j=P+(b^T^A)+S[8]+2272392833&4294967295,P=b+(j<<11&4294967295|j>>>21),j=A+(P^b^T)+S[11]+1839030562&4294967295,A=P+(j<<16&4294967295|j>>>16),j=T+(A^P^b)+S[14]+4259657740&4294967295,T=A+(j<<23&4294967295|j>>>9),j=b+(T^A^P)+S[1]+2763975236&4294967295,b=T+(j<<4&4294967295|j>>>28),j=P+(b^T^A)+S[4]+1272893353&4294967295,P=b+(j<<11&4294967295|j>>>21),j=A+(P^b^T)+S[7]+4139469664&4294967295,A=P+(j<<16&4294967295|j>>>16),j=T+(A^P^b)+S[10]+3200236656&4294967295,T=A+(j<<23&4294967295|j>>>9),j=b+(T^A^P)+S[13]+681279174&4294967295,b=T+(j<<4&4294967295|j>>>28),j=P+(b^T^A)+S[0]+3936430074&4294967295,P=b+(j<<11&4294967295|j>>>21),j=A+(P^b^T)+S[3]+3572445317&4294967295,A=P+(j<<16&4294967295|j>>>16),j=T+(A^P^b)+S[6]+76029189&4294967295,T=A+(j<<23&4294967295|j>>>9),j=b+(T^A^P)+S[9]+3654602809&4294967295,b=T+(j<<4&4294967295|j>>>28),j=P+(b^T^A)+S[12]+3873151461&4294967295,P=b+(j<<11&4294967295|j>>>21),j=A+(P^b^T)+S[15]+530742520&4294967295,A=P+(j<<16&4294967295|j>>>16),j=T+(A^P^b)+S[2]+3299628645&4294967295,T=A+(j<<23&4294967295|j>>>9),j=b+(A^(T|~P))+S[0]+4096336452&4294967295,b=T+(j<<6&4294967295|j>>>26),j=P+(T^(b|~A))+S[7]+1126891415&4294967295,P=b+(j<<10&4294967295|j>>>22),j=A+(b^(P|~T))+S[14]+2878612391&4294967295,A=P+(j<<15&4294967295|j>>>17),j=T+(P^(A|~b))+S[5]+4237533241&4294967295,T=A+(j<<21&4294967295|j>>>11),j=b+(A^(T|~P))+S[12]+1700485571&4294967295,b=T+(j<<6&4294967295|j>>>26),j=P+(T^(b|~A))+S[3]+2399980690&4294967295,P=b+(j<<10&4294967295|j>>>22),j=A+(b^(P|~T))+S[10]+4293915773&4294967295,A=P+(j<<15&4294967295|j>>>17),j=T+(P^(A|~b))+S[1]+2240044497&4294967295,T=A+(j<<21&4294967295|j>>>11),j=b+(A^(T|~P))+S[8]+1873313359&4294967295,b=T+(j<<6&4294967295|j>>>26),j=P+(T^(b|~A))+S[15]+4264355552&4294967295,P=b+(j<<10&4294967295|j>>>22),j=A+(b^(P|~T))+S[6]+2734768916&4294967295,A=P+(j<<15&4294967295|j>>>17),j=T+(P^(A|~b))+S[13]+1309151649&4294967295,T=A+(j<<21&4294967295|j>>>11),j=b+(A^(T|~P))+S[4]+4149444226&4294967295,b=T+(j<<6&4294967295|j>>>26),j=P+(T^(b|~A))+S[11]+3174756917&4294967295,P=b+(j<<10&4294967295|j>>>22),j=A+(b^(P|~T))+S[2]+718787259&4294967295,A=P+(j<<15&4294967295|j>>>17),j=T+(P^(A|~b))+S[9]+3951481745&4294967295,k.g[0]=k.g[0]+b&4294967295,k.g[1]=k.g[1]+(A+(j<<21&4294967295|j>>>11))&4294967295,k.g[2]=k.g[2]+A&4294967295,k.g[3]=k.g[3]+P&4294967295}r.prototype.u=function(k,b){b===void 0&&(b=k.length);for(var T=b-this.blockSize,S=this.B,A=this.h,P=0;P<b;){if(A==0)for(;P<=T;)s(this,k,P),P+=this.blockSize;if(typeof k=="string"){for(;P<b;)if(S[A++]=k.charCodeAt(P++),A==this.blockSize){s(this,S),A=0;break}}else for(;P<b;)if(S[A++]=k[P++],A==this.blockSize){s(this,S),A=0;break}}this.h=A,this.o+=b},r.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var b=1;b<k.length-8;++b)k[b]=0;var T=8*this.o;for(b=k.length-8;b<k.length;++b)k[b]=T&255,T/=256;for(this.u(k),k=Array(16),b=T=0;4>b;++b)for(var S=0;32>S;S+=8)k[T++]=this.g[b]>>>S&255;return k};function i(k,b){var T=l;return Object.prototype.hasOwnProperty.call(T,k)?T[k]:T[k]=b(k)}function o(k,b){this.h=b;for(var T=[],S=!0,A=k.length-1;0<=A;A--){var P=k[A]|0;S&&P==b||(T[A]=P,S=!1)}this.g=T}var l={};function c(k){return-128<=k&&128>k?i(k,function(b){return new o([b|0],0>b?-1:0)}):new o([k|0],0>k?-1:0)}function d(k){if(isNaN(k)||!isFinite(k))return m;if(0>k)return w(d(-k));for(var b=[],T=1,S=0;k>=T;S++)b[S]=k/T|0,T*=4294967296;return new o(b,0)}function u(k,b){if(k.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(k.charAt(0)=="-")return w(u(k.substring(1),b));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=d(Math.pow(b,8)),S=m,A=0;A<k.length;A+=8){var P=Math.min(8,k.length-A),j=parseInt(k.substring(A,A+P),b);8>P?(P=d(Math.pow(b,P)),S=S.j(P).add(d(j))):(S=S.j(T),S=S.add(d(j)))}return S}var m=c(0),h=c(1),p=c(16777216);t=o.prototype,t.m=function(){if(g(this))return-w(this).m();for(var k=0,b=1,T=0;T<this.g.length;T++){var S=this.i(T);k+=(0<=S?S:4294967296+S)*b,b*=4294967296}return k},t.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(y(this))return"0";if(g(this))return"-"+w(this).toString(k);for(var b=d(Math.pow(k,6)),T=this,S="";;){var A=C(T,b).g;T=v(T,A.j(b));var P=((0<T.g.length?T.g[0]:T.h)>>>0).toString(k);if(T=A,y(T))return P+S;for(;6>P.length;)P="0"+P;S=P+S}},t.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function y(k){if(k.h!=0)return!1;for(var b=0;b<k.g.length;b++)if(k.g[b]!=0)return!1;return!0}function g(k){return k.h==-1}t.l=function(k){return k=v(this,k),g(k)?-1:y(k)?0:1};function w(k){for(var b=k.g.length,T=[],S=0;S<b;S++)T[S]=~k.g[S];return new o(T,~k.h).add(h)}t.abs=function(){return g(this)?w(this):this},t.add=function(k){for(var b=Math.max(this.g.length,k.g.length),T=[],S=0,A=0;A<=b;A++){var P=S+(this.i(A)&65535)+(k.i(A)&65535),j=(P>>>16)+(this.i(A)>>>16)+(k.i(A)>>>16);S=j>>>16,P&=65535,j&=65535,T[A]=j<<16|P}return new o(T,T[T.length-1]&-2147483648?-1:0)};function v(k,b){return k.add(w(b))}t.j=function(k){if(y(this)||y(k))return m;if(g(this))return g(k)?w(this).j(w(k)):w(w(this).j(k));if(g(k))return w(this.j(w(k)));if(0>this.l(p)&&0>k.l(p))return d(this.m()*k.m());for(var b=this.g.length+k.g.length,T=[],S=0;S<2*b;S++)T[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<k.g.length;A++){var P=this.i(S)>>>16,j=this.i(S)&65535,V=k.i(A)>>>16,B=k.i(A)&65535;T[2*S+2*A]+=j*B,x(T,2*S+2*A),T[2*S+2*A+1]+=P*B,x(T,2*S+2*A+1),T[2*S+2*A+1]+=j*V,x(T,2*S+2*A+1),T[2*S+2*A+2]+=P*V,x(T,2*S+2*A+2)}for(S=0;S<b;S++)T[S]=T[2*S+1]<<16|T[2*S];for(S=b;S<2*b;S++)T[S]=0;return new o(T,0)};function x(k,b){for(;(k[b]&65535)!=k[b];)k[b+1]+=k[b]>>>16,k[b]&=65535,b++}function _(k,b){this.g=k,this.h=b}function C(k,b){if(y(b))throw Error("division by zero");if(y(k))return new _(m,m);if(g(k))return b=C(w(k),b),new _(w(b.g),w(b.h));if(g(b))return b=C(k,w(b)),new _(w(b.g),b.h);if(30<k.g.length){if(g(k)||g(b))throw Error("slowDivide_ only works with positive integers.");for(var T=h,S=b;0>=S.l(k);)T=M(T),S=M(S);var A=R(T,1),P=R(S,1);for(S=R(S,2),T=R(T,2);!y(S);){var j=P.add(S);0>=j.l(k)&&(A=A.add(T),P=j),S=R(S,1),T=R(T,1)}return b=v(k,A.j(b)),new _(A,b)}for(A=m;0<=k.l(b);){for(T=Math.max(1,Math.floor(k.m()/b.m())),S=Math.ceil(Math.log(T)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),P=d(T),j=P.j(b);g(j)||0<j.l(k);)T-=S,P=d(T),j=P.j(b);y(P)&&(P=h),A=A.add(P),k=v(k,j)}return new _(A,k)}t.A=function(k){return C(this,k).h},t.and=function(k){for(var b=Math.max(this.g.length,k.g.length),T=[],S=0;S<b;S++)T[S]=this.i(S)&k.i(S);return new o(T,this.h&k.h)},t.or=function(k){for(var b=Math.max(this.g.length,k.g.length),T=[],S=0;S<b;S++)T[S]=this.i(S)|k.i(S);return new o(T,this.h|k.h)},t.xor=function(k){for(var b=Math.max(this.g.length,k.g.length),T=[],S=0;S<b;S++)T[S]=this.i(S)^k.i(S);return new o(T,this.h^k.h)};function M(k){for(var b=k.g.length+1,T=[],S=0;S<b;S++)T[S]=k.i(S)<<1|k.i(S-1)>>>31;return new o(T,k.h)}function R(k,b){var T=b>>5;b%=32;for(var S=k.g.length-T,A=[],P=0;P<S;P++)A[P]=0<b?k.i(P+T)>>>b|k.i(P+T+1)<<32-b:k.i(P+T);return new o(A,k.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,DC=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=u,Ri=o}).apply(typeof ub<"u"?ub:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var MC,pc,OC,ph,ky,LC,FC,VC;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(f,E,I){return f==Array.prototype||f==Object.prototype||(f[E]=I.value),f};function n(f){f=[typeof globalThis=="object"&&globalThis,f,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var E=0;E<f.length;++E){var I=f[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var r=n(this);function s(f,E){if(E)e:{var I=r;f=f.split(".");for(var L=0;L<f.length-1;L++){var $=f[L];if(!($ in I))break e;I=I[$]}f=f[f.length-1],L=I[f],E=E(L),E!=L&&E!=null&&e(I,f,{configurable:!0,writable:!0,value:E})}}function i(f,E){f instanceof String&&(f+="");var I=0,L=!1,$={next:function(){if(!L&&I<f.length){var K=I++;return{value:E(K,f[K]),done:!1}}return L=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(f){return f||function(){return i(this,function(E,I){return I})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(f){var E=typeof f;return E=E!="object"?E:f?Array.isArray(f)?"array":E:"null",E=="array"||E=="object"&&typeof f.length=="number"}function d(f){var E=typeof f;return E=="object"&&f!=null||E=="function"}function u(f,E,I){return f.call.apply(f.bind,arguments)}function m(f,E,I){if(!f)throw Error();if(2<arguments.length){var L=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,L),f.apply(E,$)}}return function(){return f.apply(E,arguments)}}function h(f,E,I){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:m,h.apply(null,arguments)}function p(f,E){var I=Array.prototype.slice.call(arguments,1);return function(){var L=I.slice();return L.push.apply(L,arguments),f.apply(this,L)}}function y(f,E){function I(){}I.prototype=E.prototype,f.aa=E.prototype,f.prototype=new I,f.prototype.constructor=f,f.Qb=function(L,$,K){for(var se=Array(arguments.length-2),it=2;it<arguments.length;it++)se[it-2]=arguments[it];return E.prototype[$].apply(L,se)}}function g(f){const E=f.length;if(0<E){const I=Array(E);for(let L=0;L<E;L++)I[L]=f[L];return I}return[]}function w(f,E){for(let I=1;I<arguments.length;I++){const L=arguments[I];if(c(L)){const $=f.length||0,K=L.length||0;f.length=$+K;for(let se=0;se<K;se++)f[$+se]=L[se]}else f.push(L)}}class v{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function x(f){return/^[\s\xa0]*$/.test(f)}function _(){var f=l.navigator;return f&&(f=f.userAgent)?f:""}function C(f){return C[" "](f),f}C[" "]=function(){};var M=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function R(f,E,I){for(const L in f)E.call(I,f[L],L,f)}function k(f,E){for(const I in f)E.call(void 0,f[I],I,f)}function b(f){const E={};for(const I in f)E[I]=f[I];return E}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(f,E){let I,L;for(let $=1;$<arguments.length;$++){L=arguments[$];for(I in L)f[I]=L[I];for(let K=0;K<T.length;K++)I=T[K],Object.prototype.hasOwnProperty.call(L,I)&&(f[I]=L[I])}}function A(f){var E=1;f=f.split(":");const I=[];for(;0<E&&f.length;)I.push(f.shift()),E--;return f.length&&I.push(f.join(":")),I}function P(f){l.setTimeout(()=>{throw f},0)}function j(){var f=U;let E=null;return f.g&&(E=f.g,f.g=f.g.next,f.g||(f.h=null),E.next=null),E}class V{constructor(){this.h=this.g=null}add(E,I){const L=B.get();L.set(E,I),this.h?this.h.next=L:this.g=L,this.h=L}}var B=new v(()=>new O,f=>f.reset());class O{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let D,F=!1,U=new V,z=()=>{const f=l.Promise.resolve(void 0);D=()=>{f.then(G)}};var G=()=>{for(var f;f=j();){try{f.h.call(f.g)}catch(I){P(I)}var E=B;E.j(f),100>E.h&&(E.h++,f.next=E.g,E.g=f)}F=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Q(f,E){this.type=f,this.g=this.target=E,this.defaultPrevented=!1}Q.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var f=!1,E=Object.defineProperty({},"passive",{get:function(){f=!0}});try{const I=()=>{};l.addEventListener("test",I,E),l.removeEventListener("test",I,E)}catch{}return f}();function q(f,E){if(Q.call(this,f?f.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,f){var I=this.type=f.type,L=f.changedTouches&&f.changedTouches.length?f.changedTouches[0]:null;if(this.target=f.target||f.srcElement,this.g=E,E=f.relatedTarget){if(M){e:{try{C(E.nodeName);var $=!0;break e}catch{}$=!1}$||(E=null)}}else I=="mouseover"?E=f.fromElement:I=="mouseout"&&(E=f.toElement);this.relatedTarget=E,L?(this.clientX=L.clientX!==void 0?L.clientX:L.pageX,this.clientY=L.clientY!==void 0?L.clientY:L.pageY,this.screenX=L.screenX||0,this.screenY=L.screenY||0):(this.clientX=f.clientX!==void 0?f.clientX:f.pageX,this.clientY=f.clientY!==void 0?f.clientY:f.pageY,this.screenX=f.screenX||0,this.screenY=f.screenY||0),this.button=f.button,this.key=f.key||"",this.ctrlKey=f.ctrlKey,this.altKey=f.altKey,this.shiftKey=f.shiftKey,this.metaKey=f.metaKey,this.pointerId=f.pointerId||0,this.pointerType=typeof f.pointerType=="string"?f.pointerType:ne[f.pointerType]||"",this.state=f.state,this.i=f,f.defaultPrevented&&q.aa.h.call(this)}}y(q,Q);var ne={2:"touch",3:"pen",4:"mouse"};q.prototype.h=function(){q.aa.h.call(this);var f=this.i;f.preventDefault?f.preventDefault():f.returnValue=!1};var te="closure_listenable_"+(1e6*Math.random()|0),de=0;function ge(f,E,I,L,$){this.listener=f,this.proxy=null,this.src=E,this.type=I,this.capture=!!L,this.ha=$,this.key=++de,this.da=this.fa=!1}function ue(f){f.da=!0,f.listener=null,f.proxy=null,f.src=null,f.ha=null}function he(f){this.src=f,this.g={},this.h=0}he.prototype.add=function(f,E,I,L,$){var K=f.toString();f=this.g[K],f||(f=this.g[K]=[],this.h++);var se=rt(f,E,L,$);return-1<se?(E=f[se],I||(E.fa=!1)):(E=new ge(E,this.src,K,!!L,$),E.fa=I,f.push(E)),E};function pe(f,E){var I=E.type;if(I in f.g){var L=f.g[I],$=Array.prototype.indexOf.call(L,E,void 0),K;(K=0<=$)&&Array.prototype.splice.call(L,$,1),K&&(ue(E),f.g[I].length==0&&(delete f.g[I],f.h--))}}function rt(f,E,I,L){for(var $=0;$<f.length;++$){var K=f[$];if(!K.da&&K.listener==E&&K.capture==!!I&&K.ha==L)return $}return-1}var nt="closure_lm_"+(1e6*Math.random()|0),Le={};function We(f,E,I,L,$){if(Array.isArray(E)){for(var K=0;K<E.length;K++)We(f,E[K],I,L,$);return null}return I=$t(I),f&&f[te]?f.K(E,I,d(L)?!!L.capture:!!L,$):Ve(f,E,I,!1,L,$)}function Ve(f,E,I,L,$,K){if(!E)throw Error("Invalid event type");var se=d($)?!!$.capture:!!$,it=Je(f);if(it||(f[nt]=it=new he(f)),I=it.add(E,I,L,se,K),I.proxy)return I;if(L=qe(),I.proxy=L,L.src=f,L.listener=I,f.addEventListener)Y||($=se),$===void 0&&($=!1),f.addEventListener(E.toString(),L,$);else if(f.attachEvent)f.attachEvent(dt(E.toString()),L);else if(f.addListener&&f.removeListener)f.addListener(L);else throw Error("addEventListener and attachEvent are unavailable.");return I}function qe(){function f(I){return E.call(f.src,f.listener,I)}const E=Zt;return f}function Ae(f,E,I,L,$){if(Array.isArray(E))for(var K=0;K<E.length;K++)Ae(f,E[K],I,L,$);else L=d(L)?!!L.capture:!!L,I=$t(I),f&&f[te]?(f=f.i,E=String(E).toString(),E in f.g&&(K=f.g[E],I=rt(K,I,L,$),-1<I&&(ue(K[I]),Array.prototype.splice.call(K,I,1),K.length==0&&(delete f.g[E],f.h--)))):f&&(f=Je(f))&&(E=f.g[E.toString()],f=-1,E&&(f=rt(E,I,L,$)),(I=-1<f?E[f]:null)&&ot(I))}function ot(f){if(typeof f!="number"&&f&&!f.da){var E=f.src;if(E&&E[te])pe(E.i,f);else{var I=f.type,L=f.proxy;E.removeEventListener?E.removeEventListener(I,L,f.capture):E.detachEvent?E.detachEvent(dt(I),L):E.addListener&&E.removeListener&&E.removeListener(L),(I=Je(E))?(pe(I,f),I.h==0&&(I.src=null,E[nt]=null)):ue(f)}}}function dt(f){return f in Le?Le[f]:Le[f]="on"+f}function Zt(f,E){if(f.da)f=!0;else{E=new q(E,this);var I=f.listener,L=f.ha||f.src;f.fa&&ot(f),f=I.call(L,E)}return f}function Je(f){return f=f[nt],f instanceof he?f:null}var Ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function $t(f){return typeof f=="function"?f:(f[Ge]||(f[Ge]=function(E){return f.handleEvent(E)}),f[Ge])}function Ze(){W.call(this),this.i=new he(this),this.M=this,this.F=null}y(Ze,W),Ze.prototype[te]=!0,Ze.prototype.removeEventListener=function(f,E,I,L){Ae(this,f,E,I,L)};function st(f,E){var I,L=f.F;if(L)for(I=[];L;L=L.F)I.push(L);if(f=f.M,L=E.type||E,typeof E=="string")E=new Q(E,f);else if(E instanceof Q)E.target=E.target||f;else{var $=E;E=new Q(L,f),S(E,$)}if($=!0,I)for(var K=I.length-1;0<=K;K--){var se=E.g=I[K];$=yt(se,L,!0,E)&&$}if(se=E.g=f,$=yt(se,L,!0,E)&&$,$=yt(se,L,!1,E)&&$,I)for(K=0;K<I.length;K++)se=E.g=I[K],$=yt(se,L,!1,E)&&$}Ze.prototype.N=function(){if(Ze.aa.N.call(this),this.i){var f=this.i,E;for(E in f.g){for(var I=f.g[E],L=0;L<I.length;L++)ue(I[L]);delete f.g[E],f.h--}}this.F=null},Ze.prototype.K=function(f,E,I,L){return this.i.add(String(f),E,!1,I,L)},Ze.prototype.L=function(f,E,I,L){return this.i.add(String(f),E,!0,I,L)};function yt(f,E,I,L){if(E=f.i.g[String(E)],!E)return!0;E=E.concat();for(var $=!0,K=0;K<E.length;++K){var se=E[K];if(se&&!se.da&&se.capture==I){var it=se.listener,nn=se.ha||se.src;se.fa&&pe(f.i,se),$=it.call(nn,L)!==!1&&$}}return $&&!L.defaultPrevented}function en(f,E,I){if(typeof f=="function")I&&(f=h(f,I));else if(f&&typeof f.handleEvent=="function")f=h(f.handleEvent,f);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:l.setTimeout(f,E||0)}function At(f){f.g=en(()=>{f.g=null,f.i&&(f.i=!1,At(f))},f.l);const E=f.h;f.h=null,f.m.apply(null,E)}class kn extends W{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:At(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pt(f){W.call(this),this.h=f,this.g={}}y(Pt,W);var In=[];function jn(f){R(f.g,function(E,I){this.g.hasOwnProperty(I)&&ot(E)},f),f.g={}}Pt.prototype.N=function(){Pt.aa.N.call(this),jn(this)},Pt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var An=l.JSON.stringify,$n=l.JSON.parse,Ll=class{stringify(f){return l.JSON.stringify(f,void 0)}parse(f){return l.JSON.parse(f,void 0)}};function xe(){}xe.prototype.h=null;function Ke(f){return f.h||(f.h=f.i())}function Fe(){}var Gt={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wt(){Q.call(this,"d")}y(wt,Q);function tn(){Q.call(this,"c")}y(tn,Q);var dn={},Hs=null;function ao(){return Hs=Hs||new Ze}dn.La="serverreachability";function Gr(f){Q.call(this,dn.La,f)}y(Gr,Q);function er(f){const E=ao();st(E,new Gr(E))}dn.STAT_EVENT="statevent";function nw(f,E){Q.call(this,dn.STAT_EVENT,f),this.stat=E}y(nw,Q);function Pn(f){const E=ao();st(E,new nw(E,f))}dn.Ma="timingevent";function rw(f,E){Q.call(this,dn.Ma,f),this.size=E}y(rw,Q);function Fl(f,E){if(typeof f!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){f()},E)}function Vl(){this.g=!0}Vl.prototype.xa=function(){this.g=!1};function BA(f,E,I,L,$,K){f.info(function(){if(f.g)if(K)for(var se="",it=K.split("&"),nn=0;nn<it.length;nn++){var He=it[nn].split("=");if(1<He.length){var hn=He[0];He=He[1];var fn=hn.split("_");se=2<=fn.length&&fn[1]=="type"?se+(hn+"="+He+"&"):se+(hn+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+L+") [attempt "+$+"]: "+E+`
`+I+`
`+se})}function zA(f,E,I,L,$,K,se){f.info(function(){return"XMLHTTP RESP ("+L+") [ attempt "+$+"]: "+E+`
`+I+`
`+K+" "+se})}function oa(f,E,I,L){f.info(function(){return"XMLHTTP TEXT ("+E+"): "+WA(f,I)+(L?" "+L:"")})}function $A(f,E){f.info(function(){return"TIMEOUT: "+E})}Vl.prototype.info=function(){};function WA(f,E){if(!f.g)return E;if(!E)return null;try{var I=JSON.parse(E);if(I){for(f=0;f<I.length;f++)if(Array.isArray(I[f])){var L=I[f];if(!(2>L.length)){var $=L[1];if(Array.isArray($)&&!(1>$.length)){var K=$[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<$.length;se++)$[se]=""}}}}return An(I)}catch{return E}}var ed={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Bm;function td(){}y(td,xe),td.prototype.g=function(){return new XMLHttpRequest},td.prototype.i=function(){return{}},Bm=new td;function qs(f,E,I,L){this.j=f,this.i=E,this.l=I,this.R=L||1,this.U=new Pt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new iw}function iw(){this.i=null,this.g="",this.h=!1}var ow={},zm={};function $m(f,E,I){f.L=1,f.v=id(ys(E)),f.m=I,f.P=!0,aw(f,null)}function aw(f,E){f.F=Date.now(),nd(f),f.A=ys(f.v);var I=f.A,L=f.R;Array.isArray(L)||(L=[String(L)]),_w(I.i,"t",L),f.C=0,I=f.j.J,f.h=new iw,f.g=Vw(f.j,I?E:null,!f.m),0<f.O&&(f.M=new kn(h(f.Y,f,f.g),f.O)),E=f.U,I=f.g,L=f.ca;var $="readystatechange";Array.isArray($)||($&&(In[0]=$.toString()),$=In);for(var K=0;K<$.length;K++){var se=We(I,$[K],L||E.handleEvent,!1,E.h||E);if(!se)break;E.g[se.key]=se}E=f.H?b(f.H):{},f.m?(f.u||(f.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",f.g.ea(f.A,f.u,f.m,E)):(f.u="GET",f.g.ea(f.A,f.u,null,E)),er(),BA(f.i,f.u,f.A,f.l,f.R,f.m)}qs.prototype.ca=function(f){f=f.target;const E=this.M;E&&vs(f)==3?E.j():this.Y(f)},qs.prototype.Y=function(f){try{if(f==this.g)e:{const fn=vs(this.g);var E=this.g.Ba();const ca=this.g.Z();if(!(3>fn)&&(fn!=3||this.g&&(this.h.h||this.g.oa()||kw(this.g)))){this.J||fn!=4||E==7||(E==8||0>=ca?er(3):er(2)),Wm(this);var I=this.g.Z();this.X=I;t:if(lw(this)){var L=kw(this.g);f="";var $=L.length,K=vs(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){lo(this),Ul(this);var se="";break t}this.h.i=new l.TextDecoder}for(E=0;E<$;E++)this.h.h=!0,f+=this.h.i.decode(L[E],{stream:!(K&&E==$-1)});L.length=0,this.h.g+=f,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=I==200,zA(this.i,this.u,this.A,this.l,this.R,fn,I),this.o){if(this.T&&!this.K){t:{if(this.g){var it,nn=this.g;if((it=nn.g?nn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(it)){var He=it;break t}}He=null}if(I=He)oa(this.i,this.l,I,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hm(this,I);else{this.o=!1,this.s=3,Pn(12),lo(this),Ul(this);break e}}if(this.P){I=!0;let Tr;for(;!this.J&&this.C<se.length;)if(Tr=HA(this,se),Tr==zm){fn==4&&(this.s=4,Pn(14),I=!1),oa(this.i,this.l,null,"[Incomplete Response]");break}else if(Tr==ow){this.s=4,Pn(15),oa(this.i,this.l,se,"[Invalid Chunk]"),I=!1;break}else oa(this.i,this.l,Tr,null),Hm(this,Tr);if(lw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),fn!=4||se.length!=0||this.h.h||(this.s=1,Pn(16),I=!1),this.o=this.o&&I,!I)oa(this.i,this.l,se,"[Invalid Chunked Response]"),lo(this),Ul(this);else if(0<se.length&&!this.W){this.W=!0;var hn=this.j;hn.g==this&&hn.ba&&!hn.M&&(hn.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Xm(hn),hn.M=!0,Pn(11))}}else oa(this.i,this.l,se,null),Hm(this,se);fn==4&&lo(this),this.o&&!this.J&&(fn==4?Mw(this.j,this):(this.o=!1,nd(this)))}else lP(this.g),I==400&&0<se.indexOf("Unknown SID")?(this.s=3,Pn(12)):(this.s=0,Pn(13)),lo(this),Ul(this)}}}catch{}finally{}};function lw(f){return f.g?f.u=="GET"&&f.L!=2&&f.j.Ca:!1}function HA(f,E){var I=f.C,L=E.indexOf(`
`,I);return L==-1?zm:(I=Number(E.substring(I,L)),isNaN(I)?ow:(L+=1,L+I>E.length?zm:(E=E.slice(L,L+I),f.C=L+I,E)))}qs.prototype.cancel=function(){this.J=!0,lo(this)};function nd(f){f.S=Date.now()+f.I,cw(f,f.I)}function cw(f,E){if(f.B!=null)throw Error("WatchDog timer not null");f.B=Fl(h(f.ba,f),E)}function Wm(f){f.B&&(l.clearTimeout(f.B),f.B=null)}qs.prototype.ba=function(){this.B=null;const f=Date.now();0<=f-this.S?($A(this.i,this.A),this.L!=2&&(er(),Pn(17)),lo(this),this.s=2,Ul(this)):cw(this,this.S-f)};function Ul(f){f.j.G==0||f.J||Mw(f.j,f)}function lo(f){Wm(f);var E=f.M;E&&typeof E.ma=="function"&&E.ma(),f.M=null,jn(f.U),f.g&&(E=f.g,f.g=null,E.abort(),E.ma())}function Hm(f,E){try{var I=f.j;if(I.G!=0&&(I.g==f||qm(I.h,f))){if(!f.K&&qm(I.h,f)&&I.G==3){try{var L=I.Da.g.parse(E)}catch{L=null}if(Array.isArray(L)&&L.length==3){var $=L;if($[0]==0){e:if(!I.u){if(I.g)if(I.g.F+3e3<f.F)dd(I),cd(I);else break e;Ym(I),Pn(18)}}else I.za=$[1],0<I.za-I.T&&37500>$[2]&&I.F&&I.v==0&&!I.C&&(I.C=Fl(h(I.Za,I),6e3));if(1>=hw(I.h)&&I.ca){try{I.ca()}catch{}I.ca=void 0}}else uo(I,11)}else if((f.K||I.g==f)&&dd(I),!x(E))for($=I.Da.g.parse(E),E=0;E<$.length;E++){let He=$[E];if(I.T=He[0],He=He[1],I.G==2)if(He[0]=="c"){I.K=He[1],I.ia=He[2];const hn=He[3];hn!=null&&(I.la=hn,I.j.info("VER="+I.la));const fn=He[4];fn!=null&&(I.Aa=fn,I.j.info("SVER="+I.Aa));const ca=He[5];ca!=null&&typeof ca=="number"&&0<ca&&(L=1.5*ca,I.L=L,I.j.info("backChannelRequestTimeoutMs_="+L)),L=I;const Tr=f.g;if(Tr){const fd=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(fd){var K=L.h;K.g||fd.indexOf("spdy")==-1&&fd.indexOf("quic")==-1&&fd.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Gm(K,K.h),K.h=null))}if(L.D){const Jm=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;Jm&&(L.ya=Jm,ht(L.I,L.D,Jm))}}I.G=3,I.l&&I.l.ua(),I.ba&&(I.R=Date.now()-f.F,I.j.info("Handshake RTT: "+I.R+"ms")),L=I;var se=f;if(L.qa=Fw(L,L.J?L.ia:null,L.W),se.K){fw(L.h,se);var it=se,nn=L.L;nn&&(it.I=nn),it.B&&(Wm(it),nd(it)),L.g=se}else Rw(L);0<I.i.length&&ud(I)}else He[0]!="stop"&&He[0]!="close"||uo(I,7);else I.G==3&&(He[0]=="stop"||He[0]=="close"?He[0]=="stop"?uo(I,7):Qm(I):He[0]!="noop"&&I.l&&I.l.ta(He),I.v=0)}}er(4)}catch{}}var qA=class{constructor(f,E){this.g=f,this.map=E}};function uw(f){this.l=f||10,l.PerformanceNavigationTiming?(f=l.performance.getEntriesByType("navigation"),f=0<f.length&&(f[0].nextHopProtocol=="hq"||f[0].nextHopProtocol=="h2")):f=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=f?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function dw(f){return f.h?!0:f.g?f.g.size>=f.j:!1}function hw(f){return f.h?1:f.g?f.g.size:0}function qm(f,E){return f.h?f.h==E:f.g?f.g.has(E):!1}function Gm(f,E){f.g?f.g.add(E):f.h=E}function fw(f,E){f.h&&f.h==E?f.h=null:f.g&&f.g.has(E)&&f.g.delete(E)}uw.prototype.cancel=function(){if(this.i=mw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const f of this.g.values())f.cancel();this.g.clear()}};function mw(f){if(f.h!=null)return f.i.concat(f.h.D);if(f.g!=null&&f.g.size!==0){let E=f.i;for(const I of f.g.values())E=E.concat(I.D);return E}return g(f.i)}function GA(f){if(f.V&&typeof f.V=="function")return f.V();if(typeof Map<"u"&&f instanceof Map||typeof Set<"u"&&f instanceof Set)return Array.from(f.values());if(typeof f=="string")return f.split("");if(c(f)){for(var E=[],I=f.length,L=0;L<I;L++)E.push(f[L]);return E}E=[],I=0;for(L in f)E[I++]=f[L];return E}function KA(f){if(f.na&&typeof f.na=="function")return f.na();if(!f.V||typeof f.V!="function"){if(typeof Map<"u"&&f instanceof Map)return Array.from(f.keys());if(!(typeof Set<"u"&&f instanceof Set)){if(c(f)||typeof f=="string"){var E=[];f=f.length;for(var I=0;I<f;I++)E.push(I);return E}E=[],I=0;for(const L in f)E[I++]=L;return E}}}function pw(f,E){if(f.forEach&&typeof f.forEach=="function")f.forEach(E,void 0);else if(c(f)||typeof f=="string")Array.prototype.forEach.call(f,E,void 0);else for(var I=KA(f),L=GA(f),$=L.length,K=0;K<$;K++)E.call(void 0,L[K],I&&I[K],f)}var gw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QA(f,E){if(f){f=f.split("&");for(var I=0;I<f.length;I++){var L=f[I].indexOf("="),$=null;if(0<=L){var K=f[I].substring(0,L);$=f[I].substring(L+1)}else K=f[I];E(K,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function co(f){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,f instanceof co){this.h=f.h,rd(this,f.j),this.o=f.o,this.g=f.g,sd(this,f.s),this.l=f.l;var E=f.i,I=new $l;I.i=E.i,E.g&&(I.g=new Map(E.g),I.h=E.h),yw(this,I),this.m=f.m}else f&&(E=String(f).match(gw))?(this.h=!1,rd(this,E[1]||"",!0),this.o=Bl(E[2]||""),this.g=Bl(E[3]||"",!0),sd(this,E[4]),this.l=Bl(E[5]||"",!0),yw(this,E[6]||"",!0),this.m=Bl(E[7]||"")):(this.h=!1,this.i=new $l(null,this.h))}co.prototype.toString=function(){var f=[],E=this.j;E&&f.push(zl(E,vw,!0),":");var I=this.g;return(I||E=="file")&&(f.push("//"),(E=this.o)&&f.push(zl(E,vw,!0),"@"),f.push(encodeURIComponent(String(I)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.s,I!=null&&f.push(":",String(I))),(I=this.l)&&(this.g&&I.charAt(0)!="/"&&f.push("/"),f.push(zl(I,I.charAt(0)=="/"?JA:XA,!0))),(I=this.i.toString())&&f.push("?",I),(I=this.m)&&f.push("#",zl(I,eP)),f.join("")};function ys(f){return new co(f)}function rd(f,E,I){f.j=I?Bl(E,!0):E,f.j&&(f.j=f.j.replace(/:$/,""))}function sd(f,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);f.s=E}else f.s=null}function yw(f,E,I){E instanceof $l?(f.i=E,tP(f.i,f.h)):(I||(E=zl(E,ZA)),f.i=new $l(E,f.h))}function ht(f,E,I){f.i.set(E,I)}function id(f){return ht(f,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),f}function Bl(f,E){return f?E?decodeURI(f.replace(/%25/g,"%2525")):decodeURIComponent(f):""}function zl(f,E,I){return typeof f=="string"?(f=encodeURI(f).replace(E,YA),I&&(f=f.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f):null}function YA(f){return f=f.charCodeAt(0),"%"+(f>>4&15).toString(16)+(f&15).toString(16)}var vw=/[#\/\?@]/g,XA=/[#\?:]/g,JA=/[#\?]/g,ZA=/[#\?@]/g,eP=/#/g;function $l(f,E){this.h=this.g=null,this.i=f||null,this.j=!!E}function Gs(f){f.g||(f.g=new Map,f.h=0,f.i&&QA(f.i,function(E,I){f.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}t=$l.prototype,t.add=function(f,E){Gs(this),this.i=null,f=aa(this,f);var I=this.g.get(f);return I||this.g.set(f,I=[]),I.push(E),this.h+=1,this};function xw(f,E){Gs(f),E=aa(f,E),f.g.has(E)&&(f.i=null,f.h-=f.g.get(E).length,f.g.delete(E))}function ww(f,E){return Gs(f),E=aa(f,E),f.g.has(E)}t.forEach=function(f,E){Gs(this),this.g.forEach(function(I,L){I.forEach(function($){f.call(E,$,L,this)},this)},this)},t.na=function(){Gs(this);const f=Array.from(this.g.values()),E=Array.from(this.g.keys()),I=[];for(let L=0;L<E.length;L++){const $=f[L];for(let K=0;K<$.length;K++)I.push(E[L])}return I},t.V=function(f){Gs(this);let E=[];if(typeof f=="string")ww(this,f)&&(E=E.concat(this.g.get(aa(this,f))));else{f=Array.from(this.g.values());for(let I=0;I<f.length;I++)E=E.concat(f[I])}return E},t.set=function(f,E){return Gs(this),this.i=null,f=aa(this,f),ww(this,f)&&(this.h-=this.g.get(f).length),this.g.set(f,[E]),this.h+=1,this},t.get=function(f,E){return f?(f=this.V(f),0<f.length?String(f[0]):E):E};function _w(f,E,I){xw(f,E),0<I.length&&(f.i=null,f.g.set(aa(f,E),g(I)),f.h+=I.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const f=[],E=Array.from(this.g.keys());for(var I=0;I<E.length;I++){var L=E[I];const K=encodeURIComponent(String(L)),se=this.V(L);for(L=0;L<se.length;L++){var $=K;se[L]!==""&&($+="="+encodeURIComponent(String(se[L]))),f.push($)}}return this.i=f.join("&")};function aa(f,E){return E=String(E),f.j&&(E=E.toLowerCase()),E}function tP(f,E){E&&!f.j&&(Gs(f),f.i=null,f.g.forEach(function(I,L){var $=L.toLowerCase();L!=$&&(xw(this,L),_w(this,$,I))},f)),f.j=E}function nP(f,E){const I=new Vl;if(l.Image){const L=new Image;L.onload=p(Ks,I,"TestLoadImage: loaded",!0,E,L),L.onerror=p(Ks,I,"TestLoadImage: error",!1,E,L),L.onabort=p(Ks,I,"TestLoadImage: abort",!1,E,L),L.ontimeout=p(Ks,I,"TestLoadImage: timeout",!1,E,L),l.setTimeout(function(){L.ontimeout&&L.ontimeout()},1e4),L.src=f}else E(!1)}function rP(f,E){const I=new Vl,L=new AbortController,$=setTimeout(()=>{L.abort(),Ks(I,"TestPingServer: timeout",!1,E)},1e4);fetch(f,{signal:L.signal}).then(K=>{clearTimeout($),K.ok?Ks(I,"TestPingServer: ok",!0,E):Ks(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout($),Ks(I,"TestPingServer: error",!1,E)})}function Ks(f,E,I,L,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),L(I)}catch{}}function sP(){this.g=new Ll}function iP(f,E,I){const L=I||"";try{pw(f,function($,K){let se=$;d($)&&(se=An($)),E.push(L+K+"="+encodeURIComponent(se))})}catch($){throw E.push(L+"type="+encodeURIComponent("_badmap")),$}}function od(f){this.l=f.Ub||null,this.j=f.eb||!1}y(od,xe),od.prototype.g=function(){return new ad(this.l,this.j)},od.prototype.i=function(f){return function(){return f}}({});function ad(f,E){Ze.call(this),this.D=f,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(ad,Ze),t=ad.prototype,t.open=function(f,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=f,this.A=E,this.readyState=1,Hl(this)},t.send=function(f){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};f&&(E.body=f),(this.D||l).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wl(this)),this.readyState=0},t.Sa=function(f){if(this.g&&(this.l=f,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=f.headers,this.readyState=2,Hl(this)),this.g&&(this.readyState=3,Hl(this),this.g)))if(this.responseType==="arraybuffer")f.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in f){if(this.j=f.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bw(this)}else f.text().then(this.Ra.bind(this),this.ga.bind(this))};function bw(f){f.j.read().then(f.Pa.bind(f)).catch(f.ga.bind(f))}t.Pa=function(f){if(this.g){if(this.o&&f.value)this.response.push(f.value);else if(!this.o){var E=f.value?f.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!f.done}))&&(this.response=this.responseText+=E)}f.done?Wl(this):Hl(this),this.readyState==3&&bw(this)}},t.Ra=function(f){this.g&&(this.response=this.responseText=f,Wl(this))},t.Qa=function(f){this.g&&(this.response=f,Wl(this))},t.ga=function(){this.g&&Wl(this)};function Wl(f){f.readyState=4,f.l=null,f.j=null,f.v=null,Hl(f)}t.setRequestHeader=function(f,E){this.u.append(f,E)},t.getResponseHeader=function(f){return this.h&&this.h.get(f.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const f=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,f.push(I[0]+": "+I[1]),I=E.next();return f.join(`\r
`)};function Hl(f){f.onreadystatechange&&f.onreadystatechange.call(f)}Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(f){this.m=f?"include":"same-origin"}});function Ew(f){let E="";return R(f,function(I,L){E+=L,E+=":",E+=I,E+=`\r
`}),E}function Km(f,E,I){e:{for(L in I){var L=!1;break e}L=!0}L||(I=Ew(I),typeof f=="string"?I!=null&&encodeURIComponent(String(I)):ht(f,E,I))}function St(f){Ze.call(this),this.headers=new Map,this.o=f||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(St,Ze);var oP=/^https?$/i,aP=["POST","PUT"];t=St.prototype,t.Ha=function(f){this.J=f},t.ea=function(f,E,I,L){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+f);E=E?E.toUpperCase():"GET",this.D=f,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Bm.g(),this.v=this.o?Ke(this.o):Ke(Bm),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(E,String(f),!0),this.B=!1}catch(K){Nw(this,K);return}if(f=I||"",I=new Map(this.headers),L)if(Object.getPrototypeOf(L)===Object.prototype)for(var $ in L)I.set($,L[$]);else if(typeof L.keys=="function"&&typeof L.get=="function")for(const K of L.keys())I.set(K,L.get(K));else throw Error("Unknown input type for opt_headers: "+String(L));L=Array.from(I.keys()).find(K=>K.toLowerCase()=="content-type"),$=l.FormData&&f instanceof l.FormData,!(0<=Array.prototype.indexOf.call(aP,E,void 0))||L||$||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of I)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Cw(this),this.u=!0,this.g.send(f),this.u=!1}catch(K){Nw(this,K)}};function Nw(f,E){f.h=!1,f.g&&(f.j=!0,f.g.abort(),f.j=!1),f.l=E,f.m=5,Tw(f),ld(f)}function Tw(f){f.A||(f.A=!0,st(f,"complete"),st(f,"error"))}t.abort=function(f){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=f||7,st(this,"complete"),st(this,"abort"),ld(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ld(this,!0)),St.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Sw(this):this.bb())},t.bb=function(){Sw(this)};function Sw(f){if(f.h&&typeof o<"u"&&(!f.v[1]||vs(f)!=4||f.Z()!=2)){if(f.u&&vs(f)==4)en(f.Ea,0,f);else if(st(f,"readystatechange"),vs(f)==4){f.h=!1;try{const se=f.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var L;if(L=se===0){var $=String(f.D).match(gw)[1]||null;!$&&l.self&&l.self.location&&($=l.self.location.protocol.slice(0,-1)),L=!oP.test($?$.toLowerCase():"")}I=L}if(I)st(f,"complete"),st(f,"success");else{f.m=6;try{var K=2<vs(f)?f.g.statusText:""}catch{K=""}f.l=K+" ["+f.Z()+"]",Tw(f)}}finally{ld(f)}}}}function ld(f,E){if(f.g){Cw(f);const I=f.g,L=f.v[0]?()=>{}:null;f.g=null,f.v=null,E||st(f,"ready");try{I.onreadystatechange=L}catch{}}}function Cw(f){f.I&&(l.clearTimeout(f.I),f.I=null)}t.isActive=function(){return!!this.g};function vs(f){return f.g?f.g.readyState:0}t.Z=function(){try{return 2<vs(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(f){if(this.g){var E=this.g.responseText;return f&&E.indexOf(f)==0&&(E=E.substring(f.length)),$n(E)}};function kw(f){try{if(!f.g)return null;if("response"in f.g)return f.g.response;switch(f.H){case"":case"text":return f.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in f.g)return f.g.mozResponseArrayBuffer}return null}catch{return null}}function lP(f){const E={};f=(f.g&&2<=vs(f)&&f.g.getAllResponseHeaders()||"").split(`\r
`);for(let L=0;L<f.length;L++){if(x(f[L]))continue;var I=A(f[L]);const $=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const K=E[$]||[];E[$]=K,K.push(I)}k(E,function(L){return L.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ql(f,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[f]||E}function Iw(f){this.Aa=0,this.i=[],this.j=new Vl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ql("failFast",!1,f),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ql("baseRetryDelayMs",5e3,f),this.cb=ql("retryDelaySeedMs",1e4,f),this.Wa=ql("forwardChannelMaxRetries",2,f),this.wa=ql("forwardChannelRequestTimeoutMs",2e4,f),this.pa=f&&f.xmlHttpFactory||void 0,this.Xa=f&&f.Tb||void 0,this.Ca=f&&f.useFetchStreams||!1,this.L=void 0,this.J=f&&f.supportsCrossDomainXhr||!1,this.K="",this.h=new uw(f&&f.concurrentRequestLimit),this.Da=new sP,this.P=f&&f.fastHandshake||!1,this.O=f&&f.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=f&&f.Rb||!1,f&&f.xa&&this.j.xa(),f&&f.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&f&&f.detectBufferingProxy||!1,this.ja=void 0,f&&f.longPollingTimeout&&0<f.longPollingTimeout&&(this.ja=f.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Iw.prototype,t.la=8,t.G=1,t.connect=function(f,E,I,L){Pn(0),this.W=f,this.H=E||{},I&&L!==void 0&&(this.H.OSID=I,this.H.OAID=L),this.F=this.X,this.I=Fw(this,null,this.W),ud(this)};function Qm(f){if(jw(f),f.G==3){var E=f.U++,I=ys(f.I);if(ht(I,"SID",f.K),ht(I,"RID",E),ht(I,"TYPE","terminate"),Gl(f,I),E=new qs(f,f.j,E),E.L=2,E.v=id(ys(I)),I=!1,l.navigator&&l.navigator.sendBeacon)try{I=l.navigator.sendBeacon(E.v.toString(),"")}catch{}!I&&l.Image&&(new Image().src=E.v,I=!0),I||(E.g=Vw(E.j,null),E.g.ea(E.v)),E.F=Date.now(),nd(E)}Lw(f)}function cd(f){f.g&&(Xm(f),f.g.cancel(),f.g=null)}function jw(f){cd(f),f.u&&(l.clearTimeout(f.u),f.u=null),dd(f),f.h.cancel(),f.s&&(typeof f.s=="number"&&l.clearTimeout(f.s),f.s=null)}function ud(f){if(!dw(f.h)&&!f.s){f.s=!0;var E=f.Ga;D||z(),F||(D(),F=!0),U.add(E,f),f.B=0}}function cP(f,E){return hw(f.h)>=f.h.j-(f.s?1:0)?!1:f.s?(f.i=E.D.concat(f.i),!0):f.G==1||f.G==2||f.B>=(f.Va?0:f.Wa)?!1:(f.s=Fl(h(f.Ga,f,E),Ow(f,f.B)),f.B++,!0)}t.Ga=function(f){if(this.s)if(this.s=null,this.G==1){if(!f){this.U=Math.floor(1e5*Math.random()),f=this.U++;const $=new qs(this,this.j,f);let K=this.o;if(this.S&&(K?(K=b(K),S(K,this.S)):K=this.S),this.m!==null||this.O||($.H=K,K=null),this.P)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var L=this.i[I];if("__data__"in L.map&&(L=L.map.__data__,typeof L=="string")){L=L.length;break t}L=void 0}if(L===void 0)break;if(E+=L,4096<E){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=Pw(this,$,E),I=ys(this.I),ht(I,"RID",f),ht(I,"CVER",22),this.D&&ht(I,"X-HTTP-Session-Id",this.D),Gl(this,I),K&&(this.O?E="headers="+encodeURIComponent(String(Ew(K)))+"&"+E:this.m&&Km(I,this.m,K)),Gm(this.h,$),this.Ua&&ht(I,"TYPE","init"),this.P?(ht(I,"$req",E),ht(I,"SID","null"),$.T=!0,$m($,I,null)):$m($,I,E),this.G=2}}else this.G==3&&(f?Aw(this,f):this.i.length==0||dw(this.h)||Aw(this))};function Aw(f,E){var I;E?I=E.l:I=f.U++;const L=ys(f.I);ht(L,"SID",f.K),ht(L,"RID",I),ht(L,"AID",f.T),Gl(f,L),f.m&&f.o&&Km(L,f.m,f.o),I=new qs(f,f.j,I,f.B+1),f.m===null&&(I.H=f.o),E&&(f.i=E.D.concat(f.i)),E=Pw(f,I,1e3),I.I=Math.round(.5*f.wa)+Math.round(.5*f.wa*Math.random()),Gm(f.h,I),$m(I,L,E)}function Gl(f,E){f.H&&R(f.H,function(I,L){ht(E,L,I)}),f.l&&pw({},function(I,L){ht(E,L,I)})}function Pw(f,E,I){I=Math.min(f.i.length,I);var L=f.l?h(f.l.Na,f.l,f):null;e:{var $=f.i;let K=-1;for(;;){const se=["count="+I];K==-1?0<I?(K=$[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let it=!0;for(let nn=0;nn<I;nn++){let He=$[nn].g;const hn=$[nn].map;if(He-=K,0>He)K=Math.max(0,$[nn].g-100),it=!1;else try{iP(hn,se,"req"+He+"_")}catch{L&&L(hn)}}if(it){L=se.join("&");break e}}}return f=f.i.splice(0,I),E.D=f,L}function Rw(f){if(!f.g&&!f.u){f.Y=1;var E=f.Fa;D||z(),F||(D(),F=!0),U.add(E,f),f.v=0}}function Ym(f){return f.g||f.u||3<=f.v?!1:(f.Y++,f.u=Fl(h(f.Fa,f),Ow(f,f.v)),f.v++,!0)}t.Fa=function(){if(this.u=null,Dw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var f=2*this.R;this.j.info("BP detection timer enabled: "+f),this.A=Fl(h(this.ab,this),f)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Pn(10),cd(this),Dw(this))};function Xm(f){f.A!=null&&(l.clearTimeout(f.A),f.A=null)}function Dw(f){f.g=new qs(f,f.j,"rpc",f.Y),f.m===null&&(f.g.H=f.o),f.g.O=0;var E=ys(f.qa);ht(E,"RID","rpc"),ht(E,"SID",f.K),ht(E,"AID",f.T),ht(E,"CI",f.F?"0":"1"),!f.F&&f.ja&&ht(E,"TO",f.ja),ht(E,"TYPE","xmlhttp"),Gl(f,E),f.m&&f.o&&Km(E,f.m,f.o),f.L&&(f.g.I=f.L);var I=f.g;f=f.ia,I.L=1,I.v=id(ys(E)),I.m=null,I.P=!0,aw(I,f)}t.Za=function(){this.C!=null&&(this.C=null,cd(this),Ym(this),Pn(19))};function dd(f){f.C!=null&&(l.clearTimeout(f.C),f.C=null)}function Mw(f,E){var I=null;if(f.g==E){dd(f),Xm(f),f.g=null;var L=2}else if(qm(f.h,E))I=E.D,fw(f.h,E),L=1;else return;if(f.G!=0){if(E.o)if(L==1){I=E.m?E.m.length:0,E=Date.now()-E.F;var $=f.B;L=ao(),st(L,new rw(L,I)),ud(f)}else Rw(f);else if($=E.s,$==3||$==0&&0<E.X||!(L==1&&cP(f,E)||L==2&&Ym(f)))switch(I&&0<I.length&&(E=f.h,E.i=E.i.concat(I)),$){case 1:uo(f,5);break;case 4:uo(f,10);break;case 3:uo(f,6);break;default:uo(f,2)}}}function Ow(f,E){let I=f.Ta+Math.floor(Math.random()*f.cb);return f.isActive()||(I*=2),I*E}function uo(f,E){if(f.j.info("Error code "+E),E==2){var I=h(f.fb,f),L=f.Xa;const $=!L;L=new co(L||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||rd(L,"https"),id(L),$?nP(L.toString(),I):rP(L.toString(),I)}else Pn(2);f.G=0,f.l&&f.l.sa(E),Lw(f),jw(f)}t.fb=function(f){f?(this.j.info("Successfully pinged google.com"),Pn(2)):(this.j.info("Failed to ping google.com"),Pn(1))};function Lw(f){if(f.G=0,f.ka=[],f.l){const E=mw(f.h);(E.length!=0||f.i.length!=0)&&(w(f.ka,E),w(f.ka,f.i),f.h.i.length=0,g(f.i),f.i.length=0),f.l.ra()}}function Fw(f,E,I){var L=I instanceof co?ys(I):new co(I);if(L.g!="")E&&(L.g=E+"."+L.g),sd(L,L.s);else{var $=l.location;L=$.protocol,E=E?E+"."+$.hostname:$.hostname,$=+$.port;var K=new co(null);L&&rd(K,L),E&&(K.g=E),$&&sd(K,$),I&&(K.l=I),L=K}return I=f.D,E=f.ya,I&&E&&ht(L,I,E),ht(L,"VER",f.la),Gl(f,L),L}function Vw(f,E,I){if(E&&!f.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=f.Ca&&!f.pa?new St(new od({eb:I})):new St(f.pa),E.Ha(f.J),E}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uw(){}t=Uw.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function hd(){}hd.prototype.g=function(f,E){return new tr(f,E)};function tr(f,E){Ze.call(this),this.g=new Iw(E),this.l=f,this.h=E&&E.messageUrlParams||null,f=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(f?f["X-Client-Protocol"]="webchannel":f={"X-Client-Protocol":"webchannel"}),this.g.o=f,f=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(f?f["X-WebChannel-Content-Type"]=E.messageContentType:f={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(f?f["X-WebChannel-Client-Profile"]=E.va:f={"X-WebChannel-Client-Profile":E.va}),this.g.S=f,(f=E&&E.Sb)&&!x(f)&&(this.g.m=f),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!x(E)&&(this.g.D=E,f=this.h,f!==null&&E in f&&(f=this.h,E in f&&delete f[E])),this.j=new la(this)}y(tr,Ze),tr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tr.prototype.close=function(){Qm(this.g)},tr.prototype.o=function(f){var E=this.g;if(typeof f=="string"){var I={};I.__data__=f,f=I}else this.u&&(I={},I.__data__=An(f),f=I);E.i.push(new qA(E.Ya++,f)),E.G==3&&ud(E)},tr.prototype.N=function(){this.g.l=null,delete this.j,Qm(this.g),delete this.g,tr.aa.N.call(this)};function Bw(f){wt.call(this),f.__headers__&&(this.headers=f.__headers__,this.statusCode=f.__status__,delete f.__headers__,delete f.__status__);var E=f.__sm__;if(E){e:{for(const I in E){f=I;break e}f=void 0}(this.i=f)&&(f=this.i,E=E!==null&&f in E?E[f]:void 0),this.data=E}else this.data=f}y(Bw,wt);function zw(){tn.call(this),this.status=1}y(zw,tn);function la(f){this.g=f}y(la,Uw),la.prototype.ua=function(){st(this.g,"a")},la.prototype.ta=function(f){st(this.g,new Bw(f))},la.prototype.sa=function(f){st(this.g,new zw)},la.prototype.ra=function(){st(this.g,"b")},hd.prototype.createWebChannel=hd.prototype.g,tr.prototype.send=tr.prototype.o,tr.prototype.open=tr.prototype.m,tr.prototype.close=tr.prototype.close,VC=function(){return new hd},FC=function(){return ao()},LC=dn,ky={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ed.NO_ERROR=0,ed.TIMEOUT=8,ed.HTTP_ERROR=6,ph=ed,sw.COMPLETE="complete",OC=sw,Fe.EventType=Gt,Gt.OPEN="a",Gt.CLOSE="b",Gt.ERROR="c",Gt.MESSAGE="d",Ze.prototype.listen=Ze.prototype.K,pc=Fe,St.prototype.listenOnce=St.prototype.L,St.prototype.getLastError=St.prototype.Ka,St.prototype.getLastErrorCode=St.prototype.Ba,St.prototype.getStatus=St.prototype.Z,St.prototype.getResponseJson=St.prototype.Oa,St.prototype.getResponseText=St.prototype.oa,St.prototype.send=St.prototype.ea,St.prototype.setWithCredentials=St.prototype.Ha,MC=St}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const db="@firebase/firestore",hb="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zo=new Ex("@firebase/firestore");function pa(){return zo.logLevel}function le(t,...e){if(zo.logLevel<=De.DEBUG){const n=e.map(Rx);zo.debug(`Firestore (${jl}): ${t}`,...n)}}function Us(t,...e){if(zo.logLevel<=De.ERROR){const n=e.map(Rx);zo.error(`Firestore (${jl}): ${t}`,...n)}}function dl(t,...e){if(zo.logLevel<=De.WARN){const n=e.map(Rx);zo.warn(`Firestore (${jl}): ${t}`,...n)}}function Rx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,UC(t,r,n)}function UC(t,e,n){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Us(r),new Error(r)}function Xe(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||UC(e,s,r)}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends gs{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class JV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(xn.UNAUTHENTICATED))}shutdown(){}}class ZV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class e9{constructor(e){this.t=e,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new js,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new js)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Xe(typeof r.accessToken=="string",31837,{l:r}),new BC(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string",2055,{h:e}),new xn(e)}}class t9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class n9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new t9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(xn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class fb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class r9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0,3512);const r=i=>{i.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new fb(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new fb(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=s9(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function Iy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return Ie(r,s);{const i=zC(),o=i9(i.encode(mb(t,n)),i.encode(mb(e,n)));return o!==0?o:Ie(r,s)}}n+=r>65535?2:1}return Ie(t.length,e.length)}function mb(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function i9(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ie(t[n],e[n]);return Ie(t.length,e.length)}function hl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pb=-62135596800,gb=1e6;class zt{static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*gb);return new zt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ae(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<pb)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gb}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{static fromTimestamp(e){return new Ee(e)}static min(){return new Ee(new zt(0,0))}static max(){return new Ee(new zt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb="__name__";class Yr{constructor(e,n,r){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&_e(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Yr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Yr.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=Yr.isNumericId(e),s=Yr.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Yr.extractNumericId(e).compare(Yr.extractNumericId(n)):Iy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ri.fromString(e.substring(4,e.length-2))}}class pt extends Yr{construct(e,n,r){return new pt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ae(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new pt(n)}static emptyPath(){return new pt([])}}const o9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class on extends Yr{construct(e,n,r){return new on(e,n,r)}static isValidIdentifier(e){return o9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),on.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yb}static keyField(){return new on([yb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new ae(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ae(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new ae(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new on(n)}static emptyPath(){return new on([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(pt.fromString(e))}static fromName(e){return new ye(pt.fromString(e).popFirst(5))}static empty(){return new ye(pt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&pt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return pt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new pt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du=-1;function a9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=Ee.fromTimestamp(r===1e9?new zt(n+1,0):new zt(n,r));return new $i(s,ye.empty(),e)}function l9(t){return new $i(t.readTime,t.key,du)}class $i{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new $i(Ee.min(),ye.empty(),du)}static max(){return new $i(Ee.max(),ye.empty(),du)}}function c9(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u9="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class d9{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==u9)throw t;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,r)=>{n(e)})}static reject(e){return new J((n,r)=>{r(e)})}static waitFor(e){return new J((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=J.resolve(!1);for(const r of e)n=n.next(s=>s?J.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new J((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(u=>{o[d]=u,++l,l===i&&r(o)},u=>s(u))}})}static doWhile(e,n){return new J((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function h9(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Pl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dx=-1;function mm(t){return t==null}function ff(t){return t===0&&1/t==-1/0}function f9(t){return typeof t=="number"&&Number.isInteger(t)&&!ff(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="";function m9(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=vb(e)),e=p9(t.get(n),e);return vb(e)}function p9(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case WC:n+="";break;default:n+=i}}return n}function vb(t){return t+WC+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function HC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n){this.comparator=e,this.root=n||sn.EMPTY}insert(e,n){return new Tt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sn{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??sn.RED,this.left=s??sn.EMPTY,this.right=i??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new sn(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return sn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new sn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wb(this.data.getIterator())}getIteratorFrom(e){return new wb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof qt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new qt(this.comparator);return n.data=e,n}}class wb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.fields=e,e.sort(on.comparator)}static empty(){return new lr([])}unionWith(e){let n=new qt(on.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new lr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return hl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new qC("Invalid base64 string: "+i):i}}(e);return new un(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new un(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}un.EMPTY_BYTE_STRING=new un("");const g9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wi(t){if(Xe(!!t,39018),typeof t=="string"){let e=0;const n=g9.exec(t);if(Xe(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rt(t.seconds),nanos:Rt(t.nanos)}}function Rt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Hi(t){return typeof t=="string"?un.fromBase64String(t):un.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="server_timestamp",KC="__type__",QC="__previous_value__",YC="__local_write_time__";function Mx(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[KC])===null||n===void 0?void 0:n.stringValue)===GC}function pm(t){const e=t.mapValue.fields[QC];return Mx(e)?pm(e):e}function hu(t){const e=Wi(t.mapValue.fields[YC].timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y9{constructor(e,n,r,s,i,o,l,c,d,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=u}}const mf="(default)";class fu{constructor(e,n){this.projectId=e,this.database=n||mf}static empty(){return new fu("","")}get isDefaultDatabase(){return this.database===mf}isEqual(e){return e instanceof fu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XC="__type__",JC="__max__",Ud={mapValue:{fields:{__type__:{stringValue:JC}}}},ZC="__vector__",pf="value";function qi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mx(t)?4:x9(t)?9007199254740991:v9(t)?10:11:_e(28295,{value:t})}function fs(t,e){if(t===e)return!0;const n=qi(t);if(n!==qi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hu(t).isEqual(hu(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Wi(s.timestampValue),l=Wi(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Hi(s.bytesValue).isEqual(Hi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Rt(s.geoPointValue.latitude)===Rt(i.geoPointValue.latitude)&&Rt(s.geoPointValue.longitude)===Rt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Rt(s.integerValue)===Rt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Rt(s.doubleValue),l=Rt(i.doubleValue);return o===l?ff(o)===ff(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return hl(t.arrayValue.values||[],e.arrayValue.values||[],fs);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(xb(o)!==xb(l))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(l[c]===void 0||!fs(o[c],l[c])))return!1;return!0}(t,e);default:return _e(52216,{left:t})}}function mu(t,e){return(t.values||[]).find(n=>fs(n,e))!==void 0}function fl(t,e){if(t===e)return 0;const n=qi(t),r=qi(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=Rt(i.integerValue||i.doubleValue),c=Rt(o.integerValue||o.doubleValue);return l<c?-1:l>c?1:l===c?0:isNaN(l)?isNaN(c)?0:-1:1}(t,e);case 3:return _b(t.timestampValue,e.timestampValue);case 4:return _b(hu(t),hu(e));case 5:return Iy(t.stringValue,e.stringValue);case 6:return function(i,o){const l=Hi(i),c=Hi(o);return l.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),c=o.split("/");for(let d=0;d<l.length&&d<c.length;d++){const u=Ie(l[d],c[d]);if(u!==0)return u}return Ie(l.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=Ie(Rt(i.latitude),Rt(o.latitude));return l!==0?l:Ie(Rt(i.longitude),Rt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,c,d,u;const m=i.fields||{},h=o.fields||{},p=(l=m[pf])===null||l===void 0?void 0:l.arrayValue,y=(c=h[pf])===null||c===void 0?void 0:c.arrayValue,g=Ie(((d=p==null?void 0:p.values)===null||d===void 0?void 0:d.length)||0,((u=y==null?void 0:y.values)===null||u===void 0?void 0:u.length)||0);return g!==0?g:bb(p,y)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Ud.mapValue&&o===Ud.mapValue)return 0;if(i===Ud.mapValue)return 1;if(o===Ud.mapValue)return-1;const l=i.fields||{},c=Object.keys(l),d=o.fields||{},u=Object.keys(d);c.sort(),u.sort();for(let m=0;m<c.length&&m<u.length;++m){const h=Iy(c[m],u[m]);if(h!==0)return h;const p=fl(l[c[m]],d[u[m]]);if(p!==0)return p}return Ie(c.length,u.length)}(t.mapValue,e.mapValue);default:throw _e(23264,{Pe:n})}}function _b(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Wi(t),r=Wi(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function bb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=fl(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function ml(t){return jy(t)}function jy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ye.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=jy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${jy(n.fields[o])}`;return s+"}"}(t.mapValue):_e(61005,{value:t})}function gh(t){switch(qi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=pm(t);return e?16+gh(e):16;case 5:return 2*t.stringValue.length;case 6:return Hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+gh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ro(r.fields,(i,o)=>{s+=i.length+gh(o)}),s}(t.mapValue);default:throw _e(13486,{value:t})}}function Eb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ay(t){return!!t&&"integerValue"in t}function Ox(t){return!!t&&"arrayValue"in t}function Nb(t){return!!t&&"nullValue"in t}function Tb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yh(t){return!!t&&"mapValue"in t}function v9(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XC])===null||n===void 0?void 0:n.stringValue)===ZC}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function x9(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===JC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gn{constructor(e){this.value=e}static empty(){return new Gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=on.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=Pc(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return fs(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];yh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ro(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Gn(Pc(this.value))}}function ek(t){const e=[];return ro(t.fields,(n,r)=>{const s=new on([n]);if(yh(r)){const i=ek(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new lr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new _n(e,0,Ee.min(),Ee.min(),Ee.min(),Gn.empty(),0)}static newFoundDocument(e,n,r,s){return new _n(e,1,n,Ee.min(),r,s,0)}static newNoDocument(e,n){return new _n(e,2,n,Ee.min(),Ee.min(),Gn.empty(),0)}static newUnknownDocument(e,n){return new _n(e,3,n,Ee.min(),Ee.min(),Gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof _n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new _n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n){this.position=e,this.inclusive=n}}function Sb(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ye.comparator(ye.fromName(o.referenceValue),n.key):r=fl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Cb(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!fs(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pu{constructor(e,n="asc"){this.field=e,this.dir=n}}function w9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{}class Bt extends tk{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b9(e,n,r):n==="array-contains"?new T9(e,r):n==="in"?new S9(e,r):n==="not-in"?new C9(e,r):n==="array-contains-any"?new k9(e,r):new Bt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new E9(e,r):new N9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fl(n,this.value)):n!==null&&qi(this.value)===qi(n)&&this.matchesComparison(fl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $r extends tk{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new $r(e,n)}matches(e){return nk(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function nk(t){return t.op==="and"}function rk(t){return _9(t)&&nk(t)}function _9(t){for(const e of t.filters)if(e instanceof $r)return!1;return!0}function Py(t){if(t instanceof Bt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(rk(t))return t.filters.map(e=>Py(e)).join(",");{const e=t.filters.map(n=>Py(n)).join(",");return`${t.op}(${e})`}}function sk(t,e){return t instanceof Bt?function(r,s){return s instanceof Bt&&r.op===s.op&&r.field.isEqual(s.field)&&fs(r.value,s.value)}(t,e):t instanceof $r?function(r,s){return s instanceof $r&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&sk(o,s.filters[l]),!0):!1}(t,e):void _e(19439)}function ik(t){return t instanceof Bt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof $r?function(n){return n.op.toString()+" {"+n.getFilters().map(ik).join(" ,")+"}"}(t):"Filter"}class b9 extends Bt{constructor(e,n,r){super(e,n,r),this.key=ye.fromName(r.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class E9 extends Bt{constructor(e,n){super(e,"in",n),this.keys=ok("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class N9 extends Bt{constructor(e,n){super(e,"not-in",n),this.keys=ok("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function ok(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ye.fromName(r.referenceValue))}class T9 extends Bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ox(n)&&mu(n.arrayValue,this.value)}}class S9 extends Bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&mu(this.value.arrayValue,n)}}class C9 extends Bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!mu(this.value.arrayValue,n)}}class k9 extends Bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ox(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>mu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function kb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new I9(t,e,n,r,s,i,o)}function Lx(t){const e=Ne(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Py(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),mm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.Ie=n}return e.Ie}function Fx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!w9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!sk(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Cb(t.startAt,e.startAt)&&Cb(t.endAt,e.endAt)}function Ry(t){return ye.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=c,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function j9(t,e,n,r,s,i,o,l){return new Rl(t,e,n,r,s,i,o,l)}function gm(t){return new Rl(t)}function Ib(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ak(t){return t.collectionGroup!==null}function Rc(t){const e=Ne(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new qt(on.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(l=l.add(d.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new pu(i,r))}),n.has(on.keyField().canonicalString())||e.Ee.push(new pu(on.keyField(),r))}return e.Ee}function us(t){const e=Ne(t);return e.de||(e.de=A9(e,Rc(t))),e.de}function A9(t,e){if(t.limitType==="F")return kb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new pu(s.field,i)});const n=t.endAt?new gf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gf(t.startAt.position,t.startAt.inclusive):null;return kb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Dy(t,e){const n=t.filters.concat([e]);return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function yf(t,e,n){return new Rl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ym(t,e){return Fx(us(t),us(e))&&t.limitType===e.limitType}function lk(t){return`${Lx(us(t))}|lt:${t.limitType}`}function ga(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>ik(s)).join(", ")}]`),mm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ml(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ml(s)).join(",")),`Target(${r})`}(us(t))}; limitType=${t.limitType})`}function vm(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ye.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Rc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,c){const d=Sb(o,l,c);return o.inclusive?d<=0:d<0}(r.startAt,Rc(r),s)||r.endAt&&!function(o,l,c){const d=Sb(o,l,c);return o.inclusive?d>=0:d>0}(r.endAt,Rc(r),s))}(t,e)}function P9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function ck(t){return(e,n)=>{let r=!1;for(const s of Rc(t)){const i=R9(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function R9(t,e,n){const r=t.field.isKeyField()?ye.comparator(e.key,n.key):function(i,o,l){const c=o.data.field(i),d=l.data.field(i);return c!==null&&d!==null?fl(c,d):_e(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return _e(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return HC(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9=new Tt(ye.comparator);function Bs(){return D9}const uk=new Tt(ye.comparator);function gc(...t){let e=uk;for(const n of t)e=e.insert(n.key,n);return e}function dk(t){let e=uk;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function _o(){return Dc()}function hk(){return Dc()}function Dc(){return new ra(t=>t.toString(),(t,e)=>t.isEqual(e))}const M9=new Tt(ye.comparator),O9=new qt(ye.comparator);function Me(...t){let e=O9;for(const n of t)e=e.add(n);return e}const L9=new qt(Ie);function F9(){return L9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ff(e)?"-0":e}}function fk(t){return{integerValue:""+t}}function V9(t,e){return f9(e)?fk(e):Vx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this._=void 0}}function U9(t,e,n){return t instanceof gu?function(s,i){const o={fields:{[KC]:{stringValue:GC},[YC]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Mx(i)&&(i=pm(i)),i&&(o.fields[QC]=i),{mapValue:o}}(n,e):t instanceof pl?pk(t,e):t instanceof yu?gk(t,e):function(s,i){const o=mk(s,i),l=jb(o)+jb(s.Re);return Ay(o)&&Ay(s.Re)?fk(l):Vx(s.serializer,l)}(t,e)}function B9(t,e,n){return t instanceof pl?pk(t,e):t instanceof yu?gk(t,e):n}function mk(t,e){return t instanceof vf?function(r){return Ay(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class gu extends xm{}class pl extends xm{constructor(e){super(),this.elements=e}}function pk(t,e){const n=yk(e);for(const r of t.elements)n.some(s=>fs(s,r))||n.push(r);return{arrayValue:{values:n}}}class yu extends xm{constructor(e){super(),this.elements=e}}function gk(t,e){let n=yk(e);for(const r of t.elements)n=n.filter(s=>!fs(s,r));return{arrayValue:{values:n}}}class vf extends xm{constructor(e,n){super(),this.serializer=e,this.Re=n}}function jb(t){return Rt(t.integerValue||t.doubleValue)}function yk(t){return Ox(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n){this.field=e,this.transform=n}}function z9(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof pl&&s instanceof pl||r instanceof yu&&s instanceof yu?hl(r.elements,s.elements,fs):r instanceof vf&&s instanceof vf?fs(r.Re,s.Re):r instanceof gu&&s instanceof gu}(t.transform,e.transform)}class $9{constructor(e,n){this.version=e,this.transformResults=n}}class Fr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class wm{}function xk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new _k(t.key,Fr.none()):new Wu(t.key,t.data,Fr.none());{const n=t.data,r=Gn.empty();let s=new qt(on.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new so(t.key,r,new lr(s.toArray()),Fr.none())}}function W9(t,e,n){t instanceof Wu?function(s,i,o){const l=s.value.clone(),c=Pb(s.fieldTransforms,i,o.transformResults);l.setAll(c),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof so?function(s,i,o){if(!vh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Pb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(wk(s)),c.setAll(l),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Mc(t,e,n,r){return t instanceof Wu?function(i,o,l,c){if(!vh(i.precondition,o))return l;const d=i.value.clone(),u=Rb(i.fieldTransforms,c,o);return d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof so?function(i,o,l,c){if(!vh(i.precondition,o))return l;const d=Rb(i.fieldTransforms,c,o),u=o.data;return u.setAll(wk(i)),u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(i,o,l){return vh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function H9(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=mk(r.transform,s||null);i!=null&&(n===null&&(n=Gn.empty()),n.set(r.field,i))}return n||null}function Ab(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&hl(r,s,(i,o)=>z9(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Wu extends wm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class so extends wm{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function wk(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Pb(t,e,n){const r=new Map;Xe(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,B9(o,l,n[s]))}return r}function Rb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,U9(i,o,e))}return r}class _k extends wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class q9 extends wm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G9{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&W9(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Mc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=hk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const c=xk(o,l);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Ee.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Me())}isEqual(e){return this.batchId===e.batchId&&hl(this.mutations,e.mutations,(n,r)=>Ab(n,r))&&hl(this.baseMutations,e.baseMutations,(n,r)=>Ab(n,r))}}class Ux{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Xe(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return M9}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Ux(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K9=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt,Ue;function Y9(t){switch(t){case X.OK:return _e(64938);case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return _e(15467,{code:t})}}function bk(t){if(t===void 0)return Us("GRPC error has no .code"),X.UNKNOWN;switch(t){case Vt.OK:return X.OK;case Vt.CANCELLED:return X.CANCELLED;case Vt.UNKNOWN:return X.UNKNOWN;case Vt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Vt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Vt.INTERNAL:return X.INTERNAL;case Vt.UNAVAILABLE:return X.UNAVAILABLE;case Vt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Vt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Vt.NOT_FOUND:return X.NOT_FOUND;case Vt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Vt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Vt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Vt.ABORTED:return X.ABORTED;case Vt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Vt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Vt.DATA_LOSS:return X.DATA_LOSS;default:return _e(39323,{code:t})}}(Ue=Vt||(Vt={}))[Ue.OK=0]="OK",Ue[Ue.CANCELLED=1]="CANCELLED",Ue[Ue.UNKNOWN=2]="UNKNOWN",Ue[Ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ue[Ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ue[Ue.NOT_FOUND=5]="NOT_FOUND",Ue[Ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ue[Ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ue[Ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ue[Ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ue[Ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ue[Ue.ABORTED=10]="ABORTED",Ue[Ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ue[Ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ue[Ue.INTERNAL=13]="INTERNAL",Ue[Ue.UNAVAILABLE=14]="UNAVAILABLE",Ue[Ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new Ri([4294967295,4294967295],0);function Db(t){const e=zC().encode(t),n=new DC;return n.update(e),new Uint8Array(n.digest())}function Mb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ri([n,r],0),new Ri([s,i],0)]}class Bx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new yc(`Invalid padding: ${n}`);if(r<0)throw new yc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new yc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new yc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ri.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Ri.fromNumber(r)));return s.compare(X9)===1&&(s=new Ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Db(e),[r,s]=Mb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Bx(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=Db(e),[r,s]=Mb(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class yc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(Ee.min(),s,new Tt(Ie),Bs(),Me())}}class Hu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Hu(r,n,Me(),Me(),Me())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class Ek{constructor(e,n){this.targetId=e,this.Ce=n}}class Nk{constructor(e,n,r=un.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Ob{constructor(){this.Fe=0,this.Me=Lb(),this.xe=un.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Me(),n=Me(),r=Me();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:_e(38017,{changeType:i})}}),new Hu(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Lb()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Xe(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class J9{constructor(e){this.ze=e,this.je=new Map,this.He=Bs(),this.Je=Bd(),this.Ye=Bd(),this.Ze=new Tt(Ie)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:_e(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(Ry(i))if(r===0){const o=new ye(i.path);this.tt(n,o,_n.newNoDocument(o,Ee.min()))}else Xe(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),c=l?this.lt(l,e,o):1;if(c!==0){this.st(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=Hi(r).toUint8Array()}catch(c){if(c instanceof qC)return dl("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{l=new Bx(o,s,i)}catch(c){return dl(c instanceof yc?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&Ry(l.target)){const c=new ye(l.target.path);this.Et(c).has(o)||this.dt(o,c)||this.tt(o,c,_n.newNoDocument(c,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=Me();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(c=>{const d=this._t(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new _m(e,n,this.Ze,this.He,r);return this.He=Bs(),this.Je=Bd(),this.Ye=Bd(),this.Ze=new Tt(Ie),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Ob,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new qt(Ie),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new qt(Ie),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Ob),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Bd(){return new Tt(ye.comparator)}function Lb(){return new Tt(ye.comparator)}const Z9={asc:"ASCENDING",desc:"DESCENDING"},eU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tU={and:"AND",or:"OR"};class nU{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function My(t,e){return t.useProto3Json||mm(e)?e:{value:e}}function xf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Tk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function rU(t,e){return xf(t,e.toTimestamp())}function ds(t){return Xe(!!t,49232),Ee.fromTimestamp(function(n){const r=Wi(n);return new zt(r.seconds,r.nanos)}(t))}function zx(t,e){return Oy(t,e).canonicalString()}function Oy(t,e){const n=function(s){return new pt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Sk(t){const e=pt.fromString(t);return Xe(Ak(e),10190,{key:e.toString()}),e}function Ly(t,e){return zx(t.databaseId,e.path)}function $p(t,e){const n=Sk(e);if(n.get(1)!==t.databaseId.projectId)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ae(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ye(kk(n))}function Ck(t,e){return zx(t.databaseId,e)}function sU(t){const e=Sk(t);return e.length===4?pt.emptyPath():kk(e)}function Fy(t){return new pt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function kk(t){return Xe(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Fb(t,e,n){return{name:Ly(t,e),fields:n.value.mapValue.fields}}function iU(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:_e(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,u){return d.useProto3Json?(Xe(u===void 0||typeof u=="string",58123),un.fromBase64String(u||"")):(Xe(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),un.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(d){const u=d.code===void 0?X.UNKNOWN:bk(d.code);return new ae(u,d.message||"")}(o);n=new Nk(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=$p(t,r.document.name),i=ds(r.document.updateTime),o=r.document.createTime?ds(r.document.createTime):Ee.min(),l=new Gn({mapValue:{fields:r.document.fields}}),c=_n.newFoundDocument(s,i,o,l),d=r.targetIds||[],u=r.removedTargetIds||[];n=new xh(d,u,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=$p(t,r.document),i=r.readTime?ds(r.readTime):Ee.min(),o=_n.newNoDocument(s,i),l=r.removedTargetIds||[];n=new xh([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=$p(t,r.document),i=r.removedTargetIds||[];n=new xh([],i,s,null)}else{if(!("filter"in e))return _e(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new Q9(s,i),l=r.targetId;n=new Ek(l,o)}}return n}function oU(t,e){let n;if(e instanceof Wu)n={update:Fb(t,e.key,e.value)};else if(e instanceof _k)n={delete:Ly(t,e.key)};else if(e instanceof so)n={update:Fb(t,e.key,e.data),updateMask:pU(e.fieldMask)};else{if(!(e instanceof q9))return _e(16599,{ft:e.type});n={verify:Ly(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const l=o.transform;if(l instanceof gu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof pl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof yu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof vf)return{fieldPath:o.field.canonicalString(),increment:l.Re};throw _e(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:rU(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:_e(27497)}(t,e.precondition)),n}function aU(t,e){return t&&t.length>0?(Xe(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?ds(s.updateTime):ds(i);return o.isEqual(Ee.min())&&(o=ds(i)),new $9(o,s.transformResults||[])}(n,e))):[]}function lU(t,e){return{documents:[Ck(t,e.path)]}}function cU(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ck(t,s);const i=function(d){if(d.length!==0)return jk($r.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(u=>function(h){return{field:ya(h.field),direction:hU(h.dir)}}(u))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=My(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{gt:n,parent:s}}function uU(t){let e=sU(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Xe(r===1,65062);const u=n.from[0];u.allDescendants?s=u.collectionId:e=e.child(u.collectionId)}let i=[];n.where&&(i=function(m){const h=Ik(m);return h instanceof $r&&rk(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(m){return m.map(h=>function(y){return new pu(va(y.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let l=null;n.limit&&(l=function(m){let h;return h=typeof m=="object"?m.value:m,mm(h)?null:h}(n.limit));let c=null;n.startAt&&(c=function(m){const h=!!m.before,p=m.values||[];return new gf(p,h)}(n.startAt));let d=null;return n.endAt&&(d=function(m){const h=!m.before,p=m.values||[];return new gf(p,h)}(n.endAt)),j9(e,s,o,i,l,"F",c,d)}function dU(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Ik(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=va(n.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=va(n.unaryFilter.field);return Bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=va(n.unaryFilter.field);return Bt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=va(n.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}}(t):t.fieldFilter!==void 0?function(n){return Bt.create(va(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return $r.create(n.compositeFilter.filters.map(r=>Ik(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return _e(1026)}}(n.compositeFilter.op))}(t):_e(30097,{filter:t})}function hU(t){return Z9[t]}function fU(t){return eU[t]}function mU(t){return tU[t]}function ya(t){return{fieldPath:t.canonicalString()}}function va(t){return on.fromServerFormat(t.fieldPath)}function jk(t){return t instanceof Bt?function(n){if(n.op==="=="){if(Tb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NAN"}};if(Nb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Tb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NAN"}};if(Nb(n.value))return{unaryFilter:{field:ya(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ya(n.field),op:fU(n.op),value:n.value}}}(t):t instanceof $r?function(n){const r=n.getFilters().map(s=>jk(s));return r.length===1?r[0]:{compositeFilter:{op:mU(n.op),filters:r}}}(t):_e(54877,{filter:t})}function pU(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Ak(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e,n,r,s,i=Ee.min(),o=Ee.min(),l=un.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=c}withSequenceNumber(e){return new wi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new wi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gU{constructor(e){this.wt=e}}function yU(t){const e=uU({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?yf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vU{constructor(){this.Cn=new xU}addToCollectionParentIndex(e,n){return this.Cn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve($i.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve($i.min())}updateCollectionGroup(e,n,r){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class xU{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new qt(pt.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new qt(pt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Pk=41943040;class Wn{static withCacheSize(e){return new Wn(e,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wn.DEFAULT_COLLECTION_PERCENTILE=10,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wn.DEFAULT=new Wn(Pk,Wn.DEFAULT_COLLECTION_PERCENTILE,Wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wn.DISABLED=new Wn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new gl(0)}static lr(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="LruGarbageCollector",wU=1048576;function Bb([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class _U{constructor(e){this.Er=e,this.buffer=new qt(Bb),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Bb(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class bU{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(Ub,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Pl(n)?le(Ub,"Ignoring IndexedDB error during garbage collection: ",n):await Al(n)}await this.mr(3e5)})}}class EU{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return J.resolve(fm.le);const r=new _U(n);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(Vb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Vb):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,s,i,o,l,c,d;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),s=this.params.maximumSequenceNumbersToCollect):s=m,o=Date.now(),this.nthSequenceNumber(e,s))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(i=m,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(d=Date.now(),pa()<=De.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-u}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(c-l)+`ms
	Removed ${m} documents in `+(d-c)+`ms
Total Duration: ${d-u}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:m})))}}function NU(t,e){return new EU(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,_n.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CU{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Mc(r.mutation,s,lr.empty(),zt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Me()){const s=_o();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=gc();return i.forEach((l,c)=>{o=o.insert(l,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=_o();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Me()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=Bs();const o=Dc(),l=function(){return Dc()}();return n.forEach((c,d)=>{const u=r.get(d.key);s.has(d.key)&&(u===void 0||u.mutation instanceof so)?i=i.insert(d.key,d):u!==void 0?(o.set(d.key,u.mutation.getFieldMask()),Mc(u.mutation,d,u.mutation.getFieldMask(),zt.now())):o.set(d.key,lr.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,u)=>o.set(d,u)),n.forEach((d,u)=>{var m;return l.set(d,new SU(u,(m=o.get(d))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Dc();let s=new Tt((o,l)=>o-l),i=Me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let u=r.get(c)||lr.empty();u=l.applyToLocalView(d,u),r.set(c,u);const m=(s.get(l.batchId)||Me()).add(c);s=s.insert(l.batchId,m)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const c=l.getNext(),d=c.key,u=c.value,m=hk();u.forEach(h=>{if(!i.has(h)){const p=xk(n.get(h),r.get(h));p!==null&&m.set(h,p),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,m))}return J.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ye.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):ak(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):J.resolve(_o());let l=du,c=i;return o.next(d=>J.forEach(d,(u,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),i.get(u)?J.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{c=c.insert(u,h)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Me())).next(u=>({batchId:l,changes:dk(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(r=>{let s=gc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=gc();return this.indexManager.getCollectionParents(e,i).next(l=>J.forEach(l,c=>{const d=function(m,h){return new Rl(h,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(u=>{u.forEach((m,h)=>{o=o.insert(m,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const u=d.getKey();o.get(u)===null&&(o=o.insert(u,_n.newInvalidDocument(u)))});let l=gc();return o.forEach((c,d)=>{const u=i.get(c);u!==void 0&&Mc(u.mutation,d,lr.empty(),zt.now()),vm(n,d)&&(l=l.insert(c,d))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kU{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return J.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ds(s.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(s){return{name:s.name,query:yU(s.bundledQuery),readTime:ds(s.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IU{constructor(){this.overlays=new Tt(ye.comparator),this.Qr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const r=_o();return J.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),J.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Qr.delete(r)),J.resolve()}getOverlaysForCollection(e,n,r){const s=_o(),i=n.length+1,o=new ye(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const c=l.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return J.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new Tt((d,u)=>d-u);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let u=i.get(d.largestBatchId);u===null&&(u=_o(),i=i.insert(d.largestBatchId,u)),u.set(d.getKey(),d)}}const l=_o(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,u)=>l.set(d,u)),!(l.size()>=s)););return J.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new K9(n,r));let i=this.Qr.get(n);i===void 0&&(i=Me(),this.Qr.set(n,i)),this.Qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jU{constructor(){this.sessionToken=un.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.$r=new qt(Qt.Ur),this.Kr=new qt(Qt.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Qt(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Qt(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new ye(new pt([])),r=new Qt(n,e),s=new Qt(n,e+1),i=[];return this.Kr.forEachInRange([r,s],o=>{this.zr(o),i.push(o.key)}),i}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new pt([])),r=new Qt(n,e),s=new Qt(n,e+1);let i=Me();return this.Kr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Qt(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Ie(e.Zr,n.Zr)}static Wr(e,n){return Ie(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AU{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new qt(Qt.Ur)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new G9(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.Xr=this.Xr.add(new Qt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return J.resolve(o)}lookupMutationBatch(e,n){return J.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ti(r),i=s<0?0:s;return J.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Dx:this.nr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Qt(n,0),s=new Qt(n,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([r,s],o=>{const l=this.ei(o.Zr);i.push(l)}),J.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new qt(Ie);return n.forEach(s=>{const i=new Qt(s,0),o=new Qt(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([i,o],l=>{r=r.add(l.Zr)})}),J.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ye.isDocumentKey(i)||(i=i.child(""));const o=new Qt(new ye(i),0);let l=new qt(Ie);return this.Xr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(l=l.add(c.Zr)),!0)},o),J.resolve(this.ni(l))}ni(e){const n=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Xe(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return J.forEach(n.mutations,s=>{const i=new Qt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Qt(n,0),s=this.Xr.firstAfterOrEqual(r);return J.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PU{constructor(e){this.ii=e,this.docs=function(){return new Tt(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():_n.newInvalidDocument(n))}getEntries(e,n){let r=Bs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():_n.newInvalidDocument(s))}),J.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Bs();const o=n.path,l=new ye(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(l);for(;c.hasNext();){const{key:d,value:{document:u}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||c9(l9(u),r)<=0||(s.has(u.key)||vm(n,u))&&(i=i.insert(u.key,u.mutableCopy()))}return J.resolve(i)}getAllFromCollectionGroup(e,n,r,s){_e(9500)}si(e,n){return J.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new RU(this)}getSize(e){return J.resolve(this.size)}}class RU extends TU{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),J.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(e){this.persistence=e,this.oi=new ra(n=>Lx(n),Fx),this.lastRemoteSnapshotVersion=Ee.min(),this.highestTargetId=0,this._i=0,this.ai=new $x,this.targetCount=0,this.ui=gl.cr()}forEachTarget(e,n){return this.oi.forEach((r,s)=>n(s)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),J.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new gl(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.Tr(n),J.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.oi.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.oi.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),J.waitFor(i).next(()=>s)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return J.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),J.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),J.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),J.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return J.resolve(r)}containsKey(e,n){return J.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.ci={},this.overlays={},this.li=new fm(0),this.hi=!1,this.hi=!0,this.Pi=new jU,this.referenceDelegate=e(this),this.Ti=new DU(this),this.indexManager=new vU,this.remoteDocumentCache=function(s){return new PU(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gU(n),this.Ei=new kU(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new IU,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new AU(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){le("MemoryPersistence","Starting transaction:",e);const s=new MU(this.li.next());return this.referenceDelegate.di(),r(s).next(i=>this.referenceDelegate.Ai(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ri(e,n){return J.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class MU extends d9{constructor(e){super(),this.currentSequenceNumber=e}}class Wx{constructor(e){this.persistence=e,this.Vi=new $x,this.mi=null}static fi(e){return new Wx(e)}get gi(){if(this.mi)return this.mi;throw _e(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),J.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),J.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.gi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.gi,r=>{const s=ye.fromPath(r);return this.pi(e,s).next(i=>{i||n.removeEntry(s,Ee.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return J.or([()=>J.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class wf{constructor(e,n){this.persistence=e,this.yi=new ra(r=>m9(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=NU(this,n)}static fi(e,n){return new wf(e,n)}di(){}Ai(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}br(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return J.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(i=>i?J.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.si(e,o=>this.Dr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,Ee.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),J.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),J.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=gh(e.data.value)),n}Dr(e,n,r){return J.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.yi.get(n);return J.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ds=r,this.As=s}static Rs(e,n){let r=Me(),s=Me();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Hx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OU{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LU{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return gL()?8:h9(Sn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ws(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.bs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new OU;return this.Ss(e,n,o).next(l=>{if(i.result=l,this.fs)return this.Ds(e,n,o,l.size)})}).next(()=>i.result)}Ds(e,n,r,s){return r.documentReadCount<this.gs?(pa()<=De.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),J.resolve()):(pa()<=De.DEBUG&&le("QueryEngine","Query:",ga(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(pa()<=De.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,us(n))):J.resolve())}ws(e,n){if(Ib(n))return J.resolve(null);let r=us(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=yf(n,null,"F"),r=us(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Me(...i);return this.ys.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.vs(n,l);return this.Cs(n,d,o,c.readTime)?this.ws(e,yf(n,null,"F")):this.Fs(e,d,n,c)}))})))}bs(e,n,r,s){return Ib(n)||s.isEqual(Ee.min())?J.resolve(null):this.ys.getDocuments(e,r).next(i=>{const o=this.vs(n,i);return this.Cs(n,o,r,s)?J.resolve(null):(pa()<=De.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ga(n)),this.Fs(e,o,n,a9(s,du)).next(l=>l))})}vs(e,n){let r=new qt(ck(e));return n.forEach((s,i)=>{vm(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return pa()<=De.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",ga(n)),this.ys.getDocumentsMatchingQuery(e,n,$i.min(),r)}Fs(e,n,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx="LocalStore",FU=3e8;class VU{constructor(e,n,r,s){this.persistence=e,this.Ms=n,this.serializer=s,this.xs=new Tt(Ie),this.Os=new ra(i=>Lx(i),Fx),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CU(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function UU(t,e,n,r){return new VU(t,e,n,r)}async function Dk(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let c=Me();for(const d of s){o.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}for(const d of i){l.push(d.batchId);for(const u of d.mutations)c=c.add(u.key)}return n.localDocuments.getDocuments(r,c).next(d=>({ks:d,removedBatchIds:o,addedBatchIds:l}))})})}function BU(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(l,c,d,u){const m=d.batch,h=m.keys();let p=J.resolve();return h.forEach(y=>{p=p.next(()=>u.getEntry(c,y)).next(g=>{const w=d.docVersions.get(y);Xe(w!==null,48541),g.version.compareTo(w)<0&&(m.applyToRemoteDocument(g,d),g.isValidDocument()&&(g.setReadTime(d.commitVersion),u.addEntry(g)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(c,m))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let c=Me();for(let d=0;d<l.mutationResults.length;++d)l.mutationResults[d].transformResults.length>0&&(c=c.add(l.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Mk(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function zU(t,e){const n=Ne(t),r=e.snapshotVersion;let s=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Bs.newChangeBuffer({trackRemovals:!0});s=n.xs;const l=[];e.targetChanges.forEach((u,m)=>{const h=s.get(m);if(!h)return;l.push(n.Ti.removeMatchingKeys(i,u.removedDocuments,m).next(()=>n.Ti.addMatchingKeys(i,u.addedDocuments,m)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(un.EMPTY_BYTE_STRING,Ee.min()).withLastLimboFreeSnapshotVersion(Ee.min()):u.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(u.resumeToken,r)),s=s.insert(m,p),function(g,w,v){return g.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=FU?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(h,p,u)&&l.push(n.Ti.updateTargetData(i,p))});let c=Bs(),d=Me();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,u))}),l.push($U(i,o,e.documentUpdates).next(u=>{c=u.qs,d=u.Qs})),!r.isEqual(Ee.min())){const u=n.Ti.getLastRemoteSnapshotVersion(i).next(m=>n.Ti.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(u)}return J.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.xs=s,i))}function $U(t,e,n){let r=Me(),s=Me();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Bs();return n.forEach((l,c)=>{const d=i.get(l);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(l)),c.isNoDocument()&&c.version.isEqual(Ee.min())?(e.removeEntry(l,c.readTime),o=o.insert(l,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(l,c)):le(qx,"Ignoring outdated watch update for ",l,". Current version:",d.version," Watch version:",c.version)}),{qs:o,Qs:s}})}function WU(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Dx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function HU(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Ti.getTargetData(r,e).next(i=>i?(s=i,J.resolve(s)):n.Ti.allocateTargetId(r).next(o=>(s=new wi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.xs=n.xs.insert(r.targetId,r),n.Os.set(e,r.targetId)),r})}async function Vy(t,e,n){const r=Ne(t),s=r.xs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Pl(o))throw o;le(qx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function zb(t,e,n){const r=Ne(t);let s=Ee.min(),i=Me();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,u){const m=Ne(c),h=m.Os.get(u);return h!==void 0?J.resolve(m.xs.get(h)):m.Ti.getTargetData(d,u)}(r,o,us(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(o,l.targetId).next(c=>{i=c})}).next(()=>r.Ms.getDocumentsMatchingQuery(o,e,n?s:Ee.min(),n?i:Me())).next(l=>(qU(r,P9(e),l),{documents:l,$s:i})))}function qU(t,e,n){let r=t.Ns.get(e)||Ee.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ns.set(e,r)}class $b{constructor(){this.activeTargetIds=F9()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GU{constructor(){this.xo=new $b,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new $b,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KU{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="ConnectivityMonitor";class Hb{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(Wb,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(Wb,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function Uy(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="RestConnection",QU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YU{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===mf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,n,r,s,i){const o=Uy(),l=this.jo(e,n.toUriEncodedString());le(Wp,`Sending RPC '${e}' ${o}:`,l,r);const c={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(c,s,i);const{host:d}=new URL(l),u=ea(d);return this.Jo(e,l,c,r,u).then(m=>(le(Wp,`Received RPC '${e}' ${o}: `,m),m),m=>{throw dl(Wp,`RPC '${e}' ${o} failed with error: `,m,"url: ",l,"request:",r),m})}Yo(e,n,r,s,i,o){return this.zo(e,n,r,s,i)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}jo(e,n){const r=QU[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XU{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yn="WebChannelConnection";class JU extends YU{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const o=Uy();return new Promise((l,c)=>{const d=new MC;d.setWithCredentials(!0),d.listenOnce(OC.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case ph.NO_ERROR:const m=d.getResponseJson();le(yn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(m)),l(m);break;case ph.TIMEOUT:le(yn,`RPC '${e}' ${o} timed out`),c(new ae(X.DEADLINE_EXCEEDED,"Request time out"));break;case ph.HTTP_ERROR:const h=d.getStatus();if(le(yn,`RPC '${e}' ${o} failed with status:`,h,"response text:",d.getResponseText()),h>0){let p=d.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const g=function(v){const x=v.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(x)>=0?x:X.UNKNOWN}(y.status);c(new ae(g,y.message))}else c(new ae(X.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new ae(X.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{h_:e,streamId:o,P_:d.getLastErrorCode(),T_:d.getLastError()})}}finally{le(yn,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(s);le(yn,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",u,r,15)})}I_(e,n,r){const s=Uy(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=VC(),l=FC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Ho(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const u=i.join("");le(yn,`Creating RPC '${e}' stream ${s}: ${u}`,c);const m=o.createWebChannel(u,c);this.E_(m);let h=!1,p=!1;const y=new XU({Zo:w=>{p?le(yn,`Not sending because RPC '${e}' stream ${s} is closed:`,w):(h||(le(yn,`Opening RPC '${e}' stream ${s} transport.`),m.open(),h=!0),le(yn,`RPC '${e}' stream ${s} sending:`,w),m.send(w))},Xo:()=>m.close()}),g=(w,v,x)=>{w.listen(v,_=>{try{x(_)}catch(C){setTimeout(()=>{throw C},0)}})};return g(m,pc.EventType.OPEN,()=>{p||(le(yn,`RPC '${e}' stream ${s} transport opened.`),y.__())}),g(m,pc.EventType.CLOSE,()=>{p||(p=!0,le(yn,`RPC '${e}' stream ${s} transport closed`),y.u_(),this.d_(m))}),g(m,pc.EventType.ERROR,w=>{p||(p=!0,dl(yn,`RPC '${e}' stream ${s} transport errored. Name:`,w.name,"Message:",w.message),y.u_(new ae(X.UNAVAILABLE,"The operation could not be completed")))}),g(m,pc.EventType.MESSAGE,w=>{var v;if(!p){const x=w.data[0];Xe(!!x,16349);const _=x,C=(_==null?void 0:_.error)||((v=_[0])===null||v===void 0?void 0:v.error);if(C){le(yn,`RPC '${e}' stream ${s} received error:`,C);const M=C.status;let R=function(T){const S=Vt[T];if(S!==void 0)return bk(S)}(M),k=C.message;R===void 0&&(R=X.INTERNAL,k="Unknown error status: "+M+" with message "+C.message),p=!0,y.u_(new ae(R,k)),m.close()}else le(yn,`RPC '${e}' stream ${s} received:`,x),y.c_(x)}}),g(l,LC.STAT_EVENT,w=>{w.stat===ky.PROXY?le(yn,`RPC '${e}' stream ${s} detected buffering proxy`):w.stat===ky.NOPROXY&&le(yn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{y.a_()},0),y}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Hp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){return new nU(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{constructor(e,n,r=1e3,s=1.5,i=6e4){this.xi=e,this.timerId=n,this.A_=r,this.R_=s,this.V_=i,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,n-r);s>0&&le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="PersistentStream";class Lk{constructor(e,n,r,s,i,o,l,c){this.xi=e,this.S_=r,this.D_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=c,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Ok(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Us(n.toString()),Us("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===n&&this.z_(r,s)},r=>{e(()=>{const s=new ae(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,n){const r=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return le(qb,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(le(qb,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZU extends Lk{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=iU(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ee.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Ee.min():o.readTime?ds(o.readTime):Ee.min()}(e);return this.listener.Y_(n,r)}Z_(e){const n={};n.database=Fy(this.serializer),n.addTarget=function(i,o){let l;const c=o.target;if(l=Ry(c)?{documents:lU(i,c)}:{query:cU(i,c).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=Tk(i,o.resumeToken);const d=My(i,o.expectedCount);d!==null&&(l.expectedCount=d)}else if(o.snapshotVersion.compareTo(Ee.min())>0){l.readTime=xf(i,o.snapshotVersion.toTimestamp());const d=My(i,o.expectedCount);d!==null&&(l.expectedCount=d)}return l}(this.serializer,e);const r=dU(this.serializer,e);r&&(n.labels=r),this.Q_(n)}X_(e){const n={};n.database=Fy(this.serializer),n.removeTarget=e,this.Q_(n)}}class e8 extends Lk{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Xe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Xe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=aU(e.writeResults,e.commitTime),r=ds(e.commitTime);return this.listener.ra(r,n)}ia(){const e={};e.database=Fy(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oU(this.serializer,r))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{}class n8 extends t8{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.zo(e,Oy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ae(X.UNKNOWN,i.toString())})}Yo(e,n,r,s,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Yo(e,Oy(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ae(X.UNKNOWN,o.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class r8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Us(n),this.ua=!1):le("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $o="RemoteStore";class s8{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=i,this.Ra.No(o=>{r.enqueueAndForget(async()=>{sa(this)&&(le($o,"Restarting streams for network reachability change."),await async function(c){const d=Ne(c);d.da.add(4),await qu(d),d.Va.set("Unknown"),d.da.delete(4),await Em(d)}(this))})}),this.Va=new r8(r,s)}}async function Em(t){if(sa(t))for(const e of t.Aa)await e(!0)}async function qu(t){for(const e of t.Aa)await e(!1)}function Fk(t,e){const n=Ne(t);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),Yx(n)?Qx(n):Dl(n).N_()&&Kx(n,e))}function Gx(t,e){const n=Ne(t),r=Dl(n);n.Ea.delete(e),r.N_()&&Vk(n,e),n.Ea.size===0&&(r.N_()?r.k_():sa(n)&&n.Va.set("Unknown"))}function Kx(t,e){if(t.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ee.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Dl(t).Z_(e)}function Vk(t,e){t.ma.Ke(e),Dl(t).X_(e)}function Qx(t){t.ma=new J9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t.Ea.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Dl(t).start(),t.Va.ca()}function Yx(t){return sa(t)&&!Dl(t).O_()&&t.Ea.size>0}function sa(t){return Ne(t).da.size===0}function Uk(t){t.ma=void 0}async function i8(t){t.Va.set("Online")}async function o8(t){t.Ea.forEach((e,n)=>{Kx(t,e)})}async function a8(t,e){Uk(t),Yx(t)?(t.Va.Pa(e),Qx(t)):t.Va.set("Unknown")}async function l8(t,e,n){if(t.Va.set("Online"),e instanceof Nk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s.Ea.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s.Ea.delete(l),s.ma.removeTarget(l))}(t,e)}catch(r){le($o,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _f(t,r)}else if(e instanceof xh?t.ma.Xe(e):e instanceof Ek?t.ma.ot(e):t.ma.nt(e),!n.isEqual(Ee.min()))try{const r=await Mk(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ma.It(o);return l.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const u=i.Ea.get(d);u&&i.Ea.set(d,u.withResumeToken(c.resumeToken,o))}}),l.targetMismatches.forEach((c,d)=>{const u=i.Ea.get(c);if(!u)return;i.Ea.set(c,u.withResumeToken(un.EMPTY_BYTE_STRING,u.snapshotVersion)),Vk(i,c);const m=new wi(u.target,c,d,u.sequenceNumber);Kx(i,m)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){le($o,"Failed to raise snapshot:",r),await _f(t,r)}}async function _f(t,e,n){if(!Pl(e))throw e;t.da.add(1),await qu(t),t.Va.set("Offline"),n||(n=()=>Mk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{le($o,"Retrying IndexedDB access"),await n(),t.da.delete(1),await Em(t)})}function Bk(t,e){return e().catch(n=>_f(t,n,e))}async function Nm(t){const e=Ne(t),n=Gi(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Dx;for(;c8(e);)try{const s=await WU(e.localStore,r);if(s===null){e.Ia.length===0&&n.k_();break}r=s.batchId,u8(e,s)}catch(s){await _f(e,s)}zk(e)&&$k(e)}function c8(t){return sa(t)&&t.Ia.length<10}function u8(t,e){t.Ia.push(e);const n=Gi(t);n.N_()&&n.ea&&n.ta(e.mutations)}function zk(t){return sa(t)&&!Gi(t).O_()&&t.Ia.length>0}function $k(t){Gi(t).start()}async function d8(t){Gi(t).ia()}async function h8(t){const e=Gi(t);for(const n of t.Ia)e.ta(n.mutations)}async function f8(t,e,n){const r=t.Ia.shift(),s=Ux.from(r,e,n);await Bk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Nm(t)}async function m8(t,e){e&&Gi(t).ea&&await async function(r,s){if(function(o){return Y9(o)&&o!==X.ABORTED}(s.code)){const i=r.Ia.shift();Gi(r).L_(),await Bk(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Nm(r)}}(t,e),zk(t)&&$k(t)}async function Gb(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),le($o,"RemoteStore received new credentials");const r=sa(n);n.da.add(3),await qu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await Em(n)}async function p8(t,e){const n=Ne(t);e?(n.da.delete(2),await Em(n)):e||(n.da.add(2),await qu(n),n.Va.set("Unknown"))}function Dl(t){return t.fa||(t.fa=function(n,r,s){const i=Ne(n);return i.oa(),new ZU(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:i8.bind(null,t),n_:o8.bind(null,t),i_:a8.bind(null,t),Y_:l8.bind(null,t)}),t.Aa.push(async e=>{e?(t.fa.L_(),Yx(t)?Qx(t):t.Va.set("Unknown")):(await t.fa.stop(),Uk(t))})),t.fa}function Gi(t){return t.ga||(t.ga=function(n,r,s){const i=Ne(n);return i.oa(),new e8(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:d8.bind(null,t),i_:m8.bind(null,t),na:h8.bind(null,t),ra:f8.bind(null,t)}),t.Aa.push(async e=>{e?(t.ga.L_(),await Nm(t)):(await t.ga.stop(),t.Ia.length>0&&(le($o,`Stopping write stream with ${t.Ia.length} pending writes`),t.Ia=[]))})),t.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Xx(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jx(t,e){if(Us("AsyncQueue",`${e}: ${t}`),Pl(t))return new ae(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{static emptySet(e){return new Wa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ye.comparator(n.key,r.key):(n,r)=>ye.comparator(n.key,r.key),this.keyedMap=gc(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Wa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Wa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(){this.pa=new Tt(ye.comparator)}track(e){const n=e.doc.key,r=this.pa.get(n);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(n,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(n):e.type===1&&r.type===2?this.pa=this.pa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):_e(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,s,i,o,l,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new yl(e,n,Wa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ym(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class y8{constructor(){this.queries=Qb(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=Ne(n),i=s.queries;s.queries=Qb(),i.forEach((o,l)=>{for(const c of l.Sa)c.onError(r)})})(this,new ae(X.ABORTED,"Firestore shutting down"))}}function Qb(){return new ra(t=>lk(t),ym)}async function Zx(t,e){const n=Ne(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Da()&&e.va()&&(r=2):(i=new g8,r=e.va()?0:1);try{switch(r){case 0:i.ba=await n.onListen(s,!0);break;case 1:i.ba=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=Jx(o,`Initialization of query '${ga(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Sa.push(e),e.Fa(n.onlineState),i.ba&&e.Ma(i.ba)&&t0(n)}async function e0(t,e){const n=Ne(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Sa.indexOf(e);o>=0&&(i.Sa.splice(o,1),i.Sa.length===0?s=e.va()?0:1:!i.Da()&&e.va()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function v8(t,e){const n=Ne(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Sa)l.Ma(s)&&(r=!0);o.ba=s}}r&&t0(n)}function x8(t,e,n){const r=Ne(t),s=r.queries.get(e);if(s)for(const i of s.Sa)i.onError(n);r.queries.delete(e)}function t0(t){t.Ca.forEach(e=>{e.next()})}var By,Yb;(Yb=By||(By={})).xa="default",Yb.Cache="cache";class n0{constructor(e,n,r){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const r=n!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==By.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e){this.key=e}}class Hk{constructor(e){this.key=e}}class w8{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Me(),this.mutatedKeys=Me(),this.Za=ck(e),this.Xa=new Wa(this.Za)}get eu(){return this.Ha}tu(e,n){const r=n?n.nu:new Kb,s=n?n.Xa:this.Xa;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((u,m)=>{const h=s.get(u),p=vm(this.query,m)?m:null,y=!!h&&this.mutatedKeys.has(h.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?y!==g&&(r.track({type:3,doc:p}),w=!0):this.ru(h,p)||(r.track({type:2,doc:p}),w=!0,(c&&this.Za(p,c)>0||d&&this.Za(p,d)<0)&&(l=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(c||d)&&(l=!0)),w&&(p?(o=o.add(p),i=g?i.add(u):i.delete(u)):(o=o.delete(u),i=i.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),i=i.delete(u.key),r.track({type:1,doc:u})}return{Xa:o,nu:r,Cs:l,mutatedKeys:i}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const o=e.nu.wa();o.sort((u,m)=>function(p,y){const g=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Vt:w})}};return g(p)-g(y)}(u.type,m.type)||this.Za(u.doc,m.doc)),this.iu(r),s=s!=null&&s;const l=n&&!s?this.su():[],c=this.Ya.size===0&&this.current&&!s?1:0,d=c!==this.Ja;return this.Ja=c,o.length!==0||d?{snapshot:new yl(this.query,e.Xa,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:l}:{ou:l}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new Kb,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Me(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new Hk(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new Wk(r))}),n}au(e){this.Ha=e.$s,this.Ya=Me();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return yl.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const r0="SyncEngine";class _8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class b8{constructor(e){this.key=e,this.cu=!1}}class E8{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.lu={},this.hu=new ra(l=>lk(l),ym),this.Pu=new Map,this.Tu=new Set,this.Iu=new Tt(ye.comparator),this.Eu=new Map,this.du=new $x,this.Au={},this.Ru=new Map,this.Vu=gl.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function N8(t,e,n=!0){const r=Xk(t);let s;const i=r.hu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.uu()):s=await qk(r,e,n,!0),s}async function T8(t,e){const n=Xk(t);await qk(n,e,!0,!1)}async function qk(t,e,n,r){const s=await HU(t.localStore,us(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await S8(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&Fk(t.remoteStore,s),l}async function S8(t,e,n,r,s){t.fu=(m,h,p)=>async function(g,w,v,x){let _=w.view.tu(v);_.Cs&&(_=await zb(g.localStore,w.query,!1).then(({documents:k})=>w.view.tu(k,_)));const C=x&&x.targetChanges.get(w.targetId),M=x&&x.targetMismatches.get(w.targetId)!=null,R=w.view.applyChanges(_,g.isPrimaryClient,C,M);return Jb(g,w.targetId,R.ou),R.snapshot}(t,m,h,p);const i=await zb(t.localStore,e,!0),o=new w8(e,i.$s),l=o.tu(i.documents),c=Hu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(l,t.isPrimaryClient,c);Jb(t,n,d.ou);const u=new _8(e,n,o);return t.hu.set(e,u),t.Pu.has(n)?t.Pu.get(n).push(e):t.Pu.set(n,[e]),d.snapshot}async function C8(t,e,n){const r=Ne(t),s=r.hu.get(e),i=r.Pu.get(s.targetId);if(i.length>1)return r.Pu.set(s.targetId,i.filter(o=>!ym(o,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Gx(r.remoteStore,s.targetId),zy(r,s.targetId)}).catch(Al)):(zy(r,s.targetId),await Vy(r.localStore,s.targetId,!0))}async function k8(t,e){const n=Ne(t),r=n.hu.get(e),s=n.Pu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Gx(n.remoteStore,r.targetId))}async function I8(t,e,n){const r=O8(t);try{const s=await function(o,l){const c=Ne(o),d=zt.now(),u=l.reduce((p,y)=>p.add(y.key),Me());let m,h;return c.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Bs(),g=Me();return c.Bs.getEntries(p,u).next(w=>{y=w,y.forEach((v,x)=>{x.isValidDocument()||(g=g.add(v))})}).next(()=>c.localDocuments.getOverlayedDocuments(p,y)).next(w=>{m=w;const v=[];for(const x of l){const _=H9(x,m.get(x.key).overlayedDocument);_!=null&&v.push(new so(x.key,_,ek(_.value.mapValue),Fr.exists(!0)))}return c.mutationQueue.addMutationBatch(p,d,v,l)}).next(w=>{h=w;const v=w.applyToLocalDocumentSet(m,g);return c.documentOverlayCache.saveOverlays(p,w.batchId,v)})}).then(()=>({batchId:h.batchId,changes:dk(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,l,c){let d=o.Au[o.currentUser.toKey()];d||(d=new Tt(Ie)),d=d.insert(l,c),o.Au[o.currentUser.toKey()]=d}(r,s.batchId,n),await Gu(r,s.changes),await Nm(r.remoteStore)}catch(s){const i=Jx(s,"Failed to persist write");n.reject(i)}}async function Gk(t,e){const n=Ne(t);try{const r=await zU(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Eu.get(i);o&&(Xe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.cu=!0:s.modifiedDocuments.size>0?Xe(o.cu,14607):s.removedDocuments.size>0&&(Xe(o.cu,42227),o.cu=!1))}),await Gu(n,r,e)}catch(r){await Al(r)}}function Xb(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.hu.forEach((i,o)=>{const l=o.view.Fa(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const c=Ne(o);c.onlineState=l;let d=!1;c.queries.forEach((u,m)=>{for(const h of m.Sa)h.Fa(l)&&(d=!0)}),d&&t0(c)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function j8(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Eu.get(e),i=s&&s.key;if(i){let o=new Tt(ye.comparator);o=o.insert(i,_n.newNoDocument(i,Ee.min()));const l=Me().add(i),c=new _m(Ee.min(),new Map,new Tt(Ie),o,l);await Gk(r,c),r.Iu=r.Iu.remove(i),r.Eu.delete(e),s0(r)}else await Vy(r.localStore,e,!1).then(()=>zy(r,e,n)).catch(Al)}async function A8(t,e){const n=Ne(t),r=e.batch.batchId;try{const s=await BU(n.localStore,e);Qk(n,r,null),Kk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gu(n,s)}catch(s){await Al(s)}}async function P8(t,e,n){const r=Ne(t);try{const s=await function(o,l){const c=Ne(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let u;return c.mutationQueue.lookupMutationBatch(d,l).next(m=>(Xe(m!==null,37113),u=m.keys(),c.mutationQueue.removeMutationBatch(d,m))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,u,l)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,u)).next(()=>c.localDocuments.getDocuments(d,u))})}(r.localStore,e);Qk(r,e,n),Kk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gu(r,s)}catch(s){await Al(s)}}function Kk(t,e){(t.Ru.get(e)||[]).forEach(n=>{n.resolve()}),t.Ru.delete(e)}function Qk(t,e,n){const r=Ne(t);let s=r.Au[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Pu.get(e))t.hu.delete(r),n&&t.lu.gu(r,n);t.Pu.delete(e),t.isPrimaryClient&&t.du.Hr(e).forEach(r=>{t.du.containsKey(r)||Yk(t,r)})}function Yk(t,e){t.Tu.delete(e.path.canonicalString());const n=t.Iu.get(e);n!==null&&(Gx(t.remoteStore,n),t.Iu=t.Iu.remove(e),t.Eu.delete(n),s0(t))}function Jb(t,e,n){for(const r of n)r instanceof Wk?(t.du.addReference(r.key,e),R8(t,r)):r instanceof Hk?(le(r0,"Document no longer in limbo: "+r.key),t.du.removeReference(r.key,e),t.du.containsKey(r.key)||Yk(t,r.key)):_e(19791,{pu:r})}function R8(t,e){const n=e.key,r=n.path.canonicalString();t.Iu.get(n)||t.Tu.has(r)||(le(r0,"New document in limbo: "+n),t.Tu.add(r),s0(t))}function s0(t){for(;t.Tu.size>0&&t.Iu.size<t.maxConcurrentLimboResolutions;){const e=t.Tu.values().next().value;t.Tu.delete(e);const n=new ye(pt.fromString(e)),r=t.Vu.next();t.Eu.set(r,new b8(n)),t.Iu=t.Iu.insert(n,r),Fk(t.remoteStore,new wi(us(gm(n.path)),r,"TargetPurposeLimboResolution",fm.le))}}async function Gu(t,e,n){const r=Ne(t),s=[],i=[],o=[];r.hu.isEmpty()||(r.hu.forEach((l,c)=>{o.push(r.fu(c,e,n).then(d=>{var u;if((d||n)&&r.isPrimaryClient){const m=d?!d.fromCache:(u=n==null?void 0:n.targetChanges.get(c.targetId))===null||u===void 0?void 0:u.current;r.sharedClientState.updateQueryState(c.targetId,m?"current":"not-current")}if(d){s.push(d);const m=Hx.Rs(c.targetId,d);i.push(m)}}))}),await Promise.all(o),r.lu.Y_(s),await async function(c,d){const u=Ne(c);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>J.forEach(d,h=>J.forEach(h.ds,p=>u.persistence.referenceDelegate.addReference(m,h.targetId,p)).next(()=>J.forEach(h.As,p=>u.persistence.referenceDelegate.removeReference(m,h.targetId,p)))))}catch(m){if(!Pl(m))throw m;le(qx,"Failed to update sequence numbers: "+m)}for(const m of d){const h=m.targetId;if(!m.fromCache){const p=u.xs.get(h),y=p.snapshotVersion,g=p.withLastLimboFreeSnapshotVersion(y);u.xs=u.xs.insert(h,g)}}}(r.localStore,i))}async function D8(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){le(r0,"User change. New user:",e.toKey());const r=await Dk(n.localStore,e);n.currentUser=e,function(i,o){i.Ru.forEach(l=>{l.forEach(c=>{c.reject(new ae(X.CANCELLED,o))})}),i.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gu(n,r.ks)}}function M8(t,e){const n=Ne(t),r=n.Eu.get(e);if(r&&r.cu)return Me().add(r.key);{let s=Me();const i=n.Pu.get(e);if(!i)return s;for(const o of i){const l=n.hu.get(o);s=s.unionWith(l.view.eu)}return s}}function Xk(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Gk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=j8.bind(null,e),e.lu.Y_=v8.bind(null,e.eventManager),e.lu.gu=x8.bind(null,e.eventManager),e}function O8(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=P8.bind(null,e),e}class bf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return UU(this.persistence,new LU,e.initialUser,this.serializer)}Su(e){return new Rk(Wx.fi,this.serializer)}bu(e){return new GU}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}bf.provider={build:()=>new bf};class L8 extends bf{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Xe(this.persistence.referenceDelegate instanceof wf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new bU(r,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?Wn.withCacheSize(this.cacheSizeBytes):Wn.DEFAULT;return new Rk(r=>wf.fi(r,n),this.serializer)}}class $y{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Xb(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=D8.bind(null,this.syncEngine),await p8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y8}()}createDatastore(e){const n=bm(e.databaseInfo.databaseId),r=function(i){return new JU(i)}(e.databaseInfo);return function(i,o,l,c){return new n8(i,o,l,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new s8(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>Xb(this.syncEngine,n,0),function(){return Hb.C()?new Hb:new KU}())}createSyncEngine(e,n){return function(s,i,o,l,c,d,u){const m=new E8(s,i,o,l,c,d);return u&&(m.mu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=Ne(s);le($o,"RemoteStore shutting down."),i.da.add(5),await qu(i),i.Ra.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$y.provider={build:()=>new $y};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Us("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ki="FirestoreClient";class F8{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=xn.UNAUTHENTICATED,this.clientId=$C.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{le(Ki,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(le(Ki,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Jx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function qp(t,e){t.asyncQueue.verifyOperationInProgress(),le(Ki,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Dk(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zb(t,e){t.asyncQueue.verifyOperationInProgress();const n=await V8(t);le(Ki,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Gb(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Gb(e.remoteStore,s)),t._onlineComponents=e}async function V8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){le(Ki,"Using user provided OfflineComponentProvider");try{await qp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===X.FAILED_PRECONDITION||s.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await qp(t,new bf)}}else le(Ki,"Using default OfflineComponentProvider"),await qp(t,new L8(void 0));return t._offlineComponents}async function Jk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(le(Ki,"Using user provided OnlineComponentProvider"),await Zb(t,t._uninitializedComponentsProvider._online)):(le(Ki,"Using default OnlineComponentProvider"),await Zb(t,new $y))),t._onlineComponents}function U8(t){return Jk(t).then(e=>e.syncEngine)}async function Ef(t){const e=await Jk(t),n=e.eventManager;return n.onListen=N8.bind(null,e.syncEngine),n.onUnlisten=C8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=T8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=k8.bind(null,e.syncEngine),n}function B8(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new i0({next:h=>{u.xu(),o.enqueueAndForget(()=>e0(i,m));const p=h.docs.has(l);!p&&h.fromCache?d.reject(new ae(X.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&c&&c.source==="server"?d.reject(new ae(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(h)},error:h=>d.reject(h)}),m=new n0(gm(l.path),u,{includeMetadataChanges:!0,Qa:!0});return Zx(i,m)}(await Ef(t),t.asyncQueue,e,n,r)),r.promise}function z8(t,e,n={}){const r=new js;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,c,d){const u=new i0({next:h=>{u.xu(),o.enqueueAndForget(()=>e0(i,m)),h.fromCache&&c.source==="server"?d.reject(new ae(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(h)},error:h=>d.reject(h)}),m=new n0(l,u,{includeMetadataChanges:!0,Qa:!0});return Zx(i,m)}(await Ef(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(t,e,n){if(!n)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $8(t,e,n,r){if(e===!0&&r===!0)throw new ae(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function tE(t){if(!ye.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function nE(t){if(ye.isDocumentKey(t))throw new ae(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":_e(12329,{type:typeof t})}function hr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ae(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Tm(t);throw new ae(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function W8(t,e){if(e<=0)throw new ae(X.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firestore.googleapis.com",rE=!0;class sE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=tI,this.ssl=rE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:rE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Pk;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<wU)throw new ae(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$8("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Zk((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ae(X.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new JV;switch(r.type){case"firstParty":return new n9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ae(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=eE.get(n);r&&(le("ComponentProvider","Removing Datastore"),eE.delete(n),r.terminate())}(this),Promise.resolve()}}function H8(t,e,n,r={}){var s;t=hr(t,Sm);const i=ea(e),o=t._getSettings(),l=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),c=`${e}:${n}`;i&&(_x(`https://${c}`),bx("Firestore",!0)),o.host!==tI&&o.host!==c&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d=Object.assign(Object.assign({},o),{host:c,ssl:i,emulatorOptions:r});if(!Bi(d,l)&&(t._setSettings(d),r.mockUserToken)){let u,m;if(typeof r.mockUserToken=="string")u=r.mockUserToken,m=xn.MOCK_USER;else{u=KS(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const h=r.mockUserToken.sub||r.mockUserToken.user_id;if(!h)throw new ae(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new xn(h)}t._authCredentials=new ZV(new BC(u,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class En{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Di(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class Di extends Ws{constructor(e,n,r){super(e,n,gm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ye(e))}withConverter(e){return new Di(this.firestore,e,this._path)}}function lt(t,e,...n){if(t=Nt(t),eI("collection","path",e),t instanceof Sm){const r=pt.fromString(e,...n);return nE(r),new Di(t,null,r)}{if(!(t instanceof En||t instanceof Di))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return nE(r),new Di(t.firestore,null,r)}}function Be(t,e,...n){if(t=Nt(t),arguments.length===1&&(e=$C.newId()),eI("doc","path",e),t instanceof Sm){const r=pt.fromString(e,...n);return tE(r),new En(t,null,new ye(r))}{if(!(t instanceof En||t instanceof Di))throw new ae(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(pt.fromString(e,...n));return tE(r),new En(t.firestore,t instanceof Di?t.converter:null,new ye(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="AsyncQueue";class oE{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Ok(this,"async_queue_retry"),this.rc=()=>{const r=Hp();r&&le(iE,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const n=Hp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Hp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new js;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Pl(e))throw e;le(iE,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,Us("INTERNAL UNHANDLED ERROR: ",aE(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=n,n}enqueueAfterDelay(e,n,r){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const s=Xx.createAndSchedule(this,e,n,r,i=>this.uc(i));return this.Zu.push(s),s}oc(){this.Xu&&_e(47125,{cc:aE(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function aE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Qi extends Sm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new oE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new oE(e),this._firestoreClient=void 0,await e}}}function o0(t,e){const n=typeof t=="object"?t:Fu(),r=typeof t=="string"?t:mf,s=cm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=HS("firestore");i&&H8(s,...i)}return s}function Cm(t){if(t._terminated)throw new ae(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q8(t),t._firestoreClient}function q8(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,d,u){return new y9(l,c,d,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Zk(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new F8(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const c=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(un.fromBase64String(e))}catch(n){throw new ae(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vl(un.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ae(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new on(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ae(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ae(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G8=/^__.*__$/;class K8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new so(e,this.data,this.fieldMask,n,this.fieldTransforms):new Wu(e,this.data,n,this.fieldTransforms)}}class nI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new so(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function rI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ic:t})}}class Im{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Ec(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Im(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Nf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(rI(this.Ic)&&G8.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class Q8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bm(e)}bc(e,n,r,s=!1){return new Im({Ic:e,methodName:n,wc:r,path:on.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jm(t){const e=t._freezeSettings(),n=bm(t._databaseId);return new Q8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function sI(t,e,n,r,s,i={}){const o=t.bc(i.merge||i.mergeFields?2:0,e,n,s);d0("Data must be an object, but it was:",o,r);const l=iI(r,o);let c,d;if(i.merge)c=new lr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const u=[];for(const m of i.mergeFields){const h=Wy(e,m,n);if(!o.contains(h))throw new ae(X.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);aI(u,h)||u.push(h)}c=new lr(u),d=o.fieldTransforms.filter(m=>c.covers(m.field))}else c=null,d=o.fieldTransforms;return new K8(new Gn(l),c,d)}class Am extends Ku{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Am}}function Y8(t,e,n){return new Im({Ic:3,wc:e.settings.wc,methodName:t._methodName,Rc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class c0 extends Ku{_toFieldTransform(e){return new vk(e.path,new gu)}isEqual(e){return e instanceof c0}}class u0 extends Ku{constructor(e,n){super(e),this.Sc=n}_toFieldTransform(e){const n=Y8(this,e,!0),r=this.Sc.map(i=>Ml(i,n)),s=new pl(r);return new vk(e.path,s)}isEqual(e){return e instanceof u0&&Bi(this.Sc,e.Sc)}}function X8(t,e,n,r){const s=t.bc(1,e,n);d0("Data must be an object, but it was:",s,r);const i=[],o=Gn.empty();ro(r,(c,d)=>{const u=h0(e,c,n);d=Nt(d);const m=s.mc(u);if(d instanceof Am)i.push(u);else{const h=Ml(d,m);h!=null&&(i.push(u),o.set(u,h))}});const l=new lr(i);return new nI(o,l,s.fieldTransforms)}function J8(t,e,n,r,s,i){const o=t.bc(1,e,n),l=[Wy(e,r,n)],c=[s];if(i.length%2!=0)throw new ae(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<i.length;h+=2)l.push(Wy(e,i[h])),c.push(i[h+1]);const d=[],u=Gn.empty();for(let h=l.length-1;h>=0;--h)if(!aI(d,l[h])){const p=l[h];let y=c[h];y=Nt(y);const g=o.mc(p);if(y instanceof Am)d.push(p);else{const w=Ml(y,g);w!=null&&(d.push(p),u.set(p,w))}}const m=new lr(d);return new nI(u,m,o.fieldTransforms)}function Z8(t,e,n,r=!1){return Ml(n,t.bc(r?4:3,e))}function Ml(t,e){if(oI(t=Nt(t)))return d0("Unsupported field value:",e,t),iI(t,e);if(t instanceof Ku)return function(r,s){if(!rI(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const l of r){let c=Ml(l,s.fc(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Nt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return V9(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=zt.fromDate(r);return{timestampValue:xf(s.serializer,i)}}if(r instanceof zt){const i=new zt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:xf(s.serializer,i)}}if(r instanceof a0)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof vl)return{bytesValue:Tk(s.serializer,r._byteString)};if(r instanceof En){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.gc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zx(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof l0)return function(o,l){return{mapValue:{fields:{[XC]:{stringValue:ZC},[pf]:{arrayValue:{values:o.toArray().map(d=>{if(typeof d!="number")throw l.gc("VectorValues must only contain numeric values.");return Vx(l.serializer,d)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Tm(r)}`)}(t,e)}function iI(t,e){const n={};return HC(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,(r,s)=>{const i=Ml(s,e.Ac(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function oI(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof a0||t instanceof vl||t instanceof En||t instanceof Ku||t instanceof l0)}function d0(t,e,n){if(!oI(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=Tm(n);throw r==="an object"?e.gc(t+" a custom object"):e.gc(t+" "+r)}}function Wy(t,e,n){if((e=Nt(e))instanceof km)return e._internalPath;if(typeof e=="string")return h0(t,e);throw Nf("Field path arguments must be of type string or ",t,!1,void 0,n)}const e7=new RegExp("[~\\*/\\[\\]]");function h0(t,e,n){if(e.search(e7)>=0)throw Nf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new km(...e.split("."))._internalPath}catch{throw Nf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Nf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new ae(X.INVALID_ARGUMENT,l+t+c)}function aI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new t7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class t7 extends lI{data(){return super.data()}}function Pm(t,e){return typeof e=="string"?h0(t,e):e instanceof km?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ae(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class f0{}class m0 extends f0{}function Ot(t,e,...n){let r=[];e instanceof f0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof p0).length,l=i.filter(c=>c instanceof Rm).length;if(o>1||o>0&&l>0)throw new ae(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Rm extends m0{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Rm(e,n,r)}_apply(e){const n=this._parse(e);return uI(e._query,n),new Ws(e.firestore,e.converter,Dy(e._query,n))}_parse(e){const n=jm(e.firestore);return function(i,o,l,c,d,u,m){let h;if(d.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new ae(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){dE(m,u);const y=[];for(const g of m)y.push(uE(c,i,g));h={arrayValue:{values:y}}}else h=uE(c,i,m)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||dE(m,u),h=Z8(l,o,m,u==="in"||u==="not-in");return Bt.create(d,u,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ye(t,e,n){const r=e,s=Pm("where",t);return Rm._create(s,r,n)}class p0 extends f0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new p0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:$r.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const l=i.getFlattenedFilters();for(const c of l)uI(o,c),o=Dy(o,c)}(e._query,n),new Ws(e.firestore,e.converter,Dy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class g0 extends m0{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new g0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ae(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new pu(i,o)}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new Rl(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function zs(t,e="asc"){const n=e,r=Pm("orderBy",t);return g0._create(r,n)}class y0 extends m0{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new y0(e,n,r)}_apply(e){return new Ws(e.firestore,e.converter,yf(e._query,this._limit,this._limitType))}}function cE(t){return W8("limit",t),y0._create("limit",t,"F")}function uE(t,e,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new ae(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ak(e)&&n.indexOf("/")!==-1)throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(pt.fromString(n));if(!ye.isDocumentKey(r))throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Eb(t,new ye(r))}if(n instanceof En)return Eb(t,n._key);throw new ae(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tm(n)}.`)}function dE(t,e){if(!Array.isArray(t)||t.length===0)throw new ae(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uI(t,e){const n=function(s,i){for(const o of s)for(const l of o.getFlattenedFilters())if(i.indexOf(l.op)>=0)return l.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class n7{convertValue(e,n="none"){switch(qi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ro(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[pf].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>Rt(o.doubleValue));return new l0(i)}convertGeoPoint(e){return new a0(Rt(e.latitude),Rt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=pm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){const n=Wi(e);return new zt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=pt.fromString(e);Xe(Ak(r),9688,{name:e});const s=new fu(r.get(1),r.get(3)),i=new ye(r.popFirst(5));return s.isEqual(n)||Us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hI extends lI{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class wh extends hI{data(e={}){return super.data(e)}}class fI{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new vc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new wh(this._firestore,this._userDataWriter,r.key,r,new vc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ae(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(l=>{const c=new wh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new vc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);return l.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(l=>i||l.type!==3).map(l=>{const c=new wh(s._firestore,s._userDataWriter,l.doc.key,l.doc,new vc(s._snapshot.mutatedKeys.has(l.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,u=-1;return l.type!==0&&(d=o.indexOf(l.doc.key),o=o.delete(l.doc.key)),l.type!==1&&(o=o.add(l.doc),u=o.indexOf(l.doc.key)),{type:r7(l.type),doc:c,oldIndex:d,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function r7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t){t=hr(t,En);const e=hr(t.firestore,Qi);return B8(Cm(e),t._key).then(n=>mI(e,t,n))}class v0 extends n7{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function xt(t){t=hr(t,Ws);const e=hr(t.firestore,Qi),n=Cm(e),r=new v0(e);return cI(t._query),z8(n,t._query).then(s=>new fI(e,r,t,s))}function vu(t,e,n){t=hr(t,En);const r=hr(t.firestore,Qi),s=dI(t.converter,e,n);return x0(r,[sI(jm(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Fr.none())])}function As(t,e,n,...r){t=hr(t,En);const s=hr(t.firestore,Qi),i=jm(s);let o;return o=typeof(e=Nt(e))=="string"||e instanceof km?J8(i,"updateDoc",t._key,e,n,r):X8(i,"updateDoc",t._key,e),x0(s,[o.toMutation(t._key,Fr.exists(!0))])}function s7(t,e){const n=hr(t.firestore,Qi),r=Be(t),s=dI(t.converter,e);return x0(n,[sI(jm(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Fr.exists(!1))]).then(()=>r)}function i7(t,...e){var n,r,s;t=Nt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||lE(e[o])||(i=e[o],o++);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lE(e[o])){const m=e[o];e[o]=(n=m.next)===null||n===void 0?void 0:n.bind(m),e[o+1]=(r=m.error)===null||r===void 0?void 0:r.bind(m),e[o+2]=(s=m.complete)===null||s===void 0?void 0:s.bind(m)}let c,d,u;if(t instanceof En)d=hr(t.firestore,Qi),u=gm(t._key.path),c={next:m=>{e[o]&&e[o](mI(d,t,m))},error:e[o+1],complete:e[o+2]};else{const m=hr(t,Ws);d=hr(m.firestore,Qi),u=m._query;const h=new v0(d);c={next:p=>{e[o]&&e[o](new fI(d,h,m,p))},error:e[o+1],complete:e[o+2]},cI(t._query)}return function(h,p,y,g){const w=new i0(g),v=new n0(p,w,y);return h.asyncQueue.enqueueAndForget(async()=>Zx(await Ef(h),v)),()=>{w.xu(),h.asyncQueue.enqueueAndForget(async()=>e0(await Ef(h),v))}}(Cm(d),u,l,c)}function x0(t,e){return function(r,s){const i=new js;return r.asyncQueue.enqueueAndForget(async()=>I8(await U8(r),s,i)),i.promise}(Cm(t),e)}function mI(t,e,n){const r=n.docs.get(e._key),s=new v0(t);return new hI(t,s,e._key,r,new vc(n.hasPendingWrites,n.fromCache),e.converter)}function o7(){return new c0("serverTimestamp")}function a7(...t){return new u0("arrayUnion",t)}(function(e,n=!0){(function(s){jl=s})(ta),Vo(new zi("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new Qi(new e9(r.getProvider("auth-internal")),new r9(o,r.getProvider("app-check-internal")),function(d,u){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ae(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fu(d.options.projectId,u)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),as(db,hb,e),as(db,hb,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI="firebasestorage.googleapis.com",gI="storageBucket",l7=2*60*1e3,c7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt extends gs{constructor(e,n,r=0){super(Gp(e),`Firebase Storage: ${n} (${Gp(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,jt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Gp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var It;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(It||(It={}));function Gp(t){return"storage/"+t}function w0(){const t="An unknown error occurred, please check the error payload for server response.";return new jt(It.UNKNOWN,t)}function u7(t){return new jt(It.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function d7(t){return new jt(It.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function h7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new jt(It.UNAUTHENTICATED,t)}function f7(){return new jt(It.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function m7(t){return new jt(It.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function p7(){return new jt(It.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function g7(){return new jt(It.CANCELED,"User canceled the upload/download.")}function y7(t){return new jt(It.INVALID_URL,"Invalid URL '"+t+"'.")}function v7(t){return new jt(It.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function x7(){return new jt(It.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+gI+"' property when initializing the app?")}function w7(){return new jt(It.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function _7(){return new jt(It.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function b7(t){return new jt(It.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Hy(t){return new jt(It.INVALID_ARGUMENT,t)}function yI(){return new jt(It.APP_DELETED,"The Firebase app was deleted.")}function E7(t){return new jt(It.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Oc(t,e){return new jt(It.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ic(t){throw new jt(It.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=cr.makeFromUrl(e,n)}catch{return new cr(e,"")}if(r.path==="")return r;throw v7(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(C){C.path.charAt(C.path.length-1)==="/"&&(C.path_=C.path_.slice(0,-1))}const o="(/(.*))?$",l=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(C){C.path_=decodeURIComponent(C.path)}const u="v[A-Za-z0-9_]+",m=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${m}/${u}/b/${s}/o${h}`,"i"),y={bucket:1,path:3},g=n===pI?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",v=new RegExp(`^https?://${g}/${s}/${w}`,"i"),_=[{regex:l,indices:c,postModify:i},{regex:p,indices:y,postModify:d},{regex:v,indices:{bucket:1,path:2},postModify:d}];for(let C=0;C<_.length;C++){const M=_[C],R=M.regex.exec(e);if(R){const k=R[M.indices.bucket];let b=R[M.indices.path];b||(b=""),r=new cr(k,b),M.postModify(r);break}}if(r==null)throw y7(e);return r}}class N7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T7(t,e,n){let r=1,s=null,i=null,o=!1,l=0;function c(){return l===2}let d=!1;function u(...w){d||(d=!0,e.apply(null,w))}function m(w){s=setTimeout(()=>{s=null,t(p,c())},w)}function h(){i&&clearTimeout(i)}function p(w,...v){if(d){h();return}if(w){h(),u.call(null,w,...v);return}if(c()||o){h(),u.call(null,w,...v);return}r<64&&(r*=2);let _;l===1?(l=2,_=0):_=(r+Math.random())*1e3,m(_)}let y=!1;function g(w){y||(y=!0,h(),!d&&(s!==null?(w||(l=2),clearTimeout(s),m(0)):w||(l=1)))}return m(0),i=setTimeout(()=>{o=!0,g(!0)},n),g}function S7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C7(t){return t!==void 0}function k7(t){return typeof t=="object"&&!Array.isArray(t)}function _0(t){return typeof t=="string"||t instanceof String}function hE(t){return b0()&&t instanceof Blob}function b0(){return typeof Blob<"u"}function fE(t,e,n,r){if(r<e)throw Hy(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Hy(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E0(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function vI(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Ao;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ao||(Ao={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I7(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j7{constructor(e,n,r,s,i,o,l,c,d,u,m,h=!0,p=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=l,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=u,this.connectionFactory_=m,this.retry=h,this.isUsingEmulator=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,g)=>{this.resolve_=y,this.reject_=g,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new $d(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=l=>{const c=l.loaded,d=l.lengthComputable?l.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const l=i.getErrorCode()===Ao.NO_ERROR,c=i.getStatus();if(!l||I7(c,this.additionalRetryCodes_)&&this.retry){const u=i.getErrorCode()===Ao.ABORT;r(!1,new $d(!1,null,u));return}const d=this.successCodes_.indexOf(c)!==-1;r(!0,new $d(d,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,l=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(l,l.getResponse());C7(c)?i(c):i()}catch(c){o(c)}else if(l!==null){const c=w0();c.serverResponse=l.getErrorText(),this.errorCallback_?o(this.errorCallback_(l,c)):o(c)}else if(s.canceled){const c=this.appDelete_?yI():g7();o(c)}else{const c=p7();o(c)}};this.canceled_?n(!1,new $d(!1,null,!0)):this.backoffId_=T7(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class $d{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function A7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function P7(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R7(t,e){e&&(t["X-Firebase-GMPID"]=e)}function D7(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function M7(t,e,n,r,s,i,o=!0,l=!1){const c=vI(t.urlParams),d=t.url+c,u=Object.assign({},t.headers);return R7(u,e),A7(u,n),P7(u,i),D7(u,r),new j7(d,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O7(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function L7(...t){const e=O7();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(b0())return new Blob(t);throw new jt(It.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function F7(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t){if(typeof atob>"u")throw b7("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Kp{constructor(e,n){this.data=e,this.contentType=n||null}}function U7(t,e){switch(t){case rs.RAW:return new Kp(xI(e));case rs.BASE64:case rs.BASE64URL:return new Kp(wI(t,e));case rs.DATA_URL:return new Kp(z7(e),$7(e))}throw w0()}function xI(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function B7(t){let e;try{e=decodeURIComponent(t)}catch{throw Oc(rs.DATA_URL,"Malformed data URL.")}return xI(e)}function wI(t,e){switch(t){case rs.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw Oc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case rs.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw Oc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=V7(e)}catch(s){throw s.message.includes("polyfill")?s:Oc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class _I{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Oc(rs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=W7(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function z7(t){const e=new _I(t);return e.base64?wI(rs.BASE64,e.rest):B7(e.rest)}function $7(t){return new _I(t).contentType}function W7(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){let r=0,s="";hE(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(hE(this.data_)){const r=this.data_,s=F7(r,e,n);return s===null?null:new di(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new di(r,!0)}}static getBlob(...e){if(b0()){const n=e.map(r=>r instanceof di?r.data_:r);return new di(L7.apply(null,n))}else{const n=e.map(o=>_0(o)?U7(rs.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let l=0;l<o.length;l++)s[i++]=o[l]}),new di(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){let e;try{e=JSON.parse(t)}catch{return null}return k7(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H7(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function q7(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function EI(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t,e){return e}class Rn{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||G7}}let Wd=null;function K7(t){return!_0(t)||t.length<2?t:EI(t)}function NI(){if(Wd)return Wd;const t=[];t.push(new Rn("bucket")),t.push(new Rn("generation")),t.push(new Rn("metageneration")),t.push(new Rn("name","fullPath",!0));function e(i,o){return K7(o)}const n=new Rn("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Rn("size");return s.xform=r,t.push(s),t.push(new Rn("timeCreated")),t.push(new Rn("updated")),t.push(new Rn("md5Hash",null,!0)),t.push(new Rn("cacheControl",null,!0)),t.push(new Rn("contentDisposition",null,!0)),t.push(new Rn("contentEncoding",null,!0)),t.push(new Rn("contentLanguage",null,!0)),t.push(new Rn("contentType",null,!0)),t.push(new Rn("metadata","customMetadata",!0)),Wd=t,Wd}function Q7(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new cr(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function Y7(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return Q7(r,t),r}function TI(t,e,n){const r=bI(e);return r===null?null:Y7(t,r,n)}function X7(t,e,n,r){const s=bI(e);if(s===null||!_0(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(d=>{const u=t.bucket,m=t.fullPath,h="/b/"+o(u)+"/o/"+o(m),p=E0(h,n,r),y=vI({alt:"media",token:d});return p+y})[0]}function J7(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class SI{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(t){if(!t)throw w0()}function Z7(t,e){function n(r,s){const i=TI(t,s,e);return CI(i!==null),i}return n}function eB(t,e){function n(r,s){const i=TI(t,s,e);return CI(i!==null),X7(i,s,t.host,t._protocol)}return n}function kI(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=f7():s=h7():n.getStatus()===402?s=d7(t.bucket):n.getStatus()===403?s=m7(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function tB(t){const e=kI(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=u7(t.path)),i.serverResponse=s.serverResponse,i}return n}function nB(t,e,n){const r=e.fullServerUrl(),s=E0(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,l=new SI(s,i,eB(t,n),o);return l.errorHandler=tB(e),l}function rB(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function sB(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=rB(null,e)),r}function iB(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function l(){let _="";for(let C=0;C<2;C++)_=_+Math.random().toString().slice(2);return _}const c=l();o["Content-Type"]="multipart/related; boundary="+c;const d=sB(e,r,s),u=J7(d,n),m="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+u+`\r
--`+c+`\r
Content-Type: `+d.contentType+`\r
\r
`,h=`\r
--`+c+"--",p=di.getBlob(m,r,h);if(p===null)throw w7();const y={name:d.fullPath},g=E0(i,t.host,t._protocol),w="POST",v=t.maxUploadRetryTime,x=new SI(g,w,Z7(t,n),v);return x.urlParams=y,x.headers=o,x.body=p.uploadData(),x.errorHandler=kI(e),x}class oB{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ao.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ao.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ao.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,i){if(this.sent_)throw ic("cannot .send() more than once");if(ea(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ic("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ic("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ic("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ic("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class aB extends oB{initXhr(){this.xhr_.responseType="text"}}function II(){return new aB}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this._service=e,n instanceof cr?this._location=n:this._location=cr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Wo(e,n)}get root(){const e=new cr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return EI(this._location.path)}get storage(){return this._service}get parent(){const e=H7(this._location.path);if(e===null)return null;const n=new cr(this._location.bucket,e);return new Wo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw E7(e)}}function lB(t,e,n){t._throwIfRoot("uploadBytes");const r=iB(t.storage,t._location,NI(),new di(e,!0),n);return t.storage.makeRequestWithTokens(r,II).then(s=>({metadata:s,ref:t}))}function cB(t){t._throwIfRoot("getDownloadURL");const e=nB(t.storage,t._location,NI());return t.storage.makeRequestWithTokens(e,II).then(n=>{if(n===null)throw _7();return n})}function uB(t,e){const n=q7(t._location.path,e),r=new cr(t._location.bucket,n);return new Wo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t){return/^[A-Za-z]+:\/\//.test(t)}function hB(t,e){return new Wo(t,e)}function jI(t,e){if(t instanceof N0){const n=t;if(n._bucket==null)throw x7();const r=new Wo(n,n._bucket);return e!=null?jI(r,e):r}else return e!==void 0?uB(t,e):t}function fB(t,e){if(e&&dB(e)){if(t instanceof N0)return hB(t,e);throw Hy("To use ref(service, url), the first argument must be a Storage instance.")}else return jI(t,e)}function mE(t,e){const n=e==null?void 0:e[gI];return n==null?null:cr.makeFromBucketSpec(n,t)}function mB(t,e,n,r={}){t.host=`${e}:${n}`;const s=ea(e);s&&(_x(`https://${t.host}`),bx("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:KS(i,t.app.options.projectId))}class N0{constructor(e,n,r,s,i,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._isUsingEmulator=o,this._bucket=null,this._host=pI,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=l7,this._maxUploadRetryTime=c7,this._requests=new Set,s!=null?this._bucket=cr.makeFromBucketSpec(s,this._host):this._bucket=mE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=cr.makeFromBucketSpec(this._url,e):this._bucket=mE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wo(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new N7(yI());{const o=M7(e,this._appId,r,s,n,this._firebaseVersion,i,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const pE="@firebase/storage",gE="0.13.12";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="storage";function T0(t,e,n){return t=Nt(t),lB(t,e,n)}function S0(t){return t=Nt(t),cB(t)}function C0(t,e){return t=Nt(t),fB(t,e)}function pB(t=Fu(),e){t=Nt(t);const r=cm(t,AI).getImmediate({identifier:e}),s=HS("storage");return s&&gB(r,...s),r}function gB(t,e,n,r={}){mB(t,e,n,r)}function yB(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new N0(n,r,s,e,ta)}function vB(){Vo(new zi(AI,yB,"PUBLIC").setMultipleInstances(!0)),as(pE,gE,""),as(pE,gE,"esm2017")}vB();const xB={apiKey:"AIzaSyAD3yZA7ymXo5RyaXCIF3MASCEDF8KxqmM",authDomain:"uprisinginkapp.firebaseapp.com",projectId:"uprisinginkapp",storageBucket:"uprisinginkapp.firebasestorage.app",messagingSenderId:"214379695954",appId:"1:214379695954:web:d1d87c91d9a9d5bd4af48b"},k0=XS(xB),Hd=YV(k0),ve=o0(k0),I0=pB(k0),PI=N.createContext(void 0),Cn=()=>{const t=N.useContext(PI);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},wB=({children:t})=>{const[e,n]=N.useState(null),[r,s]=N.useState(!0),{toast:i}=Bn(),o=async h=>{const p=Be(ve,"profiles",h.uid),y=await Dt(p);if(y.exists()){const g=y.data();return{id:h.uid,email:h.email||g.email,role:g.role,profile:g}}else return null};N.useEffect(()=>{const h=FF(Hd,async p=>{if(p){const y=await o(p);n(y)}else n(null);s(!1)});return()=>h()},[]);const m={user:e,loading:r,signIn:async(h,p)=>{s(!0);try{return await MF(Hd,h,p),s(!1),{error:null}}catch(y){return s(!1),i({title:"Error signing in",description:y.message,variant:"destructive"}),{error:y}}},signUp:async(h,p,y,g="client")=>{s(!0);try{const v=(await DF(Hd,h,p)).user,x={id:v.uid,email:h,full_name:y,role:g,profile_image:null,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await vu(Be(ve,"profiles",v.uid),x),s(!1),{error:null}}catch(w){return s(!1),i({title:"Error creating account",description:w.message,variant:"destructive"}),{error:w}}},signOut:async()=>{s(!0),await VF(Hd),n(null),s(!1)},updateProfile:async h=>{try{if(!e)return{error:"No user logged in"};const p=Be(ve,"profiles",e.id);await As(p,{...h,updated_at:new Date().toISOString()});const y=await Dt(p);if(y.exists()){const g=y.data();return n({...e,profile:g,role:g.role}),{error:null}}else return{error:"Profile not found after update"}}catch(p){return i({title:"Error updating profile",description:p.message,variant:"destructive"}),{error:p}}}};return a.jsx(PI.Provider,{value:m,children:t})},qy=Jf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),H=N.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?Lo:"button";return a.jsx(o,{className:Se(qy({variant:e,size:n,className:t})),ref:i,...s})});H.displayName="Button";const _B=()=>{const[t,e]=N.useState("");return N.useEffect(()=>{const n=localStorage.getItem("hero-background-image");n&&e(n)},[]),a.jsxs("section",{className:"relative min-h-screen flex items-center justify-center",children:[t?a.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat",style:{backgroundImage:`url(${t})`},children:a.jsx("div",{className:"absolute inset-0 bg-black/60"})}):a.jsx("div",{className:"absolute inset-0 tattoo-gradient",children:a.jsx("div",{className:"absolute inset-0 bg-black/50"})}),a.jsxs("div",{className:"absolute inset-0 opacity-10",children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 w-64 h-64 border border-tattoo-primary rounded-full"}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-48 h-48 border border-tattoo-primary rounded-full"}),a.jsx("div",{className:"absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-32 h-32 border border-tattoo-primary rotate-45"})]}),a.jsxs("div",{className:"relative z-10 text-center px-4 max-w-4xl mx-auto",children:[a.jsxs("div",{className:"animate-fade-in",children:[a.jsxs("h1",{className:"text-5xl md:text-7xl font-bold text-white mb-6",children:["Welcome to"," ",a.jsx("span",{className:"gradient-text",children:"UpRising.Ink"})]}),a.jsx("p",{className:"text-xl md:text-2xl text-gray-300 mb-8 leading-relaxed",children:"Where Art Meets Skin. Professional tattoo artistry with a complete digital experience for artists and clients."}),a.jsx("p",{className:"text-lg text-gray-400 mb-12",children:"Uprising Ink Tattoo Studio L.L.C. - Powered by Multraverse.ai"})]}),a.jsxs("div",{className:"animate-slide-in flex flex-col sm:flex-row gap-4 justify-center items-center",children:[a.jsxs(H,{size:"lg",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 px-8 py-4 text-lg font-semibold",children:[a.jsx(Tn,{className:"mr-2",size:20}),"Book Your Session"]}),a.jsxs(H,{variant:"outline",size:"lg",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark px-8 py-4 text-lg",children:[a.jsx(Lt,{className:"mr-2",size:20}),"View Gallery"]})]})]})]})},ie=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Se("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));ie.displayName="Card";const fe=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Se("flex flex-col space-y-1.5 p-6",t),...e}));fe.displayName="CardHeader";const me=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Se("text-2xl font-semibold leading-none tracking-tight",t),...e}));me.displayName="CardTitle";const Ho=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));Ho.displayName="CardDescription";const oe=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Se("p-6 pt-0",t),...e}));oe.displayName="CardContent";const bB=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{ref:n,className:Se("flex items-center p-6 pt-0",t),...e}));bB.displayName="CardFooter";const EB=()=>{const t=[{icon:a.jsx(Tn,{className:"w-12 h-12 text-tattoo-primary"}),title:"Smart Booking System",description:"Seamless appointment scheduling with real-time availability and automated reminders.",details:["Online booking forms","Calendar integration","SMS/Email reminders","Waitlist management"]},{icon:a.jsx(Lt,{className:"w-12 h-12 text-tattoo-primary"}),title:"Direct Messaging",description:"Secure communication between artists and clients for design discussions and updates.",details:["Real-time chat","Image sharing","Design feedback","Session planning"]},{icon:a.jsx(Jt,{className:"w-12 h-12 text-tattoo-primary"}),title:"Client Portal",description:"Personalized dashboard for clients to manage appointments and view their tattoo journey.",details:["Appointment history","Design galleries","Aftercare guides","Progress tracking"]},{icon:a.jsx(Ii,{className:"w-12 h-12 text-tattoo-primary"}),title:"Artist Management",description:"Comprehensive tools for artists to manage their portfolio, schedule, and client relationships.",details:["Portfolio management","Schedule control","Client database","Revenue tracking"]}];return a.jsx("section",{id:"features",className:"py-20 bg-tattoo-secondary",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Complete ",a.jsx("span",{className:"gradient-text",children:"Digital Experience"})]}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Our platform revolutionizes how tattoo studios operate, connecting artists and clients through cutting-edge technology."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:t.map((e,n)=>a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary/20 hover:border-tattoo-primary/50 transition-all duration-300 group",children:a.jsxs(oe,{className:"p-6 text-center",children:[a.jsx("div",{className:"mb-4 flex justify-center group-hover:scale-110 transition-transform duration-300",children:e.icon}),a.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:e.title}),a.jsx("p",{className:"text-gray-300 mb-4",children:e.description}),a.jsx("ul",{className:"text-sm text-gray-400 space-y-1",children:e.details.map((r,s)=>a.jsxs("li",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"w-2 h-2 bg-tattoo-primary rounded-full mr-2"}),r]},s))})]})},n))})]})})},NB=()=>{const t=[{id:"placeholder-1",title:"Dragon Sleeve",image_url:"https://images.unsplash.com/photo-1465146344425-f00d5f5c8f07?w=600&h=600&fit=crop",style_tags:["Traditional","Japanese"],artist_name:"Sample Artist"},{id:"placeholder-2",title:"Geometric Wolf",image_url:"https://images.unsplash.com/photo-1509316975850-ff9c5deb0cd9?w=600&h=600&fit=crop",style_tags:["Geometric","Modern"],artist_name:"Sample Artist"},{id:"placeholder-3",title:"Rose Portrait",image_url:"https://images.unsplash.com/photo-1500673922987-e212871fec22?w=600&h=600&fit=crop",style_tags:["Black & Gray","Realism"],artist_name:"Sample Artist"},{id:"placeholder-4",title:"Neo-Traditional Eagle",image_url:"https://images.unsplash.com/photo-1506744038136-46273834b3fb?w=600&h=600&fit=crop",style_tags:["Neo-Traditional","Color"],artist_name:"Sample Artist"},{id:"placeholder-5",title:"Minimalist Design",image_url:"https://images.unsplash.com/photo-1501854140801-50d01698950b?w=600&h=600&fit=crop",style_tags:["Minimalist","Line Work"],artist_name:"Sample Artist"},{id:"placeholder-6",title:"Watercolor Butterfly",image_url:"https://images.unsplash.com/photo-1615729947596-a598e5de0ab3?w=600&h=600&fit=crop",style_tags:["Watercolor","Nature"],artist_name:"Sample Artist"}],[e]=N.useState(t),[n]=N.useState(!1);Bn();const r=s=>(s.preventDefault(),s.stopPropagation(),!1);return n?a.jsx("section",{id:"gallery",className:"py-20 bg-tattoo-dark",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Our ",a.jsx("span",{className:"gradient-text",children:"Gallery"})]}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto mb-8",children:"Explore our collection of exceptional tattoo artistry. Each piece tells a unique story and showcases the incredible talent of our artists."})]}),a.jsx("div",{className:"text-center text-white",children:"Loading gallery..."})]})}):a.jsxs("section",{id:"gallery",className:"py-20 bg-tattoo-dark",children:[a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Our ",a.jsx("span",{className:"gradient-text",children:"Gallery"})]}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto mb-8",children:"Explore our collection of exceptional tattoo artistry. Each piece tells a unique story and showcases the incredible talent of our artists."})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:e.map(s=>a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary/20 hover:border-tattoo-primary/50 transition-all duration-300 group overflow-hidden",children:a.jsxs(oe,{className:"p-0",children:[a.jsx("div",{className:"aspect-square overflow-hidden relative select-none",children:a.jsxs("div",{className:"w-full h-full relative protected-image-container",onContextMenu:r,onDragStart:r,onMouseDown:r,children:[a.jsx("img",{src:s.image_url,alt:s.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300 pointer-events-none",draggable:!1,onContextMenu:r,onDragStart:r}),a.jsxs("div",{className:"absolute inset-0 pointer-events-none select-none",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",style:{background:`repeating-linear-gradient(
                            45deg,
                            transparent,
                            transparent 100px,
                            rgba(255, 255, 255, 0.1) 100px,
                            rgba(255, 255, 255, 0.1) 101px
                          )`},children:a.jsx("div",{className:"text-white/30 font-bold text-2xl transform rotate-45 select-none",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:" UpRising.Ink"})}),a.jsx("div",{className:"absolute top-2 left-2 text-white/20 text-xs font-medium select-none",children:" UpRising.Ink"}),a.jsx("div",{className:"absolute top-2 right-2 text-white/20 text-xs font-medium select-none",children:" UpRising.Ink"}),a.jsx("div",{className:"absolute bottom-2 left-2 text-white/20 text-xs font-medium select-none",children:" UpRising.Ink"}),a.jsx("div",{className:"absolute bottom-2 right-2 text-white/20 text-xs font-medium select-none",children:" UpRising.Ink"}),a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsx("div",{className:"text-white/15 font-bold text-lg select-none",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.5)"},children:" UpRising.Ink"})})]}),a.jsx("div",{className:"absolute inset-0 bg-transparent cursor-default",onContextMenu:r,onDragStart:r,onMouseDown:r})]})}),a.jsxs("div",{className:"p-4",children:[a.jsx("div",{className:"flex justify-between items-start mb-2",children:a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-white",children:s.title}),a.jsxs("p",{className:"text-gray-400 text-sm",children:["by ",s.artist_name]})]})}),s.style_tags.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[s.style_tags.slice(0,2).map((i,o)=>a.jsx("span",{className:"text-xs bg-tattoo-primary/20 text-tattoo-primary px-2 py-1 rounded",children:i},o)),s.style_tags.length>2&&a.jsxs("span",{className:"text-xs bg-gray-600 text-gray-300 px-2 py-1 rounded",children:["+",s.style_tags.length-2," more"]})]})]})]})},s.id))}),a.jsx("div",{className:"text-center",children:a.jsx(H,{size:"lg",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 px-8 py-4",children:"View Full Gallery"})})]}),a.jsx("style",{children:`
        @media print {
          .gallery-image {
            display: none !important;
          }
        }
        /* Enhanced protection styles */
        .protected-image-container,
        .protected-image-container * {
          -webkit-touch-callout: none !important;
          -webkit-user-select: none !important;
          -khtml-user-select: none !important;
          -moz-user-select: none !important;
          -ms-user-select: none !important;
          user-select: none !important;
          -webkit-user-drag: none !important;
          -khtml-user-drag: none !important;
          -moz-user-drag: none !important;
          -o-user-drag: none !important;
          user-drag: none !important;
        }
        img {
          -webkit-touch-callout: none !important;
          -webkit-user-select: none !important;
          -khtml-user-select: none !important;
          -moz-user-select: none !important;
          -ms-user-select: none !important;
          user-select: none !important;
          -webkit-user-drag: none !important;
          -khtml-user-drag: none !important;
          -moz-user-drag: none !important;
          -o-user-drag: none !important;
          user-drag: none !important;
          pointer-events: none !important;
        }
      `})]})},Pe=N.forwardRef(({className:t,type:e,...n},r)=>a.jsx("input",{type:e,className:Se("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Pe.displayName="Input";const Dm=N.forwardRef(({className:t,...e},n)=>a.jsx("textarea",{className:Se("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Dm.displayName="Textarea";const TB=()=>{const[t,e]=N.useState({name:"",email:"",phone:"",tattooType:"",description:"",preferredDate:""}),n=s=>{e({...t,[s.target.name]:s.target.value})},r=s=>{s.preventDefault(),console.log("Booking request submitted:",t)};return a.jsx("section",{id:"booking",className:"py-20 bg-tattoo-secondary",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-6",children:["Book Your ",a.jsx("span",{className:"gradient-text",children:"Session"})]}),a.jsx("p",{className:"text-xl text-gray-300 max-w-3xl mx-auto",children:"Ready to bring your vision to life? Fill out our booking form and one of our artists will connect with you to discuss your project."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 max-w-6xl mx-auto",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary/20",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-2xl text-white flex items-center",children:[a.jsx(Tn,{className:"mr-3 text-tattoo-primary"}),"New Client Request"]})}),a.jsx(oe,{children:a.jsxs("form",{onSubmit:r,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Full Name *"}),a.jsx(Pe,{name:"name",value:t.name,onChange:n,className:"bg-tattoo-dark border-tattoo-primary/30 text-white",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Email *"}),a.jsx(Pe,{name:"email",type:"email",value:t.email,onChange:n,className:"bg-tattoo-dark border-tattoo-primary/30 text-white",required:!0})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Phone Number"}),a.jsx(Pe,{name:"phone",value:t.phone,onChange:n,className:"bg-tattoo-dark border-tattoo-primary/30 text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Preferred Date"}),a.jsx(Pe,{name:"preferredDate",type:"date",value:t.preferredDate,onChange:n,className:"bg-tattoo-dark border-tattoo-primary/30 text-white"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Tattoo Type/Style"}),a.jsx(Pe,{name:"tattooType",value:t.tattooType,onChange:n,placeholder:"e.g. Traditional, Realism, Geometric...",className:"bg-tattoo-dark border-tattoo-primary/30 text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-300 mb-2 block",children:"Project Description *"}),a.jsx(Dm,{name:"description",value:t.description,onChange:n,placeholder:"Describe your tattoo idea, size, placement, and any specific details...",className:"bg-tattoo-dark border-tattoo-primary/30 text-white min-h-32",required:!0})]}),a.jsx(H,{type:"submit",className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 py-3 text-lg font-semibold",children:"Submit Booking Request"})]})})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary/20",children:a.jsxs(oe,{className:"p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-3 text-tattoo-primary"}),"Our Process"]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-8 h-8 bg-tattoo-primary text-tattoo-dark rounded-full flex items-center justify-center font-bold mr-3 mt-1",children:"1"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white",children:"Submit Request"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Fill out the booking form with your tattoo details"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-8 h-8 bg-tattoo-primary text-tattoo-dark rounded-full flex items-center justify-center font-bold mr-3 mt-1",children:"2"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white",children:"Artist Match"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"We'll match you with the perfect artist for your style"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-8 h-8 bg-tattoo-primary text-tattoo-dark rounded-full flex items-center justify-center font-bold mr-3 mt-1",children:"3"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white",children:"Consultation"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Discuss your vision and finalize the design"})]})]}),a.jsxs("div",{className:"flex items-start",children:[a.jsx("div",{className:"w-8 h-8 bg-tattoo-primary text-tattoo-dark rounded-full flex items-center justify-center font-bold mr-3 mt-1",children:"4"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-white",children:"Schedule & Create"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Book your session and bring your tattoo to life"})]})]})]})]})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary/20",children:a.jsxs(oe,{className:"p-6",children:[a.jsxs("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[a.jsx(Jt,{className:"mr-3 text-tattoo-primary"}),"Why Choose Us?"]}),a.jsxs("ul",{className:"space-y-2 text-gray-300",children:[a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-tattoo-primary rounded-full mr-3"}),"Expert artists with years of experience"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-tattoo-primary rounded-full mr-3"}),"State-of-the-art equipment and hygiene standards"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-tattoo-primary rounded-full mr-3"}),"Personalized design consultation"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-tattoo-primary rounded-full mr-3"}),"Comprehensive aftercare support"]}),a.jsxs("li",{className:"flex items-center",children:[a.jsx("span",{className:"w-2 h-2 bg-tattoo-primary rounded-full mr-3"}),"Digital portfolio and progress tracking"]})]})]})})]})]})]})})},RI=()=>a.jsx("footer",{className:"bg-tattoo-dark py-12 border-t border-tattoo-gray",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-2xl font-bold gradient-text",children:"UpRising.Ink"}),a.jsx("p",{className:"text-gray-400",children:"Uprising Ink Tattoo Studio L.L.C."}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Professional tattoo artistry with cutting-edge digital experience."}),a.jsx("p",{className:"text-xs text-gray-500",children:"Powered by Multraverse.ai"})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-white",children:"Quick Links"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsx("a",{href:"#gallery",className:"text-gray-400 hover:text-tattoo-primary transition-colors",children:"Gallery"})}),a.jsx("li",{children:a.jsx("a",{href:"#artists",className:"text-gray-400 hover:text-tattoo-primary transition-colors",children:"Our Artists"})}),a.jsx("li",{children:a.jsx("a",{href:"#booking",className:"text-gray-400 hover:text-tattoo-primary transition-colors",children:"Book Session"})}),a.jsx("li",{children:a.jsx("a",{href:"#contact",className:"text-gray-400 hover:text-tattoo-primary transition-colors",children:"Contact"})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-white",children:"Portals"}),a.jsxs("ul",{className:"space-y-2",children:[a.jsx("li",{children:a.jsxs("a",{href:"#client-portal",className:"text-gray-400 hover:text-tattoo-primary transition-colors flex items-center",children:[a.jsx(Jt,{className:"mr-2",size:16}),"Client Portal"]})}),a.jsx("li",{children:a.jsxs("a",{href:"#artist-portal",className:"text-gray-400 hover:text-tattoo-primary transition-colors flex items-center",children:[a.jsx(Tn,{className:"mr-2",size:16}),"Artist Portal"]})}),a.jsx("li",{children:a.jsxs("a",{href:"#admin-portal",className:"text-gray-400 hover:text-tattoo-primary transition-colors flex items-center",children:[a.jsx(Ii,{className:"mr-2",size:16}),"Admin Dashboard"]})})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h4",{className:"text-lg font-semibold text-white",children:"Contact Info"}),a.jsxs("div",{className:"space-y-2 text-gray-400",children:[a.jsx("p",{children:"1631 Sunset Rd c103"}),a.jsx("p",{children:"Las Vegas, NV 89119"}),a.jsx("p",{children:"Phone: (725) 204-6609"}),a.jsx("p",{children:"Email: info@uprising.ink"})]}),a.jsxs("div",{className:"flex items-center space-x-4 pt-4",children:[a.jsx("a",{href:"#",className:"text-gray-400 hover:text-tattoo-primary transition-colors",children:a.jsx(Lt,{size:20})}),a.jsx("a",{href:"#",className:"text-gray-400 hover:text-tattoo-primary transition-colors",children:a.jsx(Tn,{size:20})})]})]})]}),a.jsxs("div",{className:"border-t border-tattoo-gray mt-8 pt-8 flex flex-col md:flex-row justify-between items-center",children:[a.jsx("p",{className:"text-gray-400 text-sm",children:" 2024 Uprising Ink Tattoo Studio L.L.C. All rights reserved."}),a.jsx("p",{className:"text-gray-500 text-xs mt-2 md:mt-0",children:"Digital platform by Multraverse.ai"})]})]})}),DI=()=>{const[t,e]=N.useState(!1),n=Mu(),{user:r}=Cn(),s=[{label:"Gallery",href:"#gallery"},{label:"Artists",href:"#artists"},{label:"Book Now",href:"#booking"},{label:"Contact",href:"/contact"}],i=()=>{n("/auth")};return a.jsx("nav",{className:"fixed top-0 left-0 right-0 z-50 bg-tattoo-dark/95 backdrop-blur-md border-b border-tattoo-gray",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Mp,{to:"/",children:a.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"UpRising.Ink"})})}),a.jsx("div",{className:"hidden md:block",children:a.jsx("div",{className:"ml-10 flex items-baseline space-x-4",children:s.map(o=>o.href.startsWith("#")?a.jsx("a",{href:o.href,className:"text-white hover:text-tattoo-primary px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:o.label},o.label):a.jsx(Mp,{to:o.href,className:"text-white hover:text-tattoo-primary px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200",children:o.label},o.label))})}),a.jsx("div",{className:"hidden md:flex items-center space-x-2",children:!r&&a.jsxs(H,{onClick:i,className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(ay,{className:"w-4 h-4 mr-2"}),"Login"]})}),a.jsx("div",{className:"md:hidden",children:a.jsx("button",{onClick:()=>e(!t),className:"text-white hover:text-tattoo-primary",children:t?a.jsx(Ru,{size:24}):a.jsx(LD,{size:24})})})]}),t&&a.jsx("div",{className:"md:hidden",children:a.jsxs("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3 bg-tattoo-secondary rounded-lg mt-2",children:[s.map(o=>o.href.startsWith("#")?a.jsx("a",{href:o.href,className:"text-white hover:text-tattoo-primary block px-3 py-2 rounded-md text-base font-medium",onClick:()=>e(!1),children:o.label},o.label):a.jsx(Mp,{to:o.href,className:"text-white hover:text-tattoo-primary block px-3 py-2 rounded-md text-base font-medium",onClick:()=>e(!1),children:o.label},o.label)),!r&&a.jsx("div",{className:"pt-4",children:a.jsxs(H,{onClick:()=>{i(),e(!1)},className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 w-full",children:[a.jsx(ay,{className:"w-4 h-4 mr-2"}),"Login"]})})]})})]})})},SB=()=>{const[t,e]=N.useState(null),[n,r]=N.useState(!1),[s,i]=N.useState(!1),[o,l]=N.useState(!1);N.useEffect(()=>{const u=/iPad|iPhone|iPod/.test(navigator.userAgent);i(u);const m=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone===!0;l(m);const h=p=>{p.preventDefault(),e(p),r(!0)};return window.addEventListener("beforeinstallprompt",h),u&&!m&&setTimeout(()=>r(!0),3e3),()=>{window.removeEventListener("beforeinstallprompt",h)}},[]);const c=async()=>{if(t){t.prompt();const{outcome:u}=await t.userChoice;u==="accepted"&&(e(null),r(!1))}},d=()=>{r(!1),sessionStorage.setItem("pwa-prompt-dismissed","true")};return!n||o||sessionStorage.getItem("pwa-prompt-dismissed")?null:a.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:right-4 md:w-80",children:a.jsxs("div",{className:"bg-tattoo-gray border border-tattoo-primary rounded-lg p-4 shadow-lg",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(VD,{className:"h-5 w-5 text-tattoo-primary mr-2"}),a.jsx("h3",{className:"font-semibold text-white text-sm",children:"Install Rising Ink"})]}),a.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white",children:a.jsx(Ru,{className:"h-4 w-4"})})]}),a.jsx("p",{className:"text-gray-300 text-xs mb-3",children:s?"Add to your home screen for quick access. Tap the share button and select 'Add to Home Screen'.":"Install our app for a better experience with offline access and notifications."}),a.jsxs("div",{className:"flex gap-2",children:[!s&&t&&a.jsxs(H,{onClick:c,size:"sm",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex-1",children:[a.jsx(DD,{className:"h-3 w-3 mr-1"}),"Install"]}),a.jsx(H,{onClick:d,variant:"outline",size:"sm",className:"border-gray-600 text-gray-300 hover:bg-gray-700",children:s?"Got it":"Later"})]})]})})},CB=()=>a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx(DI,{}),a.jsx(_B,{}),a.jsx(EB,{}),a.jsx(NB,{}),a.jsx(TB,{}),a.jsx(RI,{}),a.jsx(SB,{})]});var kB="Label",MI=N.forwardRef((t,e)=>a.jsx(Oe.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));MI.displayName=kB;var OI=MI;const IB=Jf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),bn=N.forwardRef(({className:t,...e},n)=>a.jsx(OI,{ref:n,className:Se(IB(),t),...e}));bn.displayName=OI.displayName;const jB=({title:t,onSwitchToSignup:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState(""),[o,l]=N.useState(!1),{signIn:c}=Cn(),d=async u=>{u.preventDefault(),l(!0);try{await c(n,s)}catch{}finally{l(!1)}};return a.jsxs(ie,{className:"w-full max-w-md bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-2xl text-center text-white",children:t})}),a.jsx(oe,{children:a.jsxs("form",{onSubmit:d,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"email",className:"text-gray-300",children:"Email"}),a.jsx(Pe,{id:"email",type:"email",value:n,onChange:u=>r(u.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"password",className:"text-gray-300",children:"Password"}),a.jsx(Pe,{id:"password",type:"password",value:s,onChange:u=>i(u.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white"})]}),a.jsx(H,{type:"submit",className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",disabled:o,children:o?"Signing In...":"Sign In"}),e&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:e,className:"text-tattoo-primary hover:underline text-sm",children:"Don't have an account? Sign up"})})]})})]})};var Qp="focusScope.autoFocusOnMount",Yp="focusScope.autoFocusOnUnmount",yE={bubbles:!1,cancelable:!0},AB="FocusScope",j0=N.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[l,c]=N.useState(null),d=mr(s),u=mr(i),m=N.useRef(null),h=ct(e,g=>c(g)),p=N.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;N.useEffect(()=>{if(r){let g=function(_){if(p.paused||!l)return;const C=_.target;l.contains(C)?m.current=C:ni(m.current,{select:!0})},w=function(_){if(p.paused||!l)return;const C=_.relatedTarget;C!==null&&(l.contains(C)||ni(m.current,{select:!0}))},v=function(_){if(document.activeElement===document.body)for(const M of _)M.removedNodes.length>0&&ni(l)};document.addEventListener("focusin",g),document.addEventListener("focusout",w);const x=new MutationObserver(v);return l&&x.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",w),x.disconnect()}}},[r,l,p.paused]),N.useEffect(()=>{if(l){xE.add(p);const g=document.activeElement;if(!l.contains(g)){const v=new CustomEvent(Qp,yE);l.addEventListener(Qp,d),l.dispatchEvent(v),v.defaultPrevented||(PB(LB(LI(l)),{select:!0}),document.activeElement===g&&ni(l))}return()=>{l.removeEventListener(Qp,d),setTimeout(()=>{const v=new CustomEvent(Yp,yE);l.addEventListener(Yp,u),l.dispatchEvent(v),v.defaultPrevented||ni(g??document.body,{select:!0}),l.removeEventListener(Yp,u),xE.remove(p)},0)}}},[l,d,u,p]);const y=N.useCallback(g=>{if(!n&&!r||p.paused)return;const w=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,v=document.activeElement;if(w&&v){const x=g.currentTarget,[_,C]=RB(x);_&&C?!g.shiftKey&&v===C?(g.preventDefault(),n&&ni(_,{select:!0})):g.shiftKey&&v===_&&(g.preventDefault(),n&&ni(C,{select:!0})):v===x&&g.preventDefault()}},[n,r,p.paused]);return a.jsx(Oe.div,{tabIndex:-1,...o,ref:h,onKeyDown:y})});j0.displayName=AB;function PB(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(ni(r,{select:e}),document.activeElement!==n)return}function RB(t){const e=LI(t),n=vE(e,t),r=vE(e.reverse(),t);return[n,r]}function LI(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function vE(t,e){for(const n of t)if(!DB(n,{upTo:e}))return n}function DB(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function MB(t){return t instanceof HTMLInputElement&&"select"in t}function ni(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&MB(t)&&e&&t.select()}}var xE=OB();function OB(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=wE(t,e),t.unshift(e)},remove(e){var n;t=wE(t,e),(n=t[0])==null||n.resume()}}}function wE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function LB(t){return t.filter(e=>e.tagName!=="A")}var Xp=0;function FI(){N.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??_E()),document.body.insertAdjacentElement("beforeend",t[1]??_E()),Xp++,()=>{Xp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Xp--}},[])}function _E(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _h="right-scroll-bar-position",bh="width-before-scroll-bar",FB="with-scroll-bars-hidden",VB="--removed-body-scroll-bar-size";function Jp(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UB(t,e){var n=N.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var BB=typeof window<"u"?N.useLayoutEffect:N.useEffect,bE=new WeakMap;function zB(t,e){var n=UB(null,function(r){return t.forEach(function(s){return Jp(s,r)})});return BB(function(){var r=bE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(l){i.has(l)||Jp(l,null)}),i.forEach(function(l){s.has(l)||Jp(l,o)})}bE.set(n,t)},[t]),n}function $B(t){return t}function WB(t,e){e===void 0&&(e=$B);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(l){return l!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(l){return i(l)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var l=n;n=[],l.forEach(i),o=n}var c=function(){var u=o;o=[],u.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(u){o.push(u),d()},filter:function(u){return o=o.filter(u),n}}}};return s}function HB(t){t===void 0&&(t={});var e=WB(null);return e.options=ns({async:!0,ssr:!1},t),e}var VI=function(t){var e=t.sideCar,n=Vu(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return N.createElement(r,ns({},n))};VI.isSideCarExport=!0;function qB(t,e){return t.useMedium(e),VI}var UI=HB(),Zp=function(){},Mm=N.forwardRef(function(t,e){var n=N.useRef(null),r=N.useState({onScrollCapture:Zp,onWheelCapture:Zp,onTouchMoveCapture:Zp}),s=r[0],i=r[1],o=t.forwardProps,l=t.children,c=t.className,d=t.removeScrollBar,u=t.enabled,m=t.shards,h=t.sideCar,p=t.noIsolation,y=t.inert,g=t.allowPinchZoom,w=t.as,v=w===void 0?"div":w,x=t.gapMode,_=Vu(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=h,M=zB([n,e]),R=ns(ns({},_),s);return N.createElement(N.Fragment,null,u&&N.createElement(C,{sideCar:UI,removeScrollBar:d,shards:m,noIsolation:p,inert:y,setCallbacks:i,allowPinchZoom:!!g,lockRef:n,gapMode:x}),o?N.cloneElement(N.Children.only(l),ns(ns({},R),{ref:M})):N.createElement(v,ns({},R,{className:c,ref:M}),l))});Mm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Mm.classNames={fullWidth:bh,zeroRight:_h};var GB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function KB(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=GB();return e&&t.setAttribute("nonce",e),t}function QB(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function YB(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var XB=function(){var t=0,e=null;return{add:function(n){t==0&&(e=KB())&&(QB(e,n),YB(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},JB=function(){var t=XB();return function(e,n){N.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},BI=function(){var t=JB(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},ZB={left:0,top:0,right:0,gap:0},eg=function(t){return parseInt(t||"",10)||0},ez=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[eg(n),eg(r),eg(s)]},tz=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return ZB;var e=ez(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},nz=BI(),Ha="data-scroll-locked",rz=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,l=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(FB,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(l,"px ").concat(r,`;
  }
  body[`).concat(Ha,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(l,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(l,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_h,` {
    right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(bh,` {
    margin-right: `).concat(l,"px ").concat(r,`;
  }
  
  .`).concat(_h," .").concat(_h,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(bh," .").concat(bh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ha,`] {
    `).concat(VB,": ").concat(l,`px;
  }
`)},EE=function(){var t=parseInt(document.body.getAttribute(Ha)||"0",10);return isFinite(t)?t:0},sz=function(){N.useEffect(function(){return document.body.setAttribute(Ha,(EE()+1).toString()),function(){var t=EE()-1;t<=0?document.body.removeAttribute(Ha):document.body.setAttribute(Ha,t.toString())}},[])},iz=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;sz();var i=N.useMemo(function(){return tz(s)},[s]);return N.createElement(nz,{styles:rz(i,!e,s,n?"":"!important")})},Gy=!1;if(typeof window<"u")try{var qd=Object.defineProperty({},"passive",{get:function(){return Gy=!0,!0}});window.addEventListener("test",qd,qd),window.removeEventListener("test",qd,qd)}catch{Gy=!1}var da=Gy?{passive:!1}:!1,oz=function(t){return t.tagName==="TEXTAREA"},zI=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!oz(t)&&n[e]==="visible")},az=function(t){return zI(t,"overflowY")},lz=function(t){return zI(t,"overflowX")},NE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=$I(t,r);if(s){var i=WI(t,r),o=i[1],l=i[2];if(o>l)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},cz=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},uz=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},$I=function(t,e){return t==="v"?az(e):lz(e)},WI=function(t,e){return t==="v"?cz(e):uz(e)},dz=function(t,e){return t==="h"&&e==="rtl"?-1:1},hz=function(t,e,n,r,s){var i=dz(t,window.getComputedStyle(e).direction),o=i*r,l=n.target,c=e.contains(l),d=!1,u=o>0,m=0,h=0;do{var p=WI(t,l),y=p[0],g=p[1],w=p[2],v=g-w-i*y;(y||v)&&$I(t,l)&&(m+=v,h+=y),l instanceof ShadowRoot?l=l.host:l=l.parentNode}while(!c&&l!==document.body||c&&(e.contains(l)||e===l));return(u&&(Math.abs(m)<1||!s)||!u&&(Math.abs(h)<1||!s))&&(d=!0),d},Gd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},TE=function(t){return[t.deltaX,t.deltaY]},SE=function(t){return t&&"current"in t?t.current:t},fz=function(t,e){return t[0]===e[0]&&t[1]===e[1]},mz=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pz=0,ha=[];function gz(t){var e=N.useRef([]),n=N.useRef([0,0]),r=N.useRef(),s=N.useState(pz++)[0],i=N.useState(BI)[0],o=N.useRef(t);N.useEffect(function(){o.current=t},[t]),N.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var g=O6([t.lockRef.current],(t.shards||[]).map(SE),!0).filter(Boolean);return g.forEach(function(w){return w.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),g.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var l=N.useCallback(function(g,w){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!o.current.allowPinchZoom;var v=Gd(g),x=n.current,_="deltaX"in g?g.deltaX:x[0]-v[0],C="deltaY"in g?g.deltaY:x[1]-v[1],M,R=g.target,k=Math.abs(_)>Math.abs(C)?"h":"v";if("touches"in g&&k==="h"&&R.type==="range")return!1;var b=NE(k,R);if(!b)return!0;if(b?M=k:(M=k==="v"?"h":"v",b=NE(k,R)),!b)return!1;if(!r.current&&"changedTouches"in g&&(_||C)&&(r.current=M),!M)return!0;var T=r.current||M;return hz(T,w,g,T==="h"?_:C,!0)},[]),c=N.useCallback(function(g){var w=g;if(!(!ha.length||ha[ha.length-1]!==i)){var v="deltaY"in w?TE(w):Gd(w),x=e.current.filter(function(M){return M.name===w.type&&(M.target===w.target||w.target===M.shadowParent)&&fz(M.delta,v)})[0];if(x&&x.should){w.cancelable&&w.preventDefault();return}if(!x){var _=(o.current.shards||[]).map(SE).filter(Boolean).filter(function(M){return M.contains(w.target)}),C=_.length>0?l(w,_[0]):!o.current.noIsolation;C&&w.cancelable&&w.preventDefault()}}},[]),d=N.useCallback(function(g,w,v,x){var _={name:g,delta:w,target:v,should:x,shadowParent:yz(v)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(C){return C!==_})},1)},[]),u=N.useCallback(function(g){n.current=Gd(g),r.current=void 0},[]),m=N.useCallback(function(g){d(g.type,TE(g),g.target,l(g,t.lockRef.current))},[]),h=N.useCallback(function(g){d(g.type,Gd(g),g.target,l(g,t.lockRef.current))},[]);N.useEffect(function(){return ha.push(i),t.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:h}),document.addEventListener("wheel",c,da),document.addEventListener("touchmove",c,da),document.addEventListener("touchstart",u,da),function(){ha=ha.filter(function(g){return g!==i}),document.removeEventListener("wheel",c,da),document.removeEventListener("touchmove",c,da),document.removeEventListener("touchstart",u,da)}},[]);var p=t.removeScrollBar,y=t.inert;return N.createElement(N.Fragment,null,y?N.createElement(i,{styles:mz(s)}):null,p?N.createElement(iz,{gapMode:t.gapMode}):null)}function yz(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const vz=qB(UI,gz);var A0=N.forwardRef(function(t,e){return N.createElement(Mm,ns({},t,{ref:e,sideCar:vz}))});A0.classNames=Mm.classNames;var xz=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fa=new WeakMap,Kd=new WeakMap,Qd={},tg=0,HI=function(t){return t&&(t.host||HI(t.parentNode))},wz=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=HI(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},_z=function(t,e,n,r){var s=wz(e,Array.isArray(t)?t:[t]);Qd[n]||(Qd[n]=new WeakMap);var i=Qd[n],o=[],l=new Set,c=new Set(s),d=function(m){!m||l.has(m)||(l.add(m),d(m.parentNode))};s.forEach(d);var u=function(m){!m||c.has(m)||Array.prototype.forEach.call(m.children,function(h){if(l.has(h))u(h);else try{var p=h.getAttribute(r),y=p!==null&&p!=="false",g=(fa.get(h)||0)+1,w=(i.get(h)||0)+1;fa.set(h,g),i.set(h,w),o.push(h),g===1&&y&&Kd.set(h,!0),w===1&&h.setAttribute(n,"true"),y||h.setAttribute(r,"true")}catch(v){console.error("aria-hidden: cannot operate on ",h,v)}})};return u(e),l.clear(),tg++,function(){o.forEach(function(m){var h=fa.get(m)-1,p=i.get(m)-1;fa.set(m,h),i.set(m,p),h||(Kd.has(m)||m.removeAttribute(r),Kd.delete(m)),p||m.removeAttribute(n)}),tg--,tg||(fa=new WeakMap,fa=new WeakMap,Kd=new WeakMap,Qd={})}},qI=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=xz(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),_z(r,s,n,"aria-hidden")):function(){return null}},P0="Dialog",[GI,iG]=Cu(P0),[bz,qr]=GI(P0),KI=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,l=N.useRef(null),c=N.useRef(null),[d=!1,u]=eu({prop:r,defaultProp:s,onChange:i});return a.jsx(bz,{scope:e,triggerRef:l,contentRef:c,contentId:jo(),titleId:jo(),descriptionId:jo(),open:d,onOpenChange:u,onOpenToggle:N.useCallback(()=>u(m=>!m),[u]),modal:o,children:n})};KI.displayName=P0;var QI="DialogTrigger",Ez=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=qr(QI,n),i=ct(e,s.triggerRef);return a.jsx(Oe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":M0(s.open),...r,ref:i,onClick:Te(t.onClick,s.onOpenToggle)})});Ez.displayName=QI;var R0="DialogPortal",[Nz,YI]=GI(R0,{forceMount:void 0}),XI=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=qr(R0,e);return a.jsx(Nz,{scope:e,forceMount:n,children:N.Children.map(r,o=>a.jsx(Jo,{present:n||i.open,children:a.jsx(Qf,{asChild:!0,container:s,children:o})}))})};XI.displayName=R0;var Tf="DialogOverlay",JI=N.forwardRef((t,e)=>{const n=YI(Tf,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=qr(Tf,t.__scopeDialog);return i.modal?a.jsx(Jo,{present:r||i.open,children:a.jsx(Tz,{...s,ref:e})}):null});JI.displayName=Tf;var Tz=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=qr(Tf,n);return a.jsx(A0,{as:Lo,allowPinchZoom:!0,shards:[s.contentRef],children:a.jsx(Oe.div,{"data-state":M0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),qo="DialogContent",ZI=N.forwardRef((t,e)=>{const n=YI(qo,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=qr(qo,t.__scopeDialog);return a.jsx(Jo,{present:r||i.open,children:i.modal?a.jsx(Sz,{...s,ref:e}):a.jsx(Cz,{...s,ref:e})})});ZI.displayName=qo;var Sz=N.forwardRef((t,e)=>{const n=qr(qo,t.__scopeDialog),r=N.useRef(null),s=ct(e,n.contentRef,r);return N.useEffect(()=>{const i=r.current;if(i)return qI(i)},[]),a.jsx(ej,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Te(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Te(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,l=o.button===0&&o.ctrlKey===!0;(o.button===2||l)&&i.preventDefault()}),onFocusOutside:Te(t.onFocusOutside,i=>i.preventDefault())})}),Cz=N.forwardRef((t,e)=>{const n=qr(qo,t.__scopeDialog),r=N.useRef(!1),s=N.useRef(!1);return a.jsx(ej,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,l;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),ej=N.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,l=qr(qo,n),c=N.useRef(null),d=ct(e,c);return FI(),a.jsxs(a.Fragment,{children:[a.jsx(j0,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:a.jsx(ku,{role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":M0(l.open),...o,ref:d,onDismiss:()=>l.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(kz,{titleId:l.titleId}),a.jsx(jz,{contentRef:c,descriptionId:l.descriptionId})]})]})}),D0="DialogTitle",tj=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=qr(D0,n);return a.jsx(Oe.h2,{id:s.titleId,...r,ref:e})});tj.displayName=D0;var nj="DialogDescription",rj=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=qr(nj,n);return a.jsx(Oe.p,{id:s.descriptionId,...r,ref:e})});rj.displayName=nj;var sj="DialogClose",ij=N.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=qr(sj,n);return a.jsx(Oe.button,{type:"button",...r,ref:e,onClick:Te(t.onClick,()=>s.onOpenChange(!1))})});ij.displayName=sj;function M0(t){return t?"open":"closed"}var oj="DialogTitleWarning",[oG,aj]=q4(oj,{contentName:qo,titleName:D0,docsSlug:"dialog"}),kz=({titleId:t})=>{const e=aj(oj),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return N.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},Iz="DialogDescriptionWarning",jz=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${aj(Iz).contentName}}.`;return N.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Az=KI,Pz=XI,lj=JI,cj=ZI,uj=tj,dj=rj,Rz=ij;const Dz=Az,Mz=Pz,hj=N.forwardRef(({className:t,...e},n)=>a.jsx(lj,{ref:n,className:Se("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));hj.displayName=lj.displayName;const fj=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(Mz,{children:[a.jsx(hj,{}),a.jsxs(cj,{ref:r,className:Se("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,a.jsxs(Rz,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(Ru,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));fj.displayName=cj.displayName;const mj=({className:t,...e})=>a.jsx("div",{className:Se("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});mj.displayName="DialogHeader";const pj=N.forwardRef(({className:t,...e},n)=>a.jsx(uj,{ref:n,className:Se("text-lg font-semibold leading-none tracking-tight",t),...e}));pj.displayName=uj.displayName;const Oz=N.forwardRef(({className:t,...e},n)=>a.jsx(dj,{ref:n,className:Se("text-sm text-muted-foreground",t),...e}));Oz.displayName=dj.displayName;const Lz=({title:t,onSwitchToLogin:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState(""),[o,l]=N.useState(""),[c,d]=N.useState(!1),[u,m]=N.useState(!1),{signUp:h}=Cn(),p=async g=>{g.preventDefault(),d(!0);try{await h(n,s,o,"client"),m(!0),r(""),i(""),l("")}catch{}finally{d(!1)}},y=()=>{var v;const g=(v=n.split("@")[1])==null?void 0:v.toLowerCase();let w="https://mail.google.com";g!=null&&g.includes("outlook")||g!=null&&g.includes("hotmail")||g!=null&&g.includes("live")?w="https://outlook.live.com":g!=null&&g.includes("yahoo")?w="https://mail.yahoo.com":g!=null&&g.includes("icloud")&&(w="https://www.icloud.com/mail"),window.open(w,"_blank")};return a.jsxs(a.Fragment,{children:[a.jsxs(ie,{className:"w-full max-w-md bg-tattoo-gray border-tattoo-primary",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-2xl text-center text-white",children:t}),a.jsx("p",{className:"text-center text-gray-300 text-sm",children:"Create your client account to book appointments"})]}),a.jsx(oe,{children:a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),a.jsx(Pe,{id:"fullName",type:"text",value:o,onChange:g=>l(g.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"email",className:"text-gray-300",children:"Email"}),a.jsx(Pe,{id:"email",type:"email",value:n,onChange:g=>r(g.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"password",className:"text-gray-300",children:"Password"}),a.jsx(Pe,{id:"password",type:"password",value:s,onChange:g=>i(g.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white",minLength:6})]}),a.jsx(H,{type:"submit",className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",disabled:c,children:c?"Creating Account...":"Create Client Account"}),e&&a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"button",onClick:e,className:"text-tattoo-primary hover:underline text-sm",children:"Already have an account? Sign in"})})]})})]}),a.jsx(Dz,{open:u,onOpenChange:m,children:a.jsxs(fj,{className:"bg-tattoo-gray border-tattoo-primary max-w-md",children:[a.jsx(mj,{children:a.jsxs(pj,{className:"text-xl text-white flex items-center justify-center",children:[a.jsx(RD,{className:"mr-2 text-tattoo-primary"}),"Account Created Successfully!"]})}),a.jsxs("div",{className:"text-center space-y-6 p-4",children:[a.jsx(ju,{className:"h-20 w-20 text-tattoo-primary mx-auto"}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("h3",{className:"text-lg font-semibold text-white",children:"Please verify your email"}),a.jsx("p",{className:"text-gray-300",children:"We've sent a verification email to:"}),a.jsx("p",{className:"text-white font-semibold text-lg bg-tattoo-dark p-2 rounded",children:n}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Click the verification link in your email to activate your account and start booking appointments."})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(H,{onClick:y,className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(VT,{className:"mr-2 w-4 h-4"}),"Open Email Account"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(H,{onClick:()=>m(!1),variant:"outline",className:"flex-1 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Continue Later"}),e&&a.jsx(H,{onClick:()=>{m(!1),e()},variant:"outline",className:"flex-1 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Sign In Instead"})]})]})]})]})})]})},Fz=()=>{const[t,e]=N.useState(!0),n=Mu(),{user:r,loading:s}=Cn();return N.useEffect(()=>{if(r&&!s)switch(r.role){case"owner":case"manager":n("/admin-portal");break;case"artist":n("/artist-portal");break;case"client":n("/client-portal");break;default:n("/")}},[r,s,n]),s?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading..."})}):a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center px-4",children:a.jsx("div",{className:"w-full max-w-md",children:t?a.jsx(jB,{title:"Sign In",onSwitchToSignup:()=>e(!1)}):a.jsx(Lz,{title:"Create Account",onSwitchToLogin:()=>e(!0)})})})},Vz=()=>{const[t,e]=N.useState({name:"",email:"",subject:"",message:""}),[n,r]=N.useState({question:"",answer:"",userAnswer:"",correctAnswer:0}),[s,i]=N.useState(!1),o=()=>{const d=Math.floor(Math.random()*10)+1,u=Math.floor(Math.random()*10)+1,m=["+","-"],h=m[Math.floor(Math.random()*m.length)];let p,y;h==="+"?(p=d+u,y=`${d} + ${u}`):(p=d-u,y=`${d} - ${u}`),r({question:y,answer:p.toString(),userAnswer:"",correctAnswer:p})};re.useEffect(()=>{o()},[]);const l=d=>{e({...t,[d.target.name]:d.target.value})},c=async d=>{if(d.preventDefault(),parseInt(n.userAnswer)!==n.correctAnswer){hc({title:"Captcha Error",description:"Please solve the math problem correctly.",variant:"destructive"}),o();return}if(!t.name||!t.email||!t.message){hc({title:"Form Error",description:"Please fill in all required fields.",variant:"destructive"});return}i(!0);try{await fetch("https://us-central1-uprisinginkapp.cloudfunctions.net/sendContactEmail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:t.name,email:t.email,subject:t.subject||"Contact Form Submission",message:t.message})}),hc({title:"Message Sent!",description:"Thank you for your message. We'll get back to you soon!"}),e({name:"",email:"",subject:"",message:""}),o()}catch(u){console.error("Error sending message:",u),hc({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"})}finally{i(!1)}};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx(DI,{}),a.jsx("div",{className:"container mx-auto px-4 py-24",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold gradient-text mb-4",children:"Contact Us"}),a.jsx("p",{className:"text-white/80 text-lg max-w-2xl mx-auto",children:"Ready to get your next tattoo? Have questions about our services? We'd love to hear from you!"})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ie,{className:"bg-tattoo-secondary border-tattoo-gray",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-tattoo-primary",children:"Get in Touch"}),a.jsx(Ho,{className:"text-white/70",children:"Visit us, call us, or send us a message"})]}),a.jsxs(oe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[a.jsx(OD,{className:"text-tattoo-primary",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Our Location"}),a.jsx("p",{className:"text-white/80",children:"1631 Sunset Rd c103"}),a.jsx("p",{className:"text-white/80",children:"Las Vegas, NV 89119"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[a.jsx(rx,{className:"text-tattoo-primary",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Phone"}),a.jsx("p",{className:"text-white/80",children:"(725) 204-6609"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-white",children:[a.jsx(ju,{className:"text-tattoo-primary",size:20}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Email"}),a.jsx("p",{className:"text-white/80",children:"info@uprising.ink"})]})]})]})]}),a.jsxs(ie,{className:"bg-tattoo-secondary border-tattoo-gray",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-tattoo-primary",children:"Studio Hours"})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-2 text-white",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Monday - Friday"}),a.jsx("span",{className:"text-white/80",children:"12:00 PM - 10:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Saturday"}),a.jsx("span",{className:"text-white/80",children:"12:00 PM - 11:00 PM"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Sunday"}),a.jsx("span",{className:"text-white/80",children:"12:00 PM - 8:00 PM"})]})]})})]})]}),a.jsxs(ie,{className:"bg-tattoo-secondary border-tattoo-gray",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-tattoo-primary",children:"Send us a Message"}),a.jsx(Ho,{className:"text-white/70",children:"Fill out the form below and we'll get back to you as soon as possible"})]}),a.jsx(oe,{children:a.jsxs("form",{onSubmit:c,className:"space-y-4",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(bn,{htmlFor:"name",className:"text-white",children:"Name *"}),a.jsx(Pe,{id:"name",name:"name",value:t.name,onChange:l,required:!0,className:"bg-tattoo-dark border-tattoo-gray text-white",placeholder:"Your full name"})]}),a.jsxs("div",{children:[a.jsx(bn,{htmlFor:"email",className:"text-white",children:"Email *"}),a.jsx(Pe,{id:"email",name:"email",type:"email",value:t.email,onChange:l,required:!0,className:"bg-tattoo-dark border-tattoo-gray text-white",placeholder:"your.email@example.com"})]})]}),a.jsxs("div",{children:[a.jsx(bn,{htmlFor:"subject",className:"text-white",children:"Subject"}),a.jsx(Pe,{id:"subject",name:"subject",value:t.subject,onChange:l,className:"bg-tattoo-dark border-tattoo-gray text-white",placeholder:"What's this about?"})]}),a.jsxs("div",{children:[a.jsx(bn,{htmlFor:"message",className:"text-white",children:"Message *"}),a.jsx(Dm,{id:"message",name:"message",value:t.message,onChange:l,required:!0,rows:4,className:"bg-tattoo-dark border-tattoo-gray text-white",placeholder:"Tell us about your tattoo ideas, questions, or anything else..."})]}),a.jsxs("div",{children:[a.jsxs(bn,{htmlFor:"captcha",className:"text-white",children:["Security Check: What is ",n.question,"? *"]}),a.jsx(Pe,{id:"captcha",type:"number",value:n.userAnswer,onChange:d=>r({...n,userAnswer:d.target.value}),required:!0,className:"bg-tattoo-dark border-tattoo-gray text-white",placeholder:"Enter the answer"})]}),a.jsx(H,{type:"submit",disabled:s,className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:s?"Sending...":a.jsxs(a.Fragment,{children:[a.jsx(sx,{size:16,className:"mr-2"}),"Send Message"]})})]})})]})]})]})}),a.jsx(RI,{})]})},Uz=({client:t,onNavigate:e})=>{const[n,r]=N.useState([]),[s,i]=N.useState(0),[o,l]=N.useState([]),[c,d]=N.useState([]),[u,m]=N.useState([]),[h,p]=N.useState(!0),{toast:y}=Bn();N.useEffect(()=>{g()},[t.id,t.selectedArtistId]);const g=async()=>{try{if(p(!0),t.selectedArtistId){const _=Ot(lt(ve,"appointments"),Ye("client_id","==",t.id),Ye("artist_id","==",t.selectedArtistId),Ye("appointment_date",">=",new Date().toISOString()),zs("appointment_date","asc"),cE(2)),C=await xt(_),M=await Promise.all(C.docs.map(async V=>{const B=V.data();let O="";if(B.artist_id){const D=await Dt(Be(ve,"artists",B.artist_id));if(D.exists()){const F=D.data();if(F.profile_id){const U=await Dt(Be(ve,"profiles",F.profile_id));U.exists()&&(O=U.data().full_name)}}}return{id:V.id,date:new Date(B.appointment_date).toLocaleDateString(),time:new Date(B.appointment_date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),type:B.description||"Appointment",artist:O}}));l(M);const R=Ot(lt(ve,"artwork"),Ye("client_id","==",t.id),Ye("artist_id","==",t.selectedArtistId),Ye("status","!=","completed")),k=await xt(R),b=await Promise.all(k.docs.map(async V=>{const B=V.data();let O="";if(B.artist_id){const D=await Dt(Be(ve,"artists",B.artist_id));if(D.exists()){const F=D.data();if(F.profile_id){const U=await Dt(Be(ve,"profiles",F.profile_id));U.exists()&&(O=U.data().full_name)}}}return{id:V.id,name:B.title,status:B.status,artist:O,progress:B.status==="in_progress"?50:25}}));d(b);const T=await Dt(Be(ve,"artists",t.selectedArtistId));let S="";T.exists()&&(S=T.data().profile_id);const A=Ot(lt(ve,"messages"),Ye("sender_id","in",[S,t.id]),Ye("recipient_id","in",[S,t.id]),zs("created_at","desc"),cE(3)),P=await xt(A),j=await Promise.all(P.docs.map(async V=>{const B=V.data();let O="Unknown";if(B.sender_id){const D=await Dt(Be(ve,"profiles",B.sender_id));D.exists()&&(O=D.data().full_name)}return{id:V.id,from:O,preview:B.content.length>60?B.content.substring(0,60)+"...":B.content,time:new Date(B.created_at).toLocaleDateString(),unread:!B.read_at}}));m(j)}else{const _=Ot(lt(ve,"artists"),Ye("is_available","==",!0)),C=await xt(_),M=await Promise.all(C.docs.map(async R=>{var S;const k=R.data();let b="Unknown Artist",T="/placeholder.svg";if(k.profile_id){const A=await Dt(Be(ve,"profiles",k.profile_id));if(A.exists()){const P=A.data();b=P.full_name||b,T=P.profile_image||T}}return{id:R.id,name:b,bio:k.bio||"Passionate tattoo artist dedicated to creating unique, meaningful artwork.",profileImage:T,socialMedia:{instagram:k.instagram_handle},gallery:(S=k.portfolio_images)!=null&&S.length?k.portfolio_images:["/placeholder.svg","/placeholder.svg","/placeholder.svg"]}}));r(M)}}catch(_){console.error("Error fetching dashboard data:",_),y({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{p(!1)}},w=async _=>{try{await As(Be(ve,"clients",t.id),{preferred_artist_id:_.id}),y({title:"Success",description:`You've selected ${_.name} as your artist!`}),setTimeout(()=>{window.location.reload()},1e3)}catch(C){console.error("Error selecting artist:",C),y({title:"Error",description:"Failed to select artist. Please try again.",variant:"destructive"})}},v=()=>{i(_=>_>0?_-1:n.length-1)},x=()=>{i(_=>_<n.length-1?_+1:0)};return h?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading dashboard..."})}):t.selectedArtistId?a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-6xl mx-auto p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome back, ",t.name]}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Your tattoo journey continues here"})]}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{onClick:()=>e("profile"),variant:"outline",size:"sm",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Ii,{className:"w-4 h-4 mr-2"}),"Profile"]}),a.jsxs("div",{className:"flex items-center space-x-2 text-tattoo-primary",children:[a.jsx(Jt,{className:"w-5 h-5"}),a.jsx("span",{className:"text-sm",children:"Client Portal"})]})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Tn,{className:"w-5 h-5 text-tattoo-primary"}),a.jsx(me,{className:"text-white",children:"Appointments"})]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>e("calendar"),className:"text-tattoo-primary hover:text-white",children:a.jsx(Ip,{className:"w-4 h-4"})})]})}),a.jsxs(oe,{children:[a.jsx("div",{className:"space-y-3",children:o.length>0?o.map(_=>a.jsx("div",{className:"border-l-2 border-tattoo-primary pl-3",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:_.type}),a.jsx("p",{className:"text-gray-300 text-sm",children:_.artist})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-tattoo-primary text-sm",children:_.date}),a.jsx("p",{className:"text-gray-400 text-xs",children:_.time})]})]})},_.id)):a.jsx("p",{className:"text-gray-400 text-sm",children:"No upcoming appointments"})}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>e("calendar"),className:"w-full mt-4 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"View All Appointments"})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Yh,{className:"w-5 h-5 text-tattoo-primary"}),a.jsx(me,{className:"text-white",children:"Artwork Status"})]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>e("artwork-log"),className:"text-tattoo-primary hover:text-white",children:a.jsx(Ip,{className:"w-4 h-4"})})]})}),a.jsxs(oe,{children:[a.jsx("div",{className:"space-y-4",children:c.length>0?c.map(_=>a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:_.name}),a.jsx("p",{className:"text-gray-300 text-sm",children:_.status})]}),a.jsxs("span",{className:"text-tattoo-primary text-sm",children:[_.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:a.jsx("div",{className:"bg-tattoo-primary h-2 rounded-full transition-all duration-300",style:{width:`${_.progress}%`}})})]},_.id)):a.jsx("p",{className:"text-gray-400 text-sm",children:"No artwork in progress"})}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>e("artwork-log"),className:"w-full mt-4 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"View Artwork Log"})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary lg:col-span-2 xl:col-span-1",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Lt,{className:"w-5 h-5 text-tattoo-primary"}),a.jsx(me,{className:"text-white",children:"Recent Messages"})]}),a.jsx(H,{variant:"ghost",size:"sm",onClick:()=>e("messaging"),className:"text-tattoo-primary hover:text-white",children:a.jsx(Ip,{className:"w-4 h-4"})})]})}),a.jsxs(oe,{children:[a.jsx("div",{className:"space-y-3",children:u.length>0?u.map(_=>a.jsx("div",{className:"border-l-2 border-tattoo-primary pl-3",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[a.jsx("p",{className:"text-white font-medium text-sm",children:_.from}),_.unread&&a.jsx("div",{className:"w-2 h-2 bg-tattoo-primary rounded-full"})]}),a.jsx("p",{className:"text-gray-300 text-sm line-clamp-2",children:_.preview})]}),a.jsx("span",{className:"text-gray-400 text-xs flex-shrink-0 ml-2",children:_.time})]})},_.id)):a.jsx("p",{className:"text-gray-400 text-sm",children:"No recent messages"})}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>e("messaging"),className:"w-full mt-4 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Open Messages"})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"Quick Actions"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(H,{onClick:()=>e("messaging"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 h-auto p-4",children:[a.jsx(Lt,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Send Message"}),a.jsx("div",{className:"text-sm opacity-80",children:"Contact your artist"})]})]}),a.jsxs(H,{onClick:()=>e("calendar"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark h-auto p-4",children:[a.jsx(Tn,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Schedule Appointment"}),a.jsx("div",{className:"text-sm opacity-80",children:"Book your next session"})]})]}),a.jsxs(H,{onClick:()=>e("artwork-log"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark h-auto p-4",children:[a.jsx(Yh,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"View Artwork"}),a.jsx("div",{className:"text-sm opacity-80",children:"Track your progress"})]})]}),a.jsxs(H,{onClick:()=>e("profile"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark h-auto p-4",children:[a.jsx(Ii,{className:"w-5 h-5 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium",children:"Edit Profile"}),a.jsx("div",{className:"text-sm opacity-80",children:"Update your information"})]})]})]})]})]})]}):a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-6xl mx-auto p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white",children:["Welcome, ",t.name,"!"]}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Choose your artist to get started"})]}),a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs(H,{onClick:()=>e("profile"),variant:"outline",size:"sm",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Ii,{className:"w-4 h-4 mr-2"}),"Profile"]})})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"Select Your Artist"}),a.jsx("p",{className:"text-gray-300",children:"Browse through our talented artists and choose the perfect match for your vision"})]}),n.length>0?a.jsxs("div",{className:"relative",children:[n.length>1&&a.jsxs(a.Fragment,{children:[a.jsx(H,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 bg-tattoo-dark border-tattoo-primary",onClick:v,children:a.jsx(ex,{className:"h-4 w-4"})}),a.jsx(H,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 bg-tattoo-dark border-tattoo-primary",onClick:x,children:a.jsx(tx,{className:"h-4 w-4"})})]}),a.jsxs(ie,{className:"mx-8 bg-tattoo-gray border-tattoo-primary",children:[a.jsxs(fe,{className:"text-center",children:[a.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-4 border-tattoo-primary",children:a.jsx("img",{src:n[s].profileImage,alt:n[s].name,className:"w-full h-full object-cover"})}),a.jsx(me,{className:"text-2xl text-white",children:n[s].name}),a.jsx(Ho,{className:"text-gray-300 text-base max-w-md mx-auto",children:n[s].bio})]}),a.jsxs(oe,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Portfolio Preview"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:n[s].gallery.slice(0,3).map((_,C)=>a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",children:a.jsx("img",{src:_,alt:`Portfolio ${C+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},C))})]}),n[s].socialMedia.instagram&&a.jsx("div",{className:"mb-6 text-center",children:a.jsxs("a",{href:`https://instagram.com/${n[s].socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-tattoo-primary hover:text-white transition-colors",children:[a.jsx(nx,{className:"w-4 h-4 mr-2"}),n[s].socialMedia.instagram]})}),a.jsx("div",{className:"text-center",children:a.jsxs(H,{onClick:()=>w(n[s]),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",size:"lg",children:[a.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Choose This Artist"]})})]})]}),n.length>1&&a.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:n.map((_,C)=>a.jsx("button",{className:`w-3 h-3 rounded-full transition-colors ${C===s?"bg-tattoo-primary":"bg-gray-600"}`,onClick:()=>i(C)},C))})]}):a.jsx("div",{className:"text-center text-white",children:a.jsx("p",{children:"No artists available at the moment. Please check back later."})})]})]})},Bz=({onSelectArtist:t,onViewArtist:e,onNavigate:n})=>{const[r,s]=N.useState(0),[i,o]=N.useState([]),[l,c]=N.useState(!0),{toast:d}=Bn();N.useEffect(()=>{u()},[]);const u=async()=>{try{const y=Ot(lt(ve,"artists"),Ye("is_available","==",!0)),g=await xt(y),w=await Promise.all(g.docs.map(async v=>{const x=v.data();let _="Unknown Artist",C="/placeholder.svg";if(x.profile_id){const M=await Dt(Be(ve,"profiles",x.profile_id));if(M.exists()){const R=M.data();_=R.full_name||_,C=R.profile_image||C}}return{id:v.id,name:_,bio:x.bio||"No bio available",profileImage:C,socialMedia:{instagram:x.instagram_handle},gallery:x.portfolio_images||["/placeholder.svg"]}}));o(w)}catch(y){console.error("Error fetching artists:",y),d({title:"Error",description:"Failed to load artists. Please try again.",variant:"destructive"})}finally{c(!1)}},m=i[r],h=()=>{s(y=>y>0?y-1:i.length-1)},p=()=>{s(y=>y<i.length-1?y+1:0)};return l?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading artists..."})}):i.length===0?a.jsx("div",{className:"min-h-screen bg-tattoo-dark",children:a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[a.jsxs(H,{onClick:()=>n("dashboard"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(i_,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),a.jsxs(H,{onClick:()=>n("calendar"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Calendar"]}),a.jsxs(H,{onClick:()=>n("artwork-log"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Yh,{className:"w-4 h-4 mr-2"}),"Artwork Log"]})]})}),a.jsx("div",{className:"flex items-center justify-center min-h-[400px]",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Artists Available"}),a.jsx("p",{className:"mb-6",children:"Please check back later for available artists."}),a.jsx(H,{onClick:()=>n("dashboard"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Go to Dashboard"})]})})]})}):a.jsx("div",{className:"min-h-screen bg-tattoo-dark p-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center",children:[a.jsxs(H,{onClick:()=>n("dashboard"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(i_,{className:"w-4 h-4 mr-2"}),"Dashboard"]}),a.jsxs(H,{onClick:()=>n("calendar"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Calendar"]}),a.jsxs(H,{onClick:()=>n("artwork-log"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Yh,{className:"w-4 h-4 mr-2"}),"Artwork Log"]})]})}),a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("h1",{className:"text-4xl font-bold gradient-text mb-4",children:"Discover Your Artist"}),a.jsx("p",{className:"text-gray-300 text-lg",children:"Browse through our talented artists and find the perfect match for your vision"})]}),a.jsxs("div",{className:"relative",children:[a.jsx(H,{variant:"outline",size:"icon",className:"absolute left-4 top-1/2 transform -translate-y-1/2 z-10 bg-tattoo-dark border-tattoo-primary",onClick:h,children:a.jsx(ex,{className:"h-4 w-4"})}),a.jsx(H,{variant:"outline",size:"icon",className:"absolute right-4 top-1/2 transform -translate-y-1/2 z-10 bg-tattoo-dark border-tattoo-primary",onClick:p,children:a.jsx(tx,{className:"h-4 w-4"})}),a.jsxs(ie,{className:"mx-8 bg-tattoo-gray border-tattoo-primary",children:[a.jsxs(fe,{className:"text-center",children:[a.jsx("div",{className:"w-32 h-32 mx-auto mb-4 rounded-full overflow-hidden border-4 border-tattoo-primary",children:a.jsx("img",{src:m.profileImage,alt:m.name,className:"w-full h-full object-cover"})}),a.jsx(me,{className:"text-2xl text-white",children:m.name}),a.jsx(Ho,{className:"text-gray-300 text-base max-w-md mx-auto",children:m.bio})]}),a.jsxs(oe,{children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"Portfolio Preview"}),a.jsx("div",{className:"grid grid-cols-3 gap-2",children:m.gallery.slice(0,3).map((y,g)=>a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden",children:a.jsx("img",{src:y,alt:`Portfolio ${g+1}`,className:"w-full h-full object-cover hover:scale-105 transition-transform cursor-pointer"})},g))})]}),m.socialMedia.instagram&&a.jsx("div",{className:"mb-6 text-center",children:a.jsxs("a",{href:`https://instagram.com/${m.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-tattoo-primary hover:text-white transition-colors",children:[a.jsx(nx,{className:"w-4 h-4 mr-2"}),m.socialMedia.instagram]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(H,{onClick:()=>e(m),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"View Full Profile"}),a.jsxs(H,{onClick:()=>t(m),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Choose This Artist"]})]})]})]}),a.jsx("div",{className:"flex justify-center mt-6 space-x-2",children:i.map((y,g)=>a.jsx("button",{className:`w-3 h-3 rounded-full transition-colors ${g===r?"bg-tattoo-primary":"bg-gray-600"}`,onClick:()=>s(g)},g))})]})]})})},zz=({artist:t,onSelectArtist:e,onBack:n})=>t?a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:a.jsxs(H,{variant:"ghost",onClick:n,className:"text-tattoo-primary hover:text-white mb-4",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Artist Discovery"]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[a.jsx(ie,{className:"mb-8 bg-tattoo-gray border-tattoo-primary",children:a.jsx(fe,{children:a.jsxs("div",{className:"flex flex-col md:flex-row items-center md:items-start space-y-4 md:space-y-0 md:space-x-6",children:[a.jsx("div",{className:"w-40 h-40 rounded-full overflow-hidden border-4 border-tattoo-primary flex-shrink-0",children:a.jsx("img",{src:t.profileImage,alt:t.name,className:"w-full h-full object-cover"})}),a.jsxs("div",{className:"text-center md:text-left flex-1",children:[a.jsx(me,{className:"text-3xl text-white mb-2",children:t.name}),a.jsx(Ho,{className:"text-gray-300 text-lg mb-4 max-w-2xl",children:t.bio}),a.jsx("div",{className:"flex justify-center md:justify-start space-x-4 mb-4",children:t.socialMedia.instagram&&a.jsxs("a",{href:`https://instagram.com/${t.socialMedia.instagram.replace("@","")}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-tattoo-primary hover:text-white transition-colors",children:[a.jsx(nx,{className:"w-5 h-5 mr-2"}),t.socialMedia.instagram,a.jsx(VT,{className:"w-3 h-3 ml-1"})]})}),a.jsxs(H,{onClick:()=>e(t),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",size:"lg",children:[a.jsx(Lt,{className:"w-5 h-5 mr-2"}),"Start Consultation"]})]})]})})}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-2xl text-white",children:"Portfolio Gallery"}),a.jsxs(Ho,{className:"text-gray-300",children:["Explore ",t.name,"'s work and artistic style"]})]}),a.jsxs(oe,{children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.gallery.map((r,s)=>a.jsx("div",{className:"group aspect-square rounded-lg overflow-hidden border border-tattoo-primary/30 hover:border-tattoo-primary transition-colors cursor-pointer",children:a.jsx("img",{src:r,alt:`Portfolio piece ${s+1}`,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})},s))}),a.jsxs("div",{className:"mt-8 text-center",children:[a.jsx("p",{className:"text-gray-300 mb-4",children:"Interested in a specific piece or style? Click on any artwork above and then:"}),a.jsx(H,{onClick:()=>e(t),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Discuss This Artwork"})]})]})]})]})]}):null,$z=({clientId:t,artistId:e,onBack:n})=>{const[r,s]=N.useState(""),[i,o]=N.useState("artwork"),[l,c]=N.useState([]),[d,u]=N.useState(""),[m,h]=N.useState(!0),{user:p}=Cn(),{toast:y}=Bn();N.useEffect(()=>{e&&(w(),g())},[e]);const g=async()=>{if(e)try{const _=Be(ve,"artists",e),C=await Dt(_);if(!C.exists())throw new Error("Artist not found");const M=C.data(),R=M.profileId||M.profile_id;if(!R)throw new Error("Artist profile not found");const k=Be(ve,"profiles",R),b=await Dt(k);u(b.exists()&&b.data().full_name||"Unknown Artist")}catch(_){console.error("Error fetching artist info:",_),y({title:"Error",description:"Failed to load artist information",variant:"destructive"})}},w=async()=>{if(!(!e||!p)){h(!0);try{const _=Be(ve,"artists",e),C=await Dt(_);if(!C.exists())throw new Error("Artist not found");const M=C.data(),R=M.profileId||M.profile_id;if(!R)throw new Error("Artist profile not found");const k=lt(ve,"messages"),b=Ot(k,Ye("participants","array-contains",p.id),zs("created_at","asc")),A=(await xt(b)).docs.filter(P=>{const j=P.data();return j.sender_id===p.id&&j.recipient_id===R||j.sender_id===R&&j.recipient_id===p.id}).map(P=>{var V;const j=P.data();return{id:P.id,from:j.sender_id===p.id?"client":"artist",content:j.content,timestamp:(V=j.created_at)!=null&&V.toDate?j.created_at.toDate().toISOString():j.created_at,type:j.message_type||"text",sender_name:j.sender_name||(j.sender_id===p.id?"You":d||"Unknown")}});c(A)}catch(_){console.error("Error fetching messages:",_),y({title:"Error",description:"Failed to load messages",variant:"destructive"})}finally{h(!1)}}},v=async()=>{var _;if(!(!r.trim()||!e||!p))try{const C=Be(ve,"artists",e),M=await Dt(C);if(!M.exists())throw new Error("Artist not found");const R=M.data(),k=R.profileId||R.profile_id;if(!k)throw new Error("Artist profile not found");const b=await s7(lt(ve,"messages"),{sender_id:p.id,recipient_id:k,content:r,message_type:i==="artwork"?"text":i,created_at:o7(),participants:[p.id,k],sender_name:p.profile.full_name||"You"}),S=(await Dt(b)).data(),A={id:b.id,from:"client",content:(S==null?void 0:S.content)||r,timestamp:(_=S==null?void 0:S.created_at)!=null&&_.toDate?S.created_at.toDate().toISOString():new Date().toISOString(),type:(S==null?void 0:S.message_type)||"text",sender_name:(S==null?void 0:S.sender_name)||"You"};c(P=>[...P,A]),s(""),y({title:"Success",description:"Message sent successfully"})}catch(C){console.error("Error sending message:",C),y({title:"Error",description:"Failed to send message",variant:"destructive"})}},x={artwork:"Hi! I'd like to discuss the artwork design...",appointment:"Hi! I'd like to schedule an appointment...",payment:"Hi! I have a question about payment..."};return e?m?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading messages..."})}):a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-4xl mx-auto p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:n,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back"]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-tattoo-primary rounded-full flex items-center justify-center",children:a.jsx(Jt,{className:"w-5 h-5 text-tattoo-dark"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-xl font-bold text-white",children:d}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Your Artist"})]})]})]})})})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[a.jsxs(ie,{className:"mb-4 bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white text-lg",children:"Message Context"})}),a.jsx(oe,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(H,{variant:i==="artwork"?"default":"outline",size:"sm",onClick:()=>o("artwork"),className:i==="artwork"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Artwork Discussion"]}),a.jsxs(H,{variant:i==="appointment"?"default":"outline",size:"sm",onClick:()=>o("appointment"),className:i==="appointment"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Appointment"]}),a.jsx(H,{variant:i==="payment"?"default":"outline",size:"sm",onClick:()=>o("payment"),className:i==="payment"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Payment Inquiry"})]})})]}),a.jsx(ie,{className:"mb-4 bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-0",children:a.jsx("div",{className:"max-h-96 overflow-y-auto p-4 space-y-4",children:l.length>0?l.map(_=>a.jsx("div",{className:`flex ${_.from==="client"?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-sm p-3 rounded-lg ${_.from==="client"?"bg-tattoo-primary text-tattoo-dark":"bg-gray-700 text-white"}`,children:[a.jsx("p",{className:"text-sm",children:_.content}),a.jsx("p",{className:`text-xs mt-1 ${_.from==="client"?"text-tattoo-dark/70":"text-gray-400"}`,children:new Date(_.timestamp).toLocaleString()}),_.type!=="text"&&a.jsx("div",{className:"mt-2 pt-2 border-t border-gray-600",children:a.jsxs("div",{className:"flex items-center text-xs",children:[_.type==="appointment"&&a.jsx(Tn,{className:"w-3 h-3 mr-1"}),_.type==="appointment"?"Appointment Request":"Payment Inquiry"]})})]})},_.id)):a.jsxs("div",{className:"text-center text-gray-400 py-8",children:[a.jsx(Lt,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"No messages yet. Start the conversation!"})]})})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-4",children:a.jsxs("div",{className:"space-y-4",children:[a.jsx(Dm,{placeholder:x[i],value:r,onChange:_=>s(_.target.value),className:"bg-tattoo-dark border-tattoo-primary text-white placeholder-gray-400",rows:3,onKeyPress:_=>{_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),v())}}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-gray-400 text-sm",children:["Context: ",i.charAt(0).toUpperCase()+i.slice(1)]}),a.jsxs(H,{onClick:v,disabled:!r.trim(),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(sx,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})})})]})]}):a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"No Artist Selected"}),a.jsx("p",{className:"mb-6",children:"Please select an artist first to start messaging."}),a.jsx(H,{onClick:n,className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Go Back"})]})})};function $e(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function pr(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function On(t,e){const n=$e(t);return isNaN(e)?pr(t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Wr(t,e){const n=$e(t);if(isNaN(e))return pr(t,NaN);if(!e)return n;const r=n.getDate(),s=pr(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const i=s.getDate();return r>=i?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}const O0=6048e5,Wz=864e5;let Hz={};function Qu(){return Hz}function ms(t,e){var l,c,d,u;const n=Qu(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=$e(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Go(t){return ms(t,{weekStartsOn:1})}function gj(t){const e=$e(t),n=e.getFullYear(),r=pr(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Go(r),i=pr(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Go(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function xl(t){const e=$e(t);return e.setHours(0,0,0,0),e}function Sf(t){const e=$e(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function ss(t,e){const n=xl(t),r=xl(e),s=+n-Sf(n),i=+r-Sf(r);return Math.round((s-i)/Wz)}function qz(t){const e=gj(t),n=pr(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Go(n)}function Ky(t,e){const n=e*7;return On(t,n)}function Gz(t,e){return Wr(t,e*12)}function Kz(t){let e;return t.forEach(function(n){const r=$e(n);(e===void 0||e<r||isNaN(Number(r)))&&(e=r)}),e||new Date(NaN)}function Qz(t){let e;return t.forEach(n=>{const r=$e(n);(!e||e>r||isNaN(+r))&&(e=r)}),e||new Date(NaN)}function Qn(t,e){const n=xl(t),r=xl(e);return+n==+r}function L0(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yz(t){if(!L0(t)&&typeof t!="number")return!1;const e=$e(t);return!isNaN(Number(e))}function xu(t,e){const n=$e(t),r=$e(e),s=n.getFullYear()-r.getFullYear(),i=n.getMonth()-r.getMonth();return s*12+i}function Xz(t,e,n){const r=ms(t,n),s=ms(e,n),i=+r-Sf(r),o=+s-Sf(s);return Math.round((i-o)/O0)}function F0(t){const e=$e(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function Zn(t){const e=$e(t);return e.setDate(1),e.setHours(0,0,0,0),e}function yj(t){const e=$e(t),n=pr(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}function V0(t,e){var l,c,d,u;const n=Qu(),r=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??0,s=$e(t),i=s.getDay(),o=(i<r?-7:0)+6-(i-r);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}function vj(t){return V0(t,{weekStartsOn:1})}const Jz={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Zz=(t,e,n)=>{let r;const s=Jz[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function ng(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const e$={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},t$={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},n$={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},r$={date:ng({formats:e$,defaultWidth:"full"}),time:ng({formats:t$,defaultWidth:"full"}),dateTime:ng({formats:n$,defaultWidth:"full"})},s$={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},i$=(t,e,n,r)=>s$[t];function oc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const o$={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},a$={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},l$={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},c$={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},u$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},d$={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},h$=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},f$={ordinalNumber:h$,era:oc({values:o$,defaultWidth:"wide"}),quarter:oc({values:a$,defaultWidth:"wide",argumentCallback:t=>t-1}),month:oc({values:l$,defaultWidth:"wide"}),day:oc({values:c$,defaultWidth:"wide"}),dayPeriod:oc({values:u$,defaultWidth:"wide",formattingValues:d$,defaultFormattingWidth:"wide"})};function ac(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?p$(l,m=>m.test(o)):m$(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const u=e.slice(o.length);return{value:d,rest:u}}}function m$(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function p$(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function g$(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const y$=/^(\d+)(th|st|nd|rd)?/i,v$=/\d+/i,x$={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},w$={any:[/^b/i,/^(a|c)/i]},_$={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},b$={any:[/1/i,/2/i,/3/i,/4/i]},E$={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},N$={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},T$={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},S$={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},C$={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},k$={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},I$={ordinalNumber:g$({matchPattern:y$,parsePattern:v$,valueCallback:t=>parseInt(t,10)}),era:ac({matchPatterns:x$,defaultMatchWidth:"wide",parsePatterns:w$,defaultParseWidth:"any"}),quarter:ac({matchPatterns:_$,defaultMatchWidth:"wide",parsePatterns:b$,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ac({matchPatterns:E$,defaultMatchWidth:"wide",parsePatterns:N$,defaultParseWidth:"any"}),day:ac({matchPatterns:T$,defaultMatchWidth:"wide",parsePatterns:S$,defaultParseWidth:"any"}),dayPeriod:ac({matchPatterns:C$,defaultMatchWidth:"any",parsePatterns:k$,defaultParseWidth:"any"})},xj={code:"en-US",formatDistance:Zz,formatLong:r$,formatRelative:i$,localize:f$,match:I$,options:{weekStartsOn:0,firstWeekContainsDate:1}};function j$(t){const e=$e(t);return ss(e,yj(e))+1}function wj(t){const e=$e(t),n=+Go(e)-+qz(e);return Math.round(n/O0)+1}function _j(t,e){var u,m,h,p;const n=$e(t),r=n.getFullYear(),s=Qu(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(u=e==null?void 0:e.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=pr(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=ms(o,e),c=pr(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ms(c,e);return n.getTime()>=l.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function A$(t,e){var l,c,d,u;const n=Qu(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((u=(d=n.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??1,s=_j(t,e),i=pr(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ms(i,e)}function bj(t,e){const n=$e(t),r=+ms(n,e)-+A$(n,e);return Math.round(r/O0)+1}function et(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Zs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return et(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):et(n+1,2)},d(t,e){return et(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return et(t.getHours()%12||12,e.length)},H(t,e){return et(t.getHours(),e.length)},m(t,e){return et(t.getMinutes(),e.length)},s(t,e){return et(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return et(s,e.length)}},ma={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Zs.y(t,e)},Y:function(t,e,n,r){const s=_j(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return et(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):et(i,e.length)},R:function(t,e){const n=gj(t);return et(n,e.length)},u:function(t,e){const n=t.getFullYear();return et(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return et(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return et(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Zs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return et(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=bj(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):et(s,e.length)},I:function(t,e,n){const r=wj(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):et(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Zs.d(t,e)},D:function(t,e,n){const r=j$(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):et(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return et(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return et(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return et(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ma.noon:r===0?s=ma.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ma.evening:r>=12?s=ma.afternoon:r>=4?s=ma.morning:s=ma.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Zs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Zs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):et(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):et(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Zs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Zs.s(t,e)},S:function(t,e){return Zs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return IE(r);case"XXXX":case"XX":return po(r);case"XXXXX":case"XXX":default:return po(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return IE(r);case"xxxx":case"xx":return po(r);case"xxxxx":case"xxx":default:return po(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+kE(r,":");case"OOOO":default:return"GMT"+po(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+kE(r,":");case"zzzz":default:return"GMT"+po(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return et(r,e.length)},T:function(t,e,n){const r=t.getTime();return et(r,e.length)}};function kE(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+et(i,2)}function IE(t,e){return t%60===0?(t>0?"-":"+")+et(Math.abs(t)/60,2):po(t,e)}function po(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=et(Math.trunc(r/60),2),i=et(r%60,2);return n+s+e+i}const jE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Ej=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},P$=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return jE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",jE(r,e)).replace("{{time}}",Ej(s,e))},R$={p:Ej,P:P$},D$=/^D+$/,M$=/^Y+$/,O$=["D","DD","YY","YYYY"];function L$(t){return D$.test(t)}function F$(t){return M$.test(t)}function V$(t,e,n){const r=U$(t,e,n);if(console.warn(r),O$.includes(t))throw new RangeError(r)}function U$(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const B$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,z$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$$=/^'([^]*?)'?$/,W$=/''/g,H$=/[a-zA-Z]/;function ia(t,e,n){var u,m,h,p,y,g,w,v;const r=Qu(),s=(n==null?void 0:n.locale)??r.locale??xj,i=(n==null?void 0:n.firstWeekContainsDate)??((m=(u=n==null?void 0:n.locale)==null?void 0:u.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=(n==null?void 0:n.weekStartsOn)??((g=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:g.weekStartsOn)??r.weekStartsOn??((v=(w=r.locale)==null?void 0:w.options)==null?void 0:v.weekStartsOn)??0,l=$e(t);if(!Yz(l))throw new RangeError("Invalid time value");let c=e.match(z$).map(x=>{const _=x[0];if(_==="p"||_==="P"){const C=R$[_];return C(x,s.formatLong)}return x}).join("").match(B$).map(x=>{if(x==="''")return{isToken:!1,value:"'"};const _=x[0];if(_==="'")return{isToken:!1,value:q$(x)};if(CE[_])return{isToken:!0,value:x};if(_.match(H$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+_+"`");return{isToken:!1,value:x}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(x=>{if(!x.isToken)return x.value;const _=x.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&F$(_)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&L$(_))&&V$(_,e,String(t));const C=CE[_[0]];return C(l,_,s.localize,d)}).join("")}function q$(t){const e=t.match($$);return e?e[1].replace(W$,"'"):t}function G$(t){const e=$e(t),n=e.getFullYear(),r=e.getMonth(),s=pr(t,0);return s.setFullYear(n,r+1,0),s.setHours(0,0,0,0),s.getDate()}function K$(t){return Math.trunc(+$e(t)/1e3)}function Q$(t){const e=$e(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function Y$(t,e){return Xz(Q$(t),Zn(t),e)+1}function Qy(t,e){const n=$e(t),r=$e(e);return n.getTime()>r.getTime()}function Nj(t,e){const n=$e(t),r=$e(e);return+n<+r}function U0(t,e){const n=$e(t),r=$e(e);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function X$(t,e){const n=$e(t),r=$e(e);return n.getFullYear()===r.getFullYear()}function rg(t,e){return On(t,-e)}function sg(t,e){const n=$e(t),r=n.getFullYear(),s=n.getDate(),i=pr(t,0);i.setFullYear(r,e,15),i.setHours(0,0,0,0);const o=G$(i);return n.setMonth(e,Math.min(s,o)),n}function AE(t,e){const n=$e(t);return isNaN(+n)?pr(t,NaN):(n.setFullYear(e),n)}var be=function(){return be=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},be.apply(this,arguments)};function J$(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function Tj(t,e,n){for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}function Yu(t){return t.mode==="multiple"}function Xu(t){return t.mode==="range"}function Om(t){return t.mode==="single"}var Z$={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function eW(t,e){return ia(t,"LLLL y",e)}function tW(t,e){return ia(t,"d",e)}function nW(t,e){return ia(t,"LLLL",e)}function rW(t){return"".concat(t)}function sW(t,e){return ia(t,"cccccc",e)}function iW(t,e){return ia(t,"yyyy",e)}var oW=Object.freeze({__proto__:null,formatCaption:eW,formatDay:tW,formatMonthCaption:nW,formatWeekNumber:rW,formatWeekdayName:sW,formatYearCaption:iW}),aW=function(t,e,n){return ia(t,"do MMMM (EEEE)",n)},lW=function(){return"Month: "},cW=function(){return"Go to next month"},uW=function(){return"Go to previous month"},dW=function(t,e){return ia(t,"cccc",e)},hW=function(t){return"Week n. ".concat(t)},fW=function(){return"Year: "},mW=Object.freeze({__proto__:null,labelDay:aW,labelMonthDropdown:lW,labelNext:cW,labelPrevious:uW,labelWeekNumber:hW,labelWeekday:dW,labelYearDropdown:fW});function pW(){var t="buttons",e=Z$,n=xj,r={},s={},i=1,o={},l=new Date;return{captionLayout:t,classNames:e,formatters:oW,labels:mW,locale:n,modifiersClassNames:r,modifiers:s,numberOfMonths:i,styles:o,today:l,mode:"default"}}function gW(t){var e=t.fromYear,n=t.toYear,r=t.fromMonth,s=t.toMonth,i=t.fromDate,o=t.toDate;return r?i=Zn(r):e&&(i=new Date(e,0,1)),s?o=F0(s):n&&(o=new Date(n,11,31)),{fromDate:i?xl(i):void 0,toDate:o?xl(o):void 0}}var Sj=N.createContext(void 0);function yW(t){var e,n=t.initialProps,r=pW(),s=gW(n),i=s.fromDate,o=s.toDate,l=(e=n.captionLayout)!==null&&e!==void 0?e:r.captionLayout;l!=="buttons"&&(!i||!o)&&(l="buttons");var c;(Om(n)||Yu(n)||Xu(n))&&(c=n.onSelect);var d=be(be(be({},r),n),{captionLayout:l,classNames:be(be({},r.classNames),n.classNames),components:be({},n.components),formatters:be(be({},r.formatters),n.formatters),fromDate:i,labels:be(be({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:be(be({},r.modifiers),n.modifiers),modifiersClassNames:be(be({},r.modifiersClassNames),n.modifiersClassNames),onSelect:c,styles:be(be({},r.styles),n.styles),toDate:o});return a.jsx(Sj.Provider,{value:d,children:t.children})}function ut(){var t=N.useContext(Sj);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function Cj(t){var e=ut(),n=e.locale,r=e.classNames,s=e.styles,i=e.formatters.formatCaption;return a.jsx("div",{className:r.caption_label,style:s.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:i(t.displayMonth,{locale:n})})}function vW(t){return a.jsx("svg",be({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:a.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function kj(t){var e,n,r=t.onChange,s=t.value,i=t.children,o=t.caption,l=t.className,c=t.style,d=ut(),u=(n=(e=d.components)===null||e===void 0?void 0:e.IconDropdown)!==null&&n!==void 0?n:vW;return a.jsxs("div",{className:l,style:c,children:[a.jsx("span",{className:d.classNames.vhidden,children:t["aria-label"]}),a.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:s,onChange:r,children:i}),a.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[o,a.jsx(u,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function xW(t){var e,n=ut(),r=n.fromDate,s=n.toDate,i=n.styles,o=n.locale,l=n.formatters.formatMonthCaption,c=n.classNames,d=n.components,u=n.labels.labelMonthDropdown;if(!r)return a.jsx(a.Fragment,{});if(!s)return a.jsx(a.Fragment,{});var m=[];if(X$(r,s))for(var h=Zn(r),p=r.getMonth();p<=s.getMonth();p++)m.push(sg(h,p));else for(var h=Zn(new Date),p=0;p<=11;p++)m.push(sg(h,p));var y=function(w){var v=Number(w.target.value),x=sg(Zn(t.displayMonth),v);t.onChange(x)},g=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:kj;return a.jsx(g,{name:"months","aria-label":u(),className:c.dropdown_month,style:i.dropdown_month,onChange:y,value:t.displayMonth.getMonth(),caption:l(t.displayMonth,{locale:o}),children:m.map(function(w){return a.jsx("option",{value:w.getMonth(),children:l(w,{locale:o})},w.getMonth())})})}function wW(t){var e,n=t.displayMonth,r=ut(),s=r.fromDate,i=r.toDate,o=r.locale,l=r.styles,c=r.classNames,d=r.components,u=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,h=[];if(!s)return a.jsx(a.Fragment,{});if(!i)return a.jsx(a.Fragment,{});for(var p=s.getFullYear(),y=i.getFullYear(),g=p;g<=y;g++)h.push(AE(yj(new Date),g));var w=function(x){var _=AE(Zn(n),Number(x.target.value));t.onChange(_)},v=(e=d==null?void 0:d.Dropdown)!==null&&e!==void 0?e:kj;return a.jsx(v,{name:"years","aria-label":m(),className:c.dropdown_year,style:l.dropdown_year,onChange:w,value:n.getFullYear(),caption:u(n,{locale:o}),children:h.map(function(x){return a.jsx("option",{value:x.getFullYear(),children:u(x,{locale:o})},x.getFullYear())})})}function _W(t,e){var n=N.useState(t),r=n[0],s=n[1],i=e===void 0?r:e;return[i,s]}function bW(t){var e=t.month,n=t.defaultMonth,r=t.today,s=e||n||r||new Date,i=t.toDate,o=t.fromDate,l=t.numberOfMonths,c=l===void 0?1:l;if(i&&xu(i,s)<0){var d=-1*(c-1);s=Wr(i,d)}return o&&xu(s,o)<0&&(s=o),Zn(s)}function EW(){var t=ut(),e=bW(t),n=_W(e,t.month),r=n[0],s=n[1],i=function(o){var l;if(!t.disableNavigation){var c=Zn(o);s(c),(l=t.onMonthChange)===null||l===void 0||l.call(t,c)}};return[r,i]}function NW(t,e){for(var n=e.reverseMonths,r=e.numberOfMonths,s=Zn(t),i=Zn(Wr(s,r)),o=xu(i,s),l=[],c=0;c<o;c++){var d=Wr(s,c);l.push(d)}return n&&(l=l.reverse()),l}function TW(t,e){if(!e.disableNavigation){var n=e.toDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,l=Zn(t);if(!n)return Wr(l,o);var c=xu(n,t);if(!(c<i))return Wr(l,o)}}function SW(t,e){if(!e.disableNavigation){var n=e.fromDate,r=e.pagedNavigation,s=e.numberOfMonths,i=s===void 0?1:s,o=r?i:1,l=Zn(t);if(!n)return Wr(l,-o);var c=xu(l,n);if(!(c<=0))return Wr(l,-o)}}var Ij=N.createContext(void 0);function CW(t){var e=ut(),n=EW(),r=n[0],s=n[1],i=NW(r,e),o=TW(r,e),l=SW(r,e),c=function(m){return i.some(function(h){return U0(m,h)})},d=function(m,h){c(m)||(h&&Nj(m,h)?s(Wr(m,1+e.numberOfMonths*-1)):s(m))},u={currentMonth:r,displayMonths:i,goToMonth:s,goToDate:d,previousMonth:l,nextMonth:o,isDateDisplayed:c};return a.jsx(Ij.Provider,{value:u,children:t.children})}function Ju(){var t=N.useContext(Ij);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function PE(t){var e,n=ut(),r=n.classNames,s=n.styles,i=n.components,o=Ju().goToMonth,l=function(u){o(Wr(u,t.displayIndex?-t.displayIndex:0))},c=(e=i==null?void 0:i.CaptionLabel)!==null&&e!==void 0?e:Cj,d=a.jsx(c,{id:t.id,displayMonth:t.displayMonth});return a.jsxs("div",{className:r.caption_dropdowns,style:s.caption_dropdowns,children:[a.jsx("div",{className:r.vhidden,children:d}),a.jsx(xW,{onChange:l,displayMonth:t.displayMonth}),a.jsx(wW,{onChange:l,displayMonth:t.displayMonth})]})}function kW(t){return a.jsx("svg",be({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function IW(t){return a.jsx("svg",be({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:a.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Cf=N.forwardRef(function(t,e){var n=ut(),r=n.classNames,s=n.styles,i=[r.button_reset,r.button];t.className&&i.push(t.className);var o=i.join(" "),l=be(be({},s.button_reset),s.button);return t.style&&Object.assign(l,t.style),a.jsx("button",be({},t,{ref:e,type:"button",className:o,style:l}))});function jW(t){var e,n,r=ut(),s=r.dir,i=r.locale,o=r.classNames,l=r.styles,c=r.labels,d=c.labelPrevious,u=c.labelNext,m=r.components;if(!t.nextMonth&&!t.previousMonth)return a.jsx(a.Fragment,{});var h=d(t.previousMonth,{locale:i}),p=[o.nav_button,o.nav_button_previous].join(" "),y=u(t.nextMonth,{locale:i}),g=[o.nav_button,o.nav_button_next].join(" "),w=(e=m==null?void 0:m.IconRight)!==null&&e!==void 0?e:IW,v=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:kW;return a.jsxs("div",{className:o.nav,style:l.nav,children:[!t.hidePrevious&&a.jsx(Cf,{name:"previous-month","aria-label":h,className:p,style:l.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:s==="rtl"?a.jsx(w,{className:o.nav_icon,style:l.nav_icon}):a.jsx(v,{className:o.nav_icon,style:l.nav_icon})}),!t.hideNext&&a.jsx(Cf,{name:"next-month","aria-label":y,className:g,style:l.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:s==="rtl"?a.jsx(v,{className:o.nav_icon,style:l.nav_icon}):a.jsx(w,{className:o.nav_icon,style:l.nav_icon})})]})}function RE(t){var e=ut().numberOfMonths,n=Ju(),r=n.previousMonth,s=n.nextMonth,i=n.goToMonth,o=n.displayMonths,l=o.findIndex(function(y){return U0(t.displayMonth,y)}),c=l===0,d=l===o.length-1,u=e>1&&(c||!d),m=e>1&&(d||!c),h=function(){r&&i(r)},p=function(){s&&i(s)};return a.jsx(jW,{displayMonth:t.displayMonth,hideNext:u,hidePrevious:m,nextMonth:s,previousMonth:r,onPreviousClick:h,onNextClick:p})}function AW(t){var e,n=ut(),r=n.classNames,s=n.disableNavigation,i=n.styles,o=n.captionLayout,l=n.components,c=(e=l==null?void 0:l.CaptionLabel)!==null&&e!==void 0?e:Cj,d;return s?d=a.jsx(c,{id:t.id,displayMonth:t.displayMonth}):o==="dropdown"?d=a.jsx(PE,{displayMonth:t.displayMonth,id:t.id}):o==="dropdown-buttons"?d=a.jsxs(a.Fragment,{children:[a.jsx(PE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),a.jsx(RE,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):d=a.jsxs(a.Fragment,{children:[a.jsx(c,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(RE,{displayMonth:t.displayMonth,id:t.id})]}),a.jsx("div",{className:r.caption,style:i.caption,children:d})}function PW(t){var e=ut(),n=e.footer,r=e.styles,s=e.classNames.tfoot;return n?a.jsx("tfoot",{className:s,style:r.tfoot,children:a.jsx("tr",{children:a.jsx("td",{colSpan:8,children:n})})}):a.jsx(a.Fragment,{})}function RW(t,e,n){for(var r=n?Go(new Date):ms(new Date,{locale:t,weekStartsOn:e}),s=[],i=0;i<7;i++){var o=On(r,i);s.push(o)}return s}function DW(){var t=ut(),e=t.classNames,n=t.styles,r=t.showWeekNumber,s=t.locale,i=t.weekStartsOn,o=t.ISOWeek,l=t.formatters.formatWeekdayName,c=t.labels.labelWeekday,d=RW(s,i,o);return a.jsxs("tr",{style:n.head_row,className:e.head_row,children:[r&&a.jsx("td",{style:n.head_cell,className:e.head_cell}),d.map(function(u,m){return a.jsx("th",{scope:"col",className:e.head_cell,style:n.head_cell,"aria-label":c(u,{locale:s}),children:l(u,{locale:s})},m)})]})}function MW(){var t,e=ut(),n=e.classNames,r=e.styles,s=e.components,i=(t=s==null?void 0:s.HeadRow)!==null&&t!==void 0?t:DW;return a.jsx("thead",{style:r.head,className:n.head,children:a.jsx(i,{})})}function OW(t){var e=ut(),n=e.locale,r=e.formatters.formatDay;return a.jsx(a.Fragment,{children:r(t.date,{locale:n})})}var B0=N.createContext(void 0);function LW(t){if(!Yu(t.initialProps)){var e={selected:void 0,modifiers:{disabled:[]}};return a.jsx(B0.Provider,{value:e,children:t.children})}return a.jsx(FW,{initialProps:t.initialProps,children:t.children})}function FW(t){var e=t.initialProps,n=t.children,r=e.selected,s=e.min,i=e.max,o=function(d,u,m){var h,p;(h=e.onDayClick)===null||h===void 0||h.call(e,d,u,m);var y=!!(u.selected&&s&&(r==null?void 0:r.length)===s);if(!y){var g=!!(!u.selected&&i&&(r==null?void 0:r.length)===i);if(!g){var w=r?Tj([],r):[];if(u.selected){var v=w.findIndex(function(x){return Qn(d,x)});w.splice(v,1)}else w.push(d);(p=e.onSelect)===null||p===void 0||p.call(e,w,d,u,m)}}},l={disabled:[]};r&&l.disabled.push(function(d){var u=i&&r.length>i-1,m=r.some(function(h){return Qn(h,d)});return!!(u&&!m)});var c={selected:r,onDayClick:o,modifiers:l};return a.jsx(B0.Provider,{value:c,children:n})}function z0(){var t=N.useContext(B0);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function VW(t,e){var n=e||{},r=n.from,s=n.to;return r&&s?Qn(s,t)&&Qn(r,t)?void 0:Qn(s,t)?{from:s,to:void 0}:Qn(r,t)?void 0:Qy(r,t)?{from:t,to:s}:{from:r,to:t}:s?Qy(t,s)?{from:s,to:t}:{from:t,to:s}:r?Nj(t,r)?{from:t,to:r}:{from:r,to:t}:{from:t,to:void 0}}var $0=N.createContext(void 0);function UW(t){if(!Xu(t.initialProps)){var e={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return a.jsx($0.Provider,{value:e,children:t.children})}return a.jsx(BW,{initialProps:t.initialProps,children:t.children})}function BW(t){var e=t.initialProps,n=t.children,r=e.selected,s=r||{},i=s.from,o=s.to,l=e.min,c=e.max,d=function(p,y,g){var w,v;(w=e.onDayClick)===null||w===void 0||w.call(e,p,y,g);var x=VW(p,r);(v=e.onSelect)===null||v===void 0||v.call(e,x,p,y,g)},u={range_start:[],range_end:[],range_middle:[],disabled:[]};if(i?(u.range_start=[i],o?(u.range_end=[o],Qn(i,o)||(u.range_middle=[{after:i,before:o}])):u.range_end=[i]):o&&(u.range_start=[o],u.range_end=[o]),l&&(i&&!o&&u.disabled.push({after:rg(i,l-1),before:On(i,l-1)}),i&&o&&u.disabled.push({after:i,before:On(i,l-1)}),!i&&o&&u.disabled.push({after:rg(o,l-1),before:On(o,l-1)})),c){if(i&&!o&&(u.disabled.push({before:On(i,-c+1)}),u.disabled.push({after:On(i,c-1)})),i&&o){var m=ss(o,i)+1,h=c-m;u.disabled.push({before:rg(i,h)}),u.disabled.push({after:On(o,h)})}!i&&o&&(u.disabled.push({before:On(o,-c+1)}),u.disabled.push({after:On(o,c-1)}))}return a.jsx($0.Provider,{value:{selected:r,onDayClick:d,modifiers:u},children:n})}function W0(){var t=N.useContext($0);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Eh(t){return Array.isArray(t)?Tj([],t):t!==void 0?[t]:[]}function zW(t){var e={};return Object.entries(t).forEach(function(n){var r=n[0],s=n[1];e[r]=Eh(s)}),e}var Hr;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(Hr||(Hr={}));var $W=Hr.Selected,ws=Hr.Disabled,WW=Hr.Hidden,HW=Hr.Today,ig=Hr.RangeEnd,og=Hr.RangeMiddle,ag=Hr.RangeStart,qW=Hr.Outside;function GW(t,e,n){var r,s=(r={},r[$W]=Eh(t.selected),r[ws]=Eh(t.disabled),r[WW]=Eh(t.hidden),r[HW]=[t.today],r[ig]=[],r[og]=[],r[ag]=[],r[qW]=[],r);return t.fromDate&&s[ws].push({before:t.fromDate}),t.toDate&&s[ws].push({after:t.toDate}),Yu(t)?s[ws]=s[ws].concat(e.modifiers[ws]):Xu(t)&&(s[ws]=s[ws].concat(n.modifiers[ws]),s[ag]=n.modifiers[ag],s[og]=n.modifiers[og],s[ig]=n.modifiers[ig]),s}var jj=N.createContext(void 0);function KW(t){var e=ut(),n=z0(),r=W0(),s=GW(e,n,r),i=zW(e.modifiers),o=be(be({},s),i);return a.jsx(jj.Provider,{value:o,children:t.children})}function Aj(){var t=N.useContext(jj);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function QW(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function YW(t){return!!(t&&typeof t=="object"&&"from"in t)}function XW(t){return!!(t&&typeof t=="object"&&"after"in t)}function JW(t){return!!(t&&typeof t=="object"&&"before"in t)}function ZW(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function eH(t,e){var n,r=e.from,s=e.to;if(r&&s){var i=ss(s,r)<0;i&&(n=[s,r],r=n[0],s=n[1]);var o=ss(t,r)>=0&&ss(s,t)>=0;return o}return s?Qn(s,t):r?Qn(r,t):!1}function tH(t){return L0(t)}function nH(t){return Array.isArray(t)&&t.every(L0)}function rH(t,e){return e.some(function(n){if(typeof n=="boolean")return n;if(tH(n))return Qn(t,n);if(nH(n))return n.includes(t);if(YW(n))return eH(t,n);if(ZW(n))return n.dayOfWeek.includes(t.getDay());if(QW(n)){var r=ss(n.before,t),s=ss(n.after,t),i=r>0,o=s<0,l=Qy(n.before,n.after);return l?o&&i:i||o}return XW(n)?ss(t,n.after)>0:JW(n)?ss(n.before,t)>0:typeof n=="function"?n(t):!1})}function H0(t,e,n){var r=Object.keys(e).reduce(function(i,o){var l=e[o];return rH(t,l)&&i.push(o),i},[]),s={};return r.forEach(function(i){return s[i]=!0}),n&&!U0(t,n)&&(s.outside=!0),s}function sH(t,e){for(var n=Zn(t[0]),r=F0(t[t.length-1]),s,i,o=n;o<=r;){var l=H0(o,e),c=!l.disabled&&!l.hidden;if(!c){o=On(o,1);continue}if(l.selected)return o;l.today&&!i&&(i=o),s||(s=o),o=On(o,1)}return i||s}var iH=365;function Pj(t,e){var n=e.moveBy,r=e.direction,s=e.context,i=e.modifiers,o=e.retry,l=o===void 0?{count:0,lastFocused:t}:o,c=s.weekStartsOn,d=s.fromDate,u=s.toDate,m=s.locale,h={day:On,week:Ky,month:Wr,year:Gz,startOfWeek:function(w){return s.ISOWeek?Go(w):ms(w,{locale:m,weekStartsOn:c})},endOfWeek:function(w){return s.ISOWeek?vj(w):V0(w,{locale:m,weekStartsOn:c})}},p=h[n](t,r==="after"?1:-1);r==="before"&&d?p=Kz([d,p]):r==="after"&&u&&(p=Qz([u,p]));var y=!0;if(i){var g=H0(p,i);y=!g.disabled&&!g.hidden}return y?p:l.count>iH?l.lastFocused:Pj(p,{moveBy:n,direction:r,context:s,modifiers:i,retry:be(be({},l),{count:l.count+1})})}var Rj=N.createContext(void 0);function oH(t){var e=Ju(),n=Aj(),r=N.useState(),s=r[0],i=r[1],o=N.useState(),l=o[0],c=o[1],d=sH(e.displayMonths,n),u=s??(l&&e.isDateDisplayed(l))?l:d,m=function(){c(s),i(void 0)},h=function(w){i(w)},p=ut(),y=function(w,v){if(s){var x=Pj(s,{moveBy:w,direction:v,context:p,modifiers:n});Qn(s,x)||(e.goToDate(x,s),h(x))}},g={focusedDay:s,focusTarget:u,blur:m,focus:h,focusDayAfter:function(){return y("day","after")},focusDayBefore:function(){return y("day","before")},focusWeekAfter:function(){return y("week","after")},focusWeekBefore:function(){return y("week","before")},focusMonthBefore:function(){return y("month","before")},focusMonthAfter:function(){return y("month","after")},focusYearBefore:function(){return y("year","before")},focusYearAfter:function(){return y("year","after")},focusStartOfWeek:function(){return y("startOfWeek","before")},focusEndOfWeek:function(){return y("endOfWeek","after")}};return a.jsx(Rj.Provider,{value:g,children:t.children})}function q0(){var t=N.useContext(Rj);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function aH(t,e){var n=Aj(),r=H0(t,n,e);return r}var G0=N.createContext(void 0);function lH(t){if(!Om(t.initialProps)){var e={selected:void 0};return a.jsx(G0.Provider,{value:e,children:t.children})}return a.jsx(cH,{initialProps:t.initialProps,children:t.children})}function cH(t){var e=t.initialProps,n=t.children,r=function(i,o,l){var c,d,u;if((c=e.onDayClick)===null||c===void 0||c.call(e,i,o,l),o.selected&&!e.required){(d=e.onSelect)===null||d===void 0||d.call(e,void 0,i,o,l);return}(u=e.onSelect)===null||u===void 0||u.call(e,i,i,o,l)},s={selected:e.selected,onDayClick:r};return a.jsx(G0.Provider,{value:s,children:n})}function Dj(){var t=N.useContext(G0);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function uH(t,e){var n=ut(),r=Dj(),s=z0(),i=W0(),o=q0(),l=o.focusDayAfter,c=o.focusDayBefore,d=o.focusWeekAfter,u=o.focusWeekBefore,m=o.blur,h=o.focus,p=o.focusMonthBefore,y=o.focusMonthAfter,g=o.focusYearBefore,w=o.focusYearAfter,v=o.focusStartOfWeek,x=o.focusEndOfWeek,_=function(D){var F,U,z,G;Om(n)?(F=r.onDayClick)===null||F===void 0||F.call(r,t,e,D):Yu(n)?(U=s.onDayClick)===null||U===void 0||U.call(s,t,e,D):Xu(n)?(z=i.onDayClick)===null||z===void 0||z.call(i,t,e,D):(G=n.onDayClick)===null||G===void 0||G.call(n,t,e,D)},C=function(D){var F;h(t),(F=n.onDayFocus)===null||F===void 0||F.call(n,t,e,D)},M=function(D){var F;m(),(F=n.onDayBlur)===null||F===void 0||F.call(n,t,e,D)},R=function(D){var F;(F=n.onDayMouseEnter)===null||F===void 0||F.call(n,t,e,D)},k=function(D){var F;(F=n.onDayMouseLeave)===null||F===void 0||F.call(n,t,e,D)},b=function(D){var F;(F=n.onDayPointerEnter)===null||F===void 0||F.call(n,t,e,D)},T=function(D){var F;(F=n.onDayPointerLeave)===null||F===void 0||F.call(n,t,e,D)},S=function(D){var F;(F=n.onDayTouchCancel)===null||F===void 0||F.call(n,t,e,D)},A=function(D){var F;(F=n.onDayTouchEnd)===null||F===void 0||F.call(n,t,e,D)},P=function(D){var F;(F=n.onDayTouchMove)===null||F===void 0||F.call(n,t,e,D)},j=function(D){var F;(F=n.onDayTouchStart)===null||F===void 0||F.call(n,t,e,D)},V=function(D){var F;(F=n.onDayKeyUp)===null||F===void 0||F.call(n,t,e,D)},B=function(D){var F;switch(D.key){case"ArrowLeft":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?l():c();break;case"ArrowRight":D.preventDefault(),D.stopPropagation(),n.dir==="rtl"?c():l();break;case"ArrowDown":D.preventDefault(),D.stopPropagation(),d();break;case"ArrowUp":D.preventDefault(),D.stopPropagation(),u();break;case"PageUp":D.preventDefault(),D.stopPropagation(),D.shiftKey?g():p();break;case"PageDown":D.preventDefault(),D.stopPropagation(),D.shiftKey?w():y();break;case"Home":D.preventDefault(),D.stopPropagation(),v();break;case"End":D.preventDefault(),D.stopPropagation(),x();break}(F=n.onDayKeyDown)===null||F===void 0||F.call(n,t,e,D)},O={onClick:_,onFocus:C,onBlur:M,onKeyDown:B,onKeyUp:V,onMouseEnter:R,onMouseLeave:k,onPointerEnter:b,onPointerLeave:T,onTouchCancel:S,onTouchEnd:A,onTouchMove:P,onTouchStart:j};return O}function dH(){var t=ut(),e=Dj(),n=z0(),r=W0(),s=Om(t)?e.selected:Yu(t)?n.selected:Xu(t)?r.selected:void 0;return s}function hH(t){return Object.values(Hr).includes(t)}function fH(t,e){var n=[t.classNames.day];return Object.keys(e).forEach(function(r){var s=t.modifiersClassNames[r];if(s)n.push(s);else if(hH(r)){var i=t.classNames["day_".concat(r)];i&&n.push(i)}}),n}function mH(t,e){var n=be({},t.styles.day);return Object.keys(e).forEach(function(r){var s;n=be(be({},n),(s=t.modifiersStyles)===null||s===void 0?void 0:s[r])}),n}function pH(t,e,n){var r,s,i,o=ut(),l=q0(),c=aH(t,e),d=uH(t,c),u=dH(),m=!!(o.onDayClick||o.mode!=="default");N.useEffect(function(){var R;c.outside||l.focusedDay&&m&&Qn(l.focusedDay,t)&&((R=n.current)===null||R===void 0||R.focus())},[l.focusedDay,t,n,m,c.outside]);var h=fH(o,c).join(" "),p=mH(o,c),y=!!(c.outside&&!o.showOutsideDays||c.hidden),g=(i=(s=o.components)===null||s===void 0?void 0:s.DayContent)!==null&&i!==void 0?i:OW,w=a.jsx(g,{date:t,displayMonth:e,activeModifiers:c}),v={style:p,className:h,children:w,role:"gridcell"},x=l.focusTarget&&Qn(l.focusTarget,t)&&!c.outside,_=l.focusedDay&&Qn(l.focusedDay,t),C=be(be(be({},v),(r={disabled:c.disabled,role:"gridcell"},r["aria-selected"]=c.selected,r.tabIndex=_||x?0:-1,r)),d),M={isButton:m,isHidden:y,activeModifiers:c,selectedDays:u,buttonProps:C,divProps:v};return M}function gH(t){var e=N.useRef(null),n=pH(t.date,t.displayMonth,e);return n.isHidden?a.jsx("div",{role:"gridcell"}):n.isButton?a.jsx(Cf,be({name:"day",ref:e},n.buttonProps)):a.jsx("div",be({},n.divProps))}function yH(t){var e=t.number,n=t.dates,r=ut(),s=r.onWeekNumberClick,i=r.styles,o=r.classNames,l=r.locale,c=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,u=d(Number(e),{locale:l});if(!s)return a.jsx("span",{className:o.weeknumber,style:i.weeknumber,children:u});var m=c(Number(e),{locale:l}),h=function(p){s(e,n,p)};return a.jsx(Cf,{name:"week-number","aria-label":m,className:o.weeknumber,style:i.weeknumber,onClick:h,children:u})}function vH(t){var e,n,r=ut(),s=r.styles,i=r.classNames,o=r.showWeekNumber,l=r.components,c=(e=l==null?void 0:l.Day)!==null&&e!==void 0?e:gH,d=(n=l==null?void 0:l.WeekNumber)!==null&&n!==void 0?n:yH,u;return o&&(u=a.jsx("td",{className:i.cell,style:s.cell,children:a.jsx(d,{number:t.weekNumber,dates:t.dates})})),a.jsxs("tr",{className:i.row,style:s.row,children:[u,t.dates.map(function(m){return a.jsx("td",{className:i.cell,style:s.cell,role:"presentation",children:a.jsx(c,{displayMonth:t.displayMonth,date:m})},K$(m))})]})}function DE(t,e,n){for(var r=n!=null&&n.ISOWeek?vj(e):V0(e,n),s=n!=null&&n.ISOWeek?Go(t):ms(t,n),i=ss(r,s),o=[],l=0;l<=i;l++)o.push(On(s,l));var c=o.reduce(function(d,u){var m=n!=null&&n.ISOWeek?wj(u):bj(u,n),h=d.find(function(p){return p.weekNumber===m});return h?(h.dates.push(u),d):(d.push({weekNumber:m,dates:[u]}),d)},[]);return c}function xH(t,e){var n=DE(Zn(t),F0(t),e);if(e!=null&&e.useFixedWeeks){var r=Y$(t,e);if(r<6){var s=n[n.length-1],i=s.dates[s.dates.length-1],o=Ky(i,6-r),l=DE(Ky(i,1),o,e);n.push.apply(n,l)}}return n}function wH(t){var e,n,r,s=ut(),i=s.locale,o=s.classNames,l=s.styles,c=s.hideHead,d=s.fixedWeeks,u=s.components,m=s.weekStartsOn,h=s.firstWeekContainsDate,p=s.ISOWeek,y=xH(t.displayMonth,{useFixedWeeks:!!d,ISOWeek:p,locale:i,weekStartsOn:m,firstWeekContainsDate:h}),g=(e=u==null?void 0:u.Head)!==null&&e!==void 0?e:MW,w=(n=u==null?void 0:u.Row)!==null&&n!==void 0?n:vH,v=(r=u==null?void 0:u.Footer)!==null&&r!==void 0?r:PW;return a.jsxs("table",{id:t.id,className:o.table,style:l.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!c&&a.jsx(g,{}),a.jsx("tbody",{className:o.tbody,style:l.tbody,children:y.map(function(x){return a.jsx(w,{displayMonth:t.displayMonth,dates:x.dates,weekNumber:x.weekNumber},x.weekNumber)})}),a.jsx(v,{displayMonth:t.displayMonth})]})}function _H(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var bH=_H()?N.useLayoutEffect:N.useEffect,lg=!1,EH=0;function ME(){return"react-day-picker-".concat(++EH)}function NH(t){var e,n=t??(lg?ME():null),r=N.useState(n),s=r[0],i=r[1];return bH(function(){s===null&&i(ME())},[]),N.useEffect(function(){lg===!1&&(lg=!0)},[]),(e=t??s)!==null&&e!==void 0?e:void 0}function TH(t){var e,n,r=ut(),s=r.dir,i=r.classNames,o=r.styles,l=r.components,c=Ju().displayMonths,d=NH(r.id?"".concat(r.id,"-").concat(t.displayIndex):void 0),u=r.id?"".concat(r.id,"-grid-").concat(t.displayIndex):void 0,m=[i.month],h=o.month,p=t.displayIndex===0,y=t.displayIndex===c.length-1,g=!p&&!y;s==="rtl"&&(e=[p,y],y=e[0],p=e[1]),p&&(m.push(i.caption_start),h=be(be({},h),o.caption_start)),y&&(m.push(i.caption_end),h=be(be({},h),o.caption_end)),g&&(m.push(i.caption_between),h=be(be({},h),o.caption_between));var w=(n=l==null?void 0:l.Caption)!==null&&n!==void 0?n:AW;return a.jsxs("div",{className:m.join(" "),style:h,children:[a.jsx(w,{id:d,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),a.jsx(wH,{id:u,"aria-labelledby":d,displayMonth:t.displayMonth})]},t.displayIndex)}function SH(t){var e=ut(),n=e.classNames,r=e.styles;return a.jsx("div",{className:n.months,style:r.months,children:t.children})}function CH(t){var e,n,r=t.initialProps,s=ut(),i=q0(),o=Ju(),l=N.useState(!1),c=l[0],d=l[1];N.useEffect(function(){s.initialFocus&&i.focusTarget&&(c||(i.focus(i.focusTarget),d(!0)))},[s.initialFocus,c,i.focus,i.focusTarget,i]);var u=[s.classNames.root,s.className];s.numberOfMonths>1&&u.push(s.classNames.multiple_months),s.showWeekNumber&&u.push(s.classNames.with_weeknumber);var m=be(be({},s.styles.root),s.style),h=Object.keys(r).filter(function(y){return y.startsWith("data-")}).reduce(function(y,g){var w;return be(be({},y),(w={},w[g]=r[g],w))},{}),p=(n=(e=r.components)===null||e===void 0?void 0:e.Months)!==null&&n!==void 0?n:SH;return a.jsx("div",be({className:u.join(" "),style:m,dir:s.dir,id:s.id,nonce:r.nonce,title:r.title,lang:r.lang},h,{children:a.jsx(p,{children:o.displayMonths.map(function(y,g){return a.jsx(TH,{displayIndex:g,displayMonth:y},g)})})}))}function kH(t){var e=t.children,n=J$(t,["children"]);return a.jsx(yW,{initialProps:n,children:a.jsx(CW,{children:a.jsx(lH,{initialProps:n,children:a.jsx(LW,{initialProps:n,children:a.jsx(UW,{initialProps:n,children:a.jsx(KW,{children:a.jsx(oH,{children:e})})})})})})})}function IH(t){return a.jsx(kH,be({},t,{children:a.jsx(CH,{initialProps:t})}))}function K0({className:t,classNames:e,showOutsideDays:n=!0,...r}){return a.jsx(IH,{showOutsideDays:n,className:Se("p-3",t),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Se(qy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Se(qy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground opacity-50 aria-selected:bg-accent/50 aria-selected:text-muted-foreground aria-selected:opacity-30",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...e},components:{IconLeft:({...s})=>a.jsx(ex,{className:"h-4 w-4"}),IconRight:({...s})=>a.jsx(tx,{className:"h-4 w-4"})},...r})}K0.displayName="Calendar";const jH=({clientId:t,onBack:e})=>{const[n,r]=N.useState(new Date),[s,i]=N.useState([]),[o,l]=N.useState(!0),{user:c}=Cn(),{toast:d}=Bn();N.useEffect(()=>{c!=null&&c.id&&u()},[c==null?void 0:c.id]);const u=async()=>{try{const g=Ot(lt(ve,"clients"),Ye("profile_id","==",c==null?void 0:c.id)),w=await xt(g);if(w.empty)return;const v=w.docs[0],x=Ot(lt(ve,"appointments"),Ye("client_id","==",v.id),zs("appointment_date","asc")),_=await xt(x),C=await Promise.all(_.docs.map(async M=>{const R=M.data();let k="Unknown Artist";if(R.artist_id){const b=await Dt(Be(ve,"artists",R.artist_id));if(b.exists()){const T=b.data();if(T.profile_id){const S=await Dt(Be(ve,"profiles",T.profile_id));S.exists()&&(k=S.data().full_name||k)}}}return{id:M.id,date:R.appointment_date.toDate().toISOString().split("T")[0],time:R.appointment_date.toDate().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),type:R.description||"Appointment",artist:k,status:R.status,duration:`${R.duration_hours||1} hour${R.duration_hours!==1?"s":""}`}}));i(C)}catch(g){console.error("Error fetching appointments:",g),d({title:"Error",description:"Failed to load appointments",variant:"destructive"})}finally{l(!1)}},m=g=>{const w=g.toISOString().split("T")[0];return s.filter(v=>v.date===w)},h=g=>{const w=g.toISOString().split("T")[0];return s.some(v=>v.date===w)},p=g=>{switch(g){case"confirmed":return"text-green-400";case"pending":return"text-yellow-400";case"completed":return"text-gray-400";default:return"text-white"}},y=g=>{switch(g){case"confirmed":return"bg-green-400/10 border-green-400/30";case"pending":return"bg-yellow-400/10 border-yellow-400/30";case"completed":return"bg-gray-400/10 border-gray-400/30";default:return"bg-gray-400/10 border-gray-400/30"}};return o?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading appointments..."})}):a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:e,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Appointments & Calendar"})]})})})}),a.jsxs("div",{className:"max-w-6xl mx-auto p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Calendar"})}),a.jsxs(oe,{children:[a.jsx(K0,{mode:"single",selected:n,onSelect:r,className:"rounded-md border border-tattoo-primary/30 bg-tattoo-dark text-white",modifiers:{hasAppointment:g=>h(g)},modifiersStyles:{hasAppointment:{backgroundColor:"#D4AF37",color:"#0A0A0A",fontWeight:"bold"}}}),a.jsx("div",{className:"mt-4 text-sm text-gray-300",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-tattoo-primary rounded"}),a.jsx("span",{children:"Days with appointments"})]})})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:n?n.toDateString():"Select a Date"})}),a.jsx(oe,{children:n&&a.jsx("div",{className:"space-y-4",children:m(n).length>0?m(n).map(g=>a.jsx("div",{className:`p-4 rounded-lg border ${y(g.status)}`,children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx("h3",{className:"text-white font-medium",children:g.type}),a.jsx("span",{className:`text-xs px-2 py-1 rounded ${p(g.status)}`,children:g.status.toUpperCase()})]}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(FT,{className:"w-4 h-4"}),a.jsxs("span",{children:[g.time," (",g.duration,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4"}),a.jsx("span",{children:g.artist})]})]})]}),a.jsxs(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Lt,{className:"w-4 h-4 mr-1"}),"Discuss"]})]})},g.id)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-400",children:"No appointments scheduled for this date"}),a.jsx(H,{className:"mt-4 bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Request Appointment"})]})})})]})]}),a.jsxs(ie,{className:"mt-6 bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"All Appointments"})}),a.jsx(oe,{children:a.jsx("div",{className:"space-y-4",children:s.length>0?s.map(g=>a.jsx("div",{className:`p-4 rounded-lg border ${y(g.status)}`,children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-6 space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-white font-medium",children:g.type}),a.jsx("p",{className:"text-gray-300 text-sm",children:g.artist})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:space-x-6 space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-tattoo-primary font-medium",children:g.date}),a.jsx("p",{className:"text-gray-300 text-sm",children:g.time})]}),a.jsxs("div",{className:"text-center sm:text-left",children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Duration"}),a.jsx("p",{className:"text-white text-sm",children:g.duration})]})]})]})}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-2 sm:gap-2 md:gap-2",children:[a.jsx("span",{className:`text-xs px-3 py-1 rounded text-center ${p(g.status)}`,children:g.status.toUpperCase()}),a.jsx(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark w-full sm:w-auto",children:"Reschedule"})]})]})},g.id)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-400",children:"No appointments found"}),a.jsx(H,{className:"mt-4 bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Book Your First Appointment"})]})})})]})]})]})},AH=Jf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function bo({className:t,variant:e,...n}){return a.jsx("div",{className:Se(AH({variant:e}),t),...n})}var Q0="Collapsible",[PH,aG]=Cu(Q0),[RH,Y0]=PH(Q0),Mj=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...l}=t,[c=!1,d]=eu({prop:r,defaultProp:s,onChange:o});return a.jsx(RH,{scope:n,disabled:i,contentId:jo(),open:c,onOpenToggle:N.useCallback(()=>d(u=>!u),[d]),children:a.jsx(Oe.div,{"data-state":J0(c),"data-disabled":i?"":void 0,...l,ref:e})})});Mj.displayName=Q0;var Oj="CollapsibleTrigger",Lj=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=Y0(Oj,n);return a.jsx(Oe.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":J0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:Te(t.onClick,s.onOpenToggle)})});Lj.displayName=Oj;var X0="CollapsibleContent",Fj=N.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=Y0(X0,t.__scopeCollapsible);return a.jsx(Jo,{present:n||s.open,children:({present:i})=>a.jsx(DH,{...r,ref:e,present:i})})});Fj.displayName=X0;var DH=N.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=Y0(X0,n),[l,c]=N.useState(r),d=N.useRef(null),u=ct(e,d),m=N.useRef(0),h=m.current,p=N.useRef(0),y=p.current,g=o.open||l,w=N.useRef(g),v=N.useRef();return N.useEffect(()=>{const x=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(x)},[]),cn(()=>{const x=d.current;if(x){v.current=v.current||{transitionDuration:x.style.transitionDuration,animationName:x.style.animationName},x.style.transitionDuration="0s",x.style.animationName="none";const _=x.getBoundingClientRect();m.current=_.height,p.current=_.width,w.current||(x.style.transitionDuration=v.current.transitionDuration,x.style.animationName=v.current.animationName),c(r)}},[o.open,r]),a.jsx(Oe.div,{"data-state":J0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!g,...i,ref:u,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style},children:g&&s})});function J0(t){return t?"open":"closed"}var MH=Mj;const OH=MH,LH=Lj,FH=Fj,VH=({clientId:t,onBack:e})=>{const[n,r]=N.useState("all"),[s,i]=N.useState(new Set),[o,l]=N.useState([]),[c,d]=N.useState(!0),{user:u}=Cn(),{toast:m}=Bn();N.useEffect(()=>{u!=null&&u.id&&h()},[u==null?void 0:u.id]);const h=async()=>{try{const v=Fu(),x=o0(v),_=lt(x,"clients"),C=Ot(_,Ye("profile_id","==",u==null?void 0:u.id)),M=await xt(C);if(M.empty)return;const R=M.docs[0].data(),k=M.docs[0].id,b=lt(x,"artwork"),T=Ot(b,Ye("client_id","==",k),zs("created_at","desc")),A=(await xt(T)).docs.map(P=>{var V;const j=P.data();return{id:P.id,name:j.title,category:j.status||"future",artist:j.artist_name||"Unknown Artist",startDate:(V=j.created_at)==null?void 0:V.split("T")[0],completedDate:j.completion_date,progress:j.status==="completed"?100:j.status==="in_progress"?50:0,description:j.description||"No description available",instructions:"Detailed instructions will be provided by your artist",notes:["Artwork created","Progress tracking available"],referenceImages:j.reference_images||["/placeholder.svg"],estimatedCost:j.estimated_cost?`$${j.estimated_cost}`:void 0,actualCost:j.actual_cost?`$${j.actual_cost}`:void 0}});l(A)}catch(v){console.error("Error fetching artwork:",v),m({title:"Error",description:"Failed to load artwork log",variant:"destructive"})}finally{d(!1)}},p=n==="all"?o:o.filter(v=>v.category===n),y=v=>{i(x=>{const _=new Set(x);return _.has(v)?_.delete(v):_.add(v),_})},g=v=>{switch(v){case"completed":return"bg-green-400/10 text-green-400 border-green-400/30";case"in-progress":return"bg-yellow-400/10 text-yellow-400 border-yellow-400/30";case"future":return"bg-blue-400/10 text-blue-400 border-blue-400/30";default:return"bg-gray-400/10 text-gray-400 border-gray-400/30"}},w=v=>{switch(v){case"completed":return"Completed Artwork";case"in-progress":return"Artwork in Progress";case"future":return"Future Artwork Ideas";default:return v}};return c?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading artwork log..."})}):a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:e,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"My Artwork Log"})]}),a.jsx("div",{className:"flex space-x-2",children:["all","completed","in-progress","future"].map(v=>a.jsx(H,{variant:n===v?"default":"outline",onClick:()=>r(v),size:"sm",className:n===v?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:v==="all"?"All":w(v).split(" ")[0]},v))})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:a.jsx("div",{className:"space-y-6",children:p.length>0?p.map(v=>a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsxs(OH,{children:[a.jsx(LH,{asChild:!0,children:a.jsx("div",{className:"w-full cursor-pointer",onClick:()=>y(v.id),children:a.jsxs(fe,{children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center space-x-4",children:a.jsxs("div",{children:[a.jsx(me,{className:"text-white text-xl",children:v.name}),a.jsxs("p",{className:"text-gray-300",children:["Artist: ",v.artist]})]})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(bo,{className:g(v.category),children:w(v.category)}),s.has(v.id)?a.jsx(LT,{className:"w-5 h-5 text-gray-400"}):a.jsx(Zv,{className:"w-5 h-5 text-gray-400"})]})]}),v.category==="in-progress"&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("div",{className:"flex justify-between text-sm text-gray-300 mb-2",children:[a.jsx("span",{children:"Progress"}),a.jsxs("span",{children:[v.progress,"%"]})]}),a.jsx("div",{className:"w-full bg-tattoo-dark rounded-full h-2",children:a.jsx("div",{className:"bg-tattoo-primary h-2 rounded-full transition-all duration-300",style:{width:`${v.progress}%`}})})]})]})})}),a.jsx(FH,{children:a.jsx(oe,{className:"pt-0",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-3",children:"Artwork Details"}),a.jsxs("div",{className:"space-y-2 text-sm",children:[v.startDate&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Started:"}),a.jsx("span",{className:"text-white",children:v.startDate})]}),v.completedDate&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Completed:"}),a.jsx("span",{className:"text-white",children:v.completedDate})]}),v.estimatedCost&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Estimated Cost:"}),a.jsx("span",{className:"text-white",children:v.estimatedCost})]}),v.actualCost&&a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-300",children:"Actual Cost:"}),a.jsx("span",{className:"text-white",children:v.actualCost})]})]})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-3",children:"Description"}),a.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:v.description})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-3",children:"Artist Instructions"}),a.jsx("p",{className:"text-gray-300 text-sm leading-relaxed",children:v.instructions})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-3",children:"Progress Notes"}),a.jsx("div",{className:"space-y-2",children:v.notes.map((x,_)=>a.jsxs("div",{className:"flex items-start space-x-2",children:[a.jsx("div",{className:"w-2 h-2 bg-tattoo-primary rounded-full mt-2 flex-shrink-0"}),a.jsx("p",{className:"text-gray-300 text-sm",children:x})]},_))})]}),a.jsxs("div",{children:[a.jsx("h4",{className:"text-white font-medium mb-3",children:"Reference Images"}),a.jsx("div",{className:"grid grid-cols-2 gap-2",children:v.referenceImages.map((x,_)=>a.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-tattoo-dark border border-tattoo-primary/30",children:a.jsx("img",{src:x,alt:`Reference ${_+1}`,className:"w-full h-full object-cover"})},_))})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsxs(H,{variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),"View Full Gallery"]}),a.jsxs(H,{variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Lt,{className:"w-4 h-4 mr-2"}),"Message Artist"]})]})]})]})})})]})},v.id)):a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsxs(oe,{className:"text-center py-12",children:[a.jsx("h3",{className:"text-xl font-bold text-white mb-4",children:"No Artwork Yet"}),a.jsx("p",{className:"text-gray-300 mb-6",children:"Start your tattoo journey by booking a consultation with one of our talented artists."}),a.jsx(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Find an Artist"})]})})})})]})};function UH(t,e){return e.forEach(function(n){n&&typeof n!="string"&&!Array.isArray(n)&&Object.keys(n).forEach(function(r){if(r!=="default"&&!(r in t)){var s=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:function(){return n[r]}})}})}),Object.freeze(t)}function Vj(t,e){return new Promise(function(n,r){let s;return BH(t).then(function(i){try{return s=i,n(new Blob([e.slice(0,2),s,e.slice(2)],{type:"image/jpeg"}))}catch(o){return r(o)}},r)})}const BH=t=>new Promise((e,n)=>{const r=new FileReader;r.addEventListener("load",({target:{result:s}})=>{const i=new DataView(s);let o=0;if(i.getUint16(o)!==65496)return n("not a valid JPEG");for(o+=2;;){const l=i.getUint16(o);if(l===65498)break;const c=i.getUint16(o+2);if(l===65505&&i.getUint32(o+4)===1165519206){const d=o+10;let u;switch(i.getUint16(d)){case 18761:u=!0;break;case 19789:u=!1;break;default:return n("TIFF header contains invalid endian")}if(i.getUint16(d+2,u)!==42)return n("TIFF header contains invalid version");const m=i.getUint32(d+4,u),h=d+m+2+12*i.getUint16(d+m,u);for(let p=d+m+2;p<h;p+=12)if(i.getUint16(p,u)==274){if(i.getUint16(p+2,u)!==3)return n("Orientation data type is invalid");if(i.getUint32(p+4,u)!==1)return n("Orientation data count is invalid");i.setUint16(p+8,1,u);break}return e(s.slice(o,o+2+c))}o+=2+c}return e(new Blob)}),r.readAsArrayBuffer(t)});var kf={},zH={get exports(){return kf},set exports(t){kf=t}};(function(t){var e,n,r={};zH.exports=r,r.parse=function(s,i){for(var o=r.bin.readUshort,l=r.bin.readUint,c=0,d={},u=new Uint8Array(s),m=u.length-4;l(u,m)!=101010256;)m--;c=m,c+=4;var h=o(u,c+=4);o(u,c+=2);var p=l(u,c+=2),y=l(u,c+=4);c+=4,c=y;for(var g=0;g<h;g++){l(u,c),c+=4,c+=4,c+=4,l(u,c+=4),p=l(u,c+=4);var w=l(u,c+=4),v=o(u,c+=4),x=o(u,c+2),_=o(u,c+4);c+=6;var C=l(u,c+=8);c+=4,c+=v+x+_,r._readLocal(u,C,d,p,w,i)}return d},r._readLocal=function(s,i,o,l,c,d){var u=r.bin.readUshort,m=r.bin.readUint;m(s,i),u(s,i+=4),u(s,i+=2);var h=u(s,i+=2);m(s,i+=2),m(s,i+=4),i+=4;var p=u(s,i+=8),y=u(s,i+=2);i+=2;var g=r.bin.readUTF8(s,i,p);if(i+=p,i+=y,d)o[g]={size:c,csize:l};else{var w=new Uint8Array(s.buffer,i);if(h==0)o[g]=new Uint8Array(w.buffer.slice(i,i+l));else{if(h!=8)throw"unknown compression method: "+h;var v=new Uint8Array(c);r.inflateRaw(w,v),o[g]=v}}},r.inflateRaw=function(s,i){return r.F.inflate(s,i)},r.inflate=function(s,i){return s[0],s[1],r.inflateRaw(new Uint8Array(s.buffer,s.byteOffset+2,s.length-6),i)},r.deflate=function(s,i){i==null&&(i={level:6});var o=0,l=new Uint8Array(50+Math.floor(1.1*s.length));l[o]=120,l[o+1]=156,o+=2,o=r.F.deflateRaw(s,l,o,i.level);var c=r.adler(s,0,s.length);return l[o+0]=c>>>24&255,l[o+1]=c>>>16&255,l[o+2]=c>>>8&255,l[o+3]=c>>>0&255,new Uint8Array(l.buffer,0,o+4)},r.deflateRaw=function(s,i){i==null&&(i={level:6});var o=new Uint8Array(50+Math.floor(1.1*s.length)),l=r.F.deflateRaw(s,o,l,i.level);return new Uint8Array(o.buffer,0,l)},r.encode=function(s,i){i==null&&(i=!1);var o=0,l=r.bin.writeUint,c=r.bin.writeUshort,d={};for(var u in s){var m=!r._noNeed(u)&&!i,h=s[u],p=r.crc.crc(h,0,h.length);d[u]={cpr:m,usize:h.length,crc:p,file:m?r.deflateRaw(h):h}}for(var u in d)o+=d[u].file.length+30+46+2*r.bin.sizeUTF8(u);o+=22;var y=new Uint8Array(o),g=0,w=[];for(var u in d){var v=d[u];w.push(g),g=r._writeHeader(y,g,u,v,0)}var x=0,_=g;for(var u in d)v=d[u],w.push(g),g=r._writeHeader(y,g,u,v,1,w[x++]);var C=g-_;return l(y,g,101010256),g+=4,c(y,g+=4,x),c(y,g+=2,x),l(y,g+=2,C),l(y,g+=4,_),g+=4,g+=2,y.buffer},r._noNeed=function(s){var i=s.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(i)!=-1},r._writeHeader=function(s,i,o,l,c,d){var u=r.bin.writeUint,m=r.bin.writeUshort,h=l.file;return u(s,i,c==0?67324752:33639248),i+=4,c==1&&(i+=2),m(s,i,20),m(s,i+=2,0),m(s,i+=2,l.cpr?8:0),u(s,i+=2,0),u(s,i+=4,l.crc),u(s,i+=4,h.length),u(s,i+=4,l.usize),m(s,i+=4,r.bin.sizeUTF8(o)),m(s,i+=2,0),i+=2,c==1&&(i+=2,i+=2,u(s,i+=6,d),i+=4),i+=r.bin.writeUTF8(s,i,o),c==0&&(s.set(h,i),i+=h.length),i},r.crc={table:function(){for(var s=new Uint32Array(256),i=0;i<256;i++){for(var o=i,l=0;l<8;l++)1&o?o=3988292384^o>>>1:o>>>=1;s[i]=o}return s}(),update:function(s,i,o,l){for(var c=0;c<l;c++)s=r.crc.table[255&(s^i[o+c])]^s>>>8;return s},crc:function(s,i,o){return 4294967295^r.crc.update(4294967295,s,i,o)}},r.adler=function(s,i,o){for(var l=1,c=0,d=i,u=i+o;d<u;){for(var m=Math.min(d+5552,u);d<m;)c+=l+=s[d++];l%=65521,c%=65521}return c<<16|l},r.bin={readUshort:function(s,i){return s[i]|s[i+1]<<8},writeUshort:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255},readUint:function(s,i){return 16777216*s[i+3]+(s[i+2]<<16|s[i+1]<<8|s[i])},writeUint:function(s,i,o){s[i]=255&o,s[i+1]=o>>8&255,s[i+2]=o>>16&255,s[i+3]=o>>24&255},readASCII:function(s,i,o){for(var l="",c=0;c<o;c++)l+=String.fromCharCode(s[i+c]);return l},writeASCII:function(s,i,o){for(var l=0;l<o.length;l++)s[i+l]=o.charCodeAt(l)},pad:function(s){return s.length<2?"0"+s:s},readUTF8:function(s,i,o){for(var l,c="",d=0;d<o;d++)c+="%"+r.bin.pad(s[i+d].toString(16));try{l=decodeURIComponent(c)}catch{return r.bin.readASCII(s,i,o)}return l},writeUTF8:function(s,i,o){for(var l=o.length,c=0,d=0;d<l;d++){var u=o.charCodeAt(d);if(!(4294967168&u))s[i+c]=u,c++;else if(!(4294965248&u))s[i+c]=192|u>>6,s[i+c+1]=128|u>>0&63,c+=2;else if(!(4294901760&u))s[i+c]=224|u>>12,s[i+c+1]=128|u>>6&63,s[i+c+2]=128|u>>0&63,c+=3;else{if(4292870144&u)throw"e";s[i+c]=240|u>>18,s[i+c+1]=128|u>>12&63,s[i+c+2]=128|u>>6&63,s[i+c+3]=128|u>>0&63,c+=4}}return c},sizeUTF8:function(s){for(var i=s.length,o=0,l=0;l<i;l++){var c=s.charCodeAt(l);if(!(4294967168&c))o++;else if(!(4294965248&c))o+=2;else if(!(4294901760&c))o+=3;else{if(4292870144&c)throw"e";o+=4}}return o}},r.F={},r.F.deflateRaw=function(s,i,o,l){var c=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][l],d=r.F.U,u=r.F._goodIndex;r.F._hash;var m=r.F._putsE,h=0,p=o<<3,y=0,g=s.length;if(l==0){for(;h<g;)m(i,p,h+(A=Math.min(65535,g-h))==g?1:0),p=r.F._copyExact(s,h,A,i,p+8),h+=A;return p>>>3}var w=d.lits,v=d.strt,x=d.prev,_=0,C=0,M=0,R=0,k=0,b=0;for(g>2&&(v[b=r.F._hash(s,0)]=0),h=0;h<g;h++){if(k=b,h+1<g-2){b=r.F._hash(s,h+1);var T=h+1&32767;x[T]=v[b],v[b]=T}if(y<=h){(_>14e3||C>26697)&&g-h>100&&(y<h&&(w[_]=h-y,_+=2,y=h),p=r.F._writeBlock(h==g-1||y==g?1:0,w,_,R,s,M,h-M,i,p),_=C=R=0,M=h);var S=0;h<g-2&&(S=r.F._bestMatch(s,h,x,k,Math.min(c[2],g-h),c[3]));var A=S>>>16,P=65535&S;if(S!=0){P=65535&S;var j=u(A=S>>>16,d.of0);d.lhst[257+j]++;var V=u(P,d.df0);d.dhst[V]++,R+=d.exb[j]+d.dxb[V],w[_]=A<<23|h-y,w[_+1]=P<<16|j<<8|V,_+=2,y=h+A}else d.lhst[s[h]]++;C++}}for(M==h&&s.length!=0||(y<h&&(w[_]=h-y,_+=2,y=h),p=r.F._writeBlock(1,w,_,R,s,M,h-M,i,p),_=0,C=0,_=C=R=0,M=h);7&p;)p++;return p>>>3},r.F._bestMatch=function(s,i,o,l,c,d){var u=32767&i,m=o[u],h=u-m+32768&32767;if(m==u||l!=r.F._hash(s,i-h))return 0;for(var p=0,y=0,g=Math.min(32767,i);h<=g&&--d!=0&&m!=u;){if(p==0||s[i+p]==s[i+p-h]){var w=r.F._howLong(s,i,h);if(w>p){if(y=h,(p=w)>=c)break;h+2<w&&(w=h+2);for(var v=0,x=0;x<w-2;x++){var _=i-h+x+32768&32767,C=_-o[_]+32768&32767;C>v&&(v=C,m=_)}}}h+=(u=m)-(m=o[u])+32768&32767}return p<<16|y},r.F._howLong=function(s,i,o){if(s[i]!=s[i-o]||s[i+1]!=s[i+1-o]||s[i+2]!=s[i+2-o])return 0;var l=i,c=Math.min(s.length,i+258);for(i+=3;i<c&&s[i]==s[i-o];)i++;return i-l},r.F._hash=function(s,i){return(s[i]<<8|s[i+1])+(s[i+2]<<4)&65535},r.saved=0,r.F._writeBlock=function(s,i,o,l,c,d,u,m,h){var p,y,g,w,v,x,_,C,M,R=r.F.U,k=r.F._putsF,b=r.F._putsE;R.lhst[256]++,y=(p=r.F.getTrees())[0],g=p[1],w=p[2],v=p[3],x=p[4],_=p[5],C=p[6],M=p[7];var T=32+(h+3&7?8-(h+3&7):0)+(u<<3),S=l+r.F.contSize(R.fltree,R.lhst)+r.F.contSize(R.fdtree,R.dhst),A=l+r.F.contSize(R.ltree,R.lhst)+r.F.contSize(R.dtree,R.dhst);A+=14+3*_+r.F.contSize(R.itree,R.ihst)+(2*R.ihst[16]+3*R.ihst[17]+7*R.ihst[18]);for(var P=0;P<286;P++)R.lhst[P]=0;for(P=0;P<30;P++)R.dhst[P]=0;for(P=0;P<19;P++)R.ihst[P]=0;var j=T<S&&T<A?0:S<A?1:2;if(k(m,h,s),k(m,h+1,j),h+=3,j==0){for(;7&h;)h++;h=r.F._copyExact(c,d,u,m,h)}else{var V,B;if(j==1&&(V=R.fltree,B=R.fdtree),j==2){r.F.makeCodes(R.ltree,y),r.F.revCodes(R.ltree,y),r.F.makeCodes(R.dtree,g),r.F.revCodes(R.dtree,g),r.F.makeCodes(R.itree,w),r.F.revCodes(R.itree,w),V=R.ltree,B=R.dtree,b(m,h,v-257),b(m,h+=5,x-1),b(m,h+=5,_-4),h+=4;for(var O=0;O<_;O++)b(m,h+3*O,R.itree[1+(R.ordr[O]<<1)]);h+=3*_,h=r.F._codeTiny(C,R.itree,m,h),h=r.F._codeTiny(M,R.itree,m,h)}for(var D=d,F=0;F<o;F+=2){for(var U=i[F],z=U>>>23,G=D+(8388607&U);D<G;)h=r.F._writeLit(c[D++],V,m,h);if(z!=0){var W=i[F+1],Q=W>>16,Y=W>>8&255,q=255&W;b(m,h=r.F._writeLit(257+Y,V,m,h),z-R.of0[Y]),h+=R.exb[Y],k(m,h=r.F._writeLit(q,B,m,h),Q-R.df0[q]),h+=R.dxb[q],D+=z}}h=r.F._writeLit(256,V,m,h)}return h},r.F._copyExact=function(s,i,o,l,c){var d=c>>>3;return l[d]=o,l[d+1]=o>>>8,l[d+2]=255-l[d],l[d+3]=255-l[d+1],d+=4,l.set(new Uint8Array(s.buffer,i,o),d),c+(o+4<<3)},r.F.getTrees=function(){for(var s=r.F.U,i=r.F._hufTree(s.lhst,s.ltree,15),o=r.F._hufTree(s.dhst,s.dtree,15),l=[],c=r.F._lenCodes(s.ltree,l),d=[],u=r.F._lenCodes(s.dtree,d),m=0;m<l.length;m+=2)s.ihst[l[m]]++;for(m=0;m<d.length;m+=2)s.ihst[d[m]]++;for(var h=r.F._hufTree(s.ihst,s.itree,7),p=19;p>4&&s.itree[1+(s.ordr[p-1]<<1)]==0;)p--;return[i,o,h,c,u,p,l,d]},r.F.getSecond=function(s){for(var i=[],o=0;o<s.length;o+=2)i.push(s[o+1]);return i},r.F.nonZero=function(s){for(var i="",o=0;o<s.length;o+=2)s[o+1]!=0&&(i+=(o>>1)+",");return i},r.F.contSize=function(s,i){for(var o=0,l=0;l<i.length;l++)o+=i[l]*s[1+(l<<1)];return o},r.F._codeTiny=function(s,i,o,l){for(var c=0;c<s.length;c+=2){var d=s[c],u=s[c+1];l=r.F._writeLit(d,i,o,l);var m=d==16?2:d==17?3:7;d>15&&(r.F._putsE(o,l,u,m),l+=m)}return l},r.F._lenCodes=function(s,i){for(var o=s.length;o!=2&&s[o-1]==0;)o-=2;for(var l=0;l<o;l+=2){var c=s[l+1],d=l+3<o?s[l+3]:-1,u=l+5<o?s[l+5]:-1,m=l==0?-1:s[l-1];if(c==0&&d==c&&u==c){for(var h=l+5;h+2<o&&s[h+2]==c;)h+=2;(p=Math.min(h+1-l>>>1,138))<11?i.push(17,p-3):i.push(18,p-11),l+=2*p-2}else if(c==m&&d==c&&u==c){for(h=l+5;h+2<o&&s[h+2]==c;)h+=2;var p=Math.min(h+1-l>>>1,6);i.push(16,p-3),l+=2*p-2}else i.push(c,0)}return o>>>1},r.F._hufTree=function(s,i,o){var l=[],c=s.length,d=i.length,u=0;for(u=0;u<d;u+=2)i[u]=0,i[u+1]=0;for(u=0;u<c;u++)s[u]!=0&&l.push({lit:u,f:s[u]});var m=l.length,h=l.slice(0);if(m==0)return 0;if(m==1){var p=l[0].lit;return h=p==0?1:0,i[1+(p<<1)]=1,i[1+(h<<1)]=1,1}l.sort(function(C,M){return C.f-M.f});var y=l[0],g=l[1],w=0,v=1,x=2;for(l[0]={lit:-1,f:y.f+g.f,l:y,r:g,d:0};v!=m-1;)y=w!=v&&(x==m||l[w].f<l[x].f)?l[w++]:l[x++],g=w!=v&&(x==m||l[w].f<l[x].f)?l[w++]:l[x++],l[v++]={lit:-1,f:y.f+g.f,l:y,r:g};var _=r.F.setDepth(l[v-1],0);for(_>o&&(r.F.restrictDepth(h,o,_),_=o),u=0;u<m;u++)i[1+(h[u].lit<<1)]=h[u].d;return _},r.F.setDepth=function(s,i){return s.lit!=-1?(s.d=i,i):Math.max(r.F.setDepth(s.l,i+1),r.F.setDepth(s.r,i+1))},r.F.restrictDepth=function(s,i,o){var l=0,c=1<<o-i,d=0;for(s.sort(function(m,h){return h.d==m.d?m.f-h.f:h.d-m.d}),l=0;l<s.length&&s[l].d>i;l++){var u=s[l].d;s[l].d=i,d+=c-(1<<o-u)}for(d>>>=o-i;d>0;)(u=s[l].d)<i?(s[l].d++,d-=1<<i-u-1):l++;for(;l>=0;l--)s[l].d==i&&d<0&&(s[l].d--,d++);d!=0&&console.log("debt left")},r.F._goodIndex=function(s,i){var o=0;return i[16|o]<=s&&(o|=16),i[8|o]<=s&&(o|=8),i[4|o]<=s&&(o|=4),i[2|o]<=s&&(o|=2),i[1|o]<=s&&(o|=1),o},r.F._writeLit=function(s,i,o,l){return r.F._putsF(o,l,i[s<<1]),l+i[1+(s<<1)]},r.F.inflate=function(s,i){var o=Uint8Array;if(s[0]==3&&s[1]==0)return i||new o(0);var l=r.F,c=l._bitsF,d=l._bitsE,u=l._decodeTiny,m=l.makeCodes,h=l.codes2map,p=l._get17,y=l.U,g=i==null;g&&(i=new o(s.length>>>2<<3));for(var w,v,x=0,_=0,C=0,M=0,R=0,k=0,b=0,T=0,S=0;x==0;)if(x=c(s,S,1),_=c(s,S+1,2),S+=3,_!=0){if(g&&(i=r.F._check(i,T+(1<<17))),_==1&&(w=y.flmap,v=y.fdmap,k=511,b=31),_==2){C=d(s,S,5)+257,M=d(s,S+5,5)+1,R=d(s,S+10,4)+4,S+=14;for(var A=0;A<38;A+=2)y.itree[A]=0,y.itree[A+1]=0;var P=1;for(A=0;A<R;A++){var j=d(s,S+3*A,3);y.itree[1+(y.ordr[A]<<1)]=j,j>P&&(P=j)}S+=3*R,m(y.itree,P),h(y.itree,P,y.imap),w=y.lmap,v=y.dmap,S=u(y.imap,(1<<P)-1,C+M,s,S,y.ttree);var V=l._copyOut(y.ttree,0,C,y.ltree);k=(1<<V)-1;var B=l._copyOut(y.ttree,C,M,y.dtree);b=(1<<B)-1,m(y.ltree,V),h(y.ltree,V,w),m(y.dtree,B),h(y.dtree,B,v)}for(;;){var O=w[p(s,S)&k];S+=15&O;var D=O>>>4;if(!(D>>>8))i[T++]=D;else{if(D==256)break;var F=T+D-254;if(D>264){var U=y.ldef[D-257];F=T+(U>>>3)+d(s,S,7&U),S+=7&U}var z=v[p(s,S)&b];S+=15&z;var G=z>>>4,W=y.ddef[G],Q=(W>>>4)+c(s,S,15&W);for(S+=15&W,g&&(i=r.F._check(i,T+(1<<17)));T<F;)i[T]=i[T++-Q],i[T]=i[T++-Q],i[T]=i[T++-Q],i[T]=i[T++-Q];T=F}}}else{7&S&&(S+=8-(7&S));var Y=4+(S>>>3),q=s[Y-4]|s[Y-3]<<8;g&&(i=r.F._check(i,T+q)),i.set(new o(s.buffer,s.byteOffset+Y,q),T),S=Y+q<<3,T+=q}return i.length==T?i:i.slice(0,T)},r.F._check=function(s,i){var o=s.length;if(i<=o)return s;var l=new Uint8Array(Math.max(o<<1,i));return l.set(s,0),l},r.F._decodeTiny=function(s,i,o,l,c,d){for(var u=r.F._bitsE,m=r.F._get17,h=0;h<o;){var p=s[m(l,c)&i];c+=15&p;var y=p>>>4;if(y<=15)d[h]=y,h++;else{var g=0,w=0;y==16?(w=3+u(l,c,2),c+=2,g=d[h-1]):y==17?(w=3+u(l,c,3),c+=3):y==18&&(w=11+u(l,c,7),c+=7);for(var v=h+w;h<v;)d[h]=g,h++}}return c},r.F._copyOut=function(s,i,o,l){for(var c=0,d=0,u=l.length>>>1;d<o;){var m=s[d+i];l[d<<1]=0,l[1+(d<<1)]=m,m>c&&(c=m),d++}for(;d<u;)l[d<<1]=0,l[1+(d<<1)]=0,d++;return c},r.F.makeCodes=function(s,i){for(var o,l,c,d,u=r.F.U,m=s.length,h=u.bl_count,p=0;p<=i;p++)h[p]=0;for(p=1;p<m;p+=2)h[s[p]]++;var y=u.next_code;for(o=0,h[0]=0,l=1;l<=i;l++)o=o+h[l-1]<<1,y[l]=o;for(c=0;c<m;c+=2)(d=s[c+1])!=0&&(s[c]=y[d],y[d]++)},r.F.codes2map=function(s,i,o){for(var l=s.length,c=r.F.U.rev15,d=0;d<l;d+=2)if(s[d+1]!=0)for(var u=d>>1,m=s[d+1],h=u<<4|m,p=i-m,y=s[d]<<p,g=y+(1<<p);y!=g;)o[c[y]>>>15-i]=h,y++},r.F.revCodes=function(s,i){for(var o=r.F.U.rev15,l=15-i,c=0;c<s.length;c+=2){var d=s[c]<<i-s[c+1];s[c]=o[d]>>>l}},r.F._putsE=function(s,i,o){o<<=7&i;var l=i>>>3;s[l]|=o,s[l+1]|=o>>>8},r.F._putsF=function(s,i,o){o<<=7&i;var l=i>>>3;s[l]|=o,s[l+1]|=o>>>8,s[l+2]|=o>>>16},r.F._bitsE=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8)>>>(7&i)&(1<<o)-1},r.F._bitsF=function(s,i,o){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)&(1<<o)-1},r.F._get17=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16)>>>(7&i)},r.F._get25=function(s,i){return(s[i>>>3]|s[1+(i>>>3)]<<8|s[2+(i>>>3)]<<16|s[3+(i>>>3)]<<24)>>>(7&i)},r.F.U=(e=Uint16Array,n=Uint32Array,{next_code:new e(16),bl_count:new e(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new e(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new n(32),flmap:new e(512),fltree:[],fdmap:new e(32),fdtree:[],lmap:new e(32768),ltree:[],ttree:[],dmap:new e(32768),dtree:[],imap:new e(512),itree:[],rev15:new e(32768),lhst:new n(286),dhst:new n(30),ihst:new n(19),lits:new n(15e3),strt:new e(65536),prev:new e(32768)}),function(){for(var s=r.F.U,i=0;i<32768;i++){var o=i;o=(4278255360&(o=(4042322160&(o=(3435973836&(o=(2863311530&o)>>>1|(1431655765&o)<<1))>>>2|(858993459&o)<<2))>>>4|(252645135&o)<<4))>>>8|(16711935&o)<<8,s.rev15[i]=(o>>>16|o<<16)>>>17}function l(c,d,u){for(;d--!=0;)c.push(0,u)}for(i=0;i<32;i++)s.ldef[i]=s.of0[i]<<3|s.exb[i],s.ddef[i]=s.df0[i]<<4|s.dxb[i];l(s.fltree,144,8),l(s.fltree,112,9),l(s.fltree,24,7),l(s.fltree,8,8),r.F.makeCodes(s.fltree,9),r.F.codes2map(s.fltree,9,s.flmap),r.F.revCodes(s.fltree,9),l(s.fdtree,32,5),r.F.makeCodes(s.fdtree,5),r.F.codes2map(s.fdtree,5,s.fdmap),r.F.revCodes(s.fdtree,5),l(s.itree,19,0),l(s.ltree,286,0),l(s.dtree,30,0),l(s.ttree,320,0)}()})();var $H=UH({__proto__:null,default:kf},[kf]);const Cr=function(){var t={nextZero(u,m){for(;u[m]!=0;)m++;return m},readUshort:(u,m)=>u[m]<<8|u[m+1],writeUshort(u,m,h){u[m]=h>>8&255,u[m+1]=255&h},readUint:(u,m)=>16777216*u[m]+(u[m+1]<<16|u[m+2]<<8|u[m+3]),writeUint(u,m,h){u[m]=h>>24&255,u[m+1]=h>>16&255,u[m+2]=h>>8&255,u[m+3]=255&h},readASCII(u,m,h){let p="";for(let y=0;y<h;y++)p+=String.fromCharCode(u[m+y]);return p},writeASCII(u,m,h){for(let p=0;p<h.length;p++)u[m+p]=h.charCodeAt(p)},readBytes(u,m,h){const p=[];for(let y=0;y<h;y++)p.push(u[m+y]);return p},pad:u=>u.length<2?`0${u}`:u,readUTF8(u,m,h){let p,y="";for(let g=0;g<h;g++)y+=`%${t.pad(u[m+g].toString(16))}`;try{p=decodeURIComponent(y)}catch{return t.readASCII(u,m,h)}return p}};function e(u,m,h,p){const y=m*h,g=i(p),w=Math.ceil(m*g/8),v=new Uint8Array(4*y),x=new Uint32Array(v.buffer),{ctype:_}=p,{depth:C}=p,M=t.readUshort;if(_==6){const U=y<<2;if(C==8)for(var R=0;R<U;R+=4)v[R]=u[R],v[R+1]=u[R+1],v[R+2]=u[R+2],v[R+3]=u[R+3];if(C==16)for(R=0;R<U;R++)v[R]=u[R<<1]}else if(_==2){const U=p.tabs.tRNS;if(U==null){if(C==8)for(R=0;R<y;R++){var k=3*R;x[R]=255<<24|u[k+2]<<16|u[k+1]<<8|u[k]}if(C==16)for(R=0;R<y;R++)k=6*R,x[R]=255<<24|u[k+4]<<16|u[k+2]<<8|u[k]}else{var b=U[0];const z=U[1],G=U[2];if(C==8)for(R=0;R<y;R++){var T=R<<2;k=3*R,x[R]=255<<24|u[k+2]<<16|u[k+1]<<8|u[k],u[k]==b&&u[k+1]==z&&u[k+2]==G&&(v[T+3]=0)}if(C==16)for(R=0;R<y;R++)T=R<<2,k=6*R,x[R]=255<<24|u[k+4]<<16|u[k+2]<<8|u[k],M(u,k)==b&&M(u,k+2)==z&&M(u,k+4)==G&&(v[T+3]=0)}}else if(_==3){const U=p.tabs.PLTE,z=p.tabs.tRNS,G=z?z.length:0;if(C==1)for(var S=0;S<h;S++){var A=S*w,P=S*m;for(R=0;R<m;R++){T=P+R<<2;var j=3*(V=u[A+(R>>3)]>>7-((7&R)<<0)&1);v[T]=U[j],v[T+1]=U[j+1],v[T+2]=U[j+2],v[T+3]=V<G?z[V]:255}}if(C==2)for(S=0;S<h;S++)for(A=S*w,P=S*m,R=0;R<m;R++)T=P+R<<2,j=3*(V=u[A+(R>>2)]>>6-((3&R)<<1)&3),v[T]=U[j],v[T+1]=U[j+1],v[T+2]=U[j+2],v[T+3]=V<G?z[V]:255;if(C==4)for(S=0;S<h;S++)for(A=S*w,P=S*m,R=0;R<m;R++)T=P+R<<2,j=3*(V=u[A+(R>>1)]>>4-((1&R)<<2)&15),v[T]=U[j],v[T+1]=U[j+1],v[T+2]=U[j+2],v[T+3]=V<G?z[V]:255;if(C==8)for(R=0;R<y;R++){var V;T=R<<2,j=3*(V=u[R]),v[T]=U[j],v[T+1]=U[j+1],v[T+2]=U[j+2],v[T+3]=V<G?z[V]:255}}else if(_==4){if(C==8)for(R=0;R<y;R++){T=R<<2;var B=u[O=R<<1];v[T]=B,v[T+1]=B,v[T+2]=B,v[T+3]=u[O+1]}if(C==16)for(R=0;R<y;R++){var O;T=R<<2,B=u[O=R<<2],v[T]=B,v[T+1]=B,v[T+2]=B,v[T+3]=u[O+2]}}else if(_==0)for(b=p.tabs.tRNS?p.tabs.tRNS:-1,S=0;S<h;S++){const U=S*w,z=S*m;if(C==1)for(var D=0;D<m;D++){var F=(B=255*(u[U+(D>>>3)]>>>7-(7&D)&1))==255*b?0:255;x[z+D]=F<<24|B<<16|B<<8|B}else if(C==2)for(D=0;D<m;D++)F=(B=85*(u[U+(D>>>2)]>>>6-((3&D)<<1)&3))==85*b?0:255,x[z+D]=F<<24|B<<16|B<<8|B;else if(C==4)for(D=0;D<m;D++)F=(B=17*(u[U+(D>>>1)]>>>4-((1&D)<<2)&15))==17*b?0:255,x[z+D]=F<<24|B<<16|B<<8|B;else if(C==8)for(D=0;D<m;D++)F=(B=u[U+D])==b?0:255,x[z+D]=F<<24|B<<16|B<<8|B;else if(C==16)for(D=0;D<m;D++)B=u[U+(D<<1)],F=M(u,U+(D<<1))==b?0:255,x[z+D]=F<<24|B<<16|B<<8|B}return v}function n(u,m,h,p){const y=i(u),g=Math.ceil(h*y/8),w=new Uint8Array((g+1+u.interlace)*p);return m=u.tabs.CgBI?s(m,w):r(m,w),u.interlace==0?m=o(m,u,0,h,p):u.interlace==1&&(m=function(x,_){const C=_.width,M=_.height,R=i(_),k=R>>3,b=Math.ceil(C*R/8),T=new Uint8Array(M*b);let S=0;const A=[0,0,4,0,2,0,1],P=[0,4,0,2,0,1,0],j=[8,8,8,4,4,2,2],V=[8,8,4,4,2,2,1];let B=0;for(;B<7;){const D=j[B],F=V[B];let U=0,z=0,G=A[B];for(;G<M;)G+=D,z++;let W=P[B];for(;W<C;)W+=F,U++;const Q=Math.ceil(U*R/8);o(x,_,S,U,z);let Y=0,q=A[B];for(;q<M;){let ne=P[B],te=S+Y*Q<<3;for(;ne<C;){var O;if(R==1&&(O=(O=x[te>>3])>>7-(7&te)&1,T[q*b+(ne>>3)]|=O<<7-((7&ne)<<0)),R==2&&(O=(O=x[te>>3])>>6-(7&te)&3,T[q*b+(ne>>2)]|=O<<6-((3&ne)<<1)),R==4&&(O=(O=x[te>>3])>>4-(7&te)&15,T[q*b+(ne>>1)]|=O<<4-((1&ne)<<2)),R>=8){const de=q*b+ne*k;for(let ge=0;ge<k;ge++)T[de+ge]=x[(te>>3)+ge]}te+=R,ne+=F}Y++,q+=D}U*z!=0&&(S+=z*(1+Q)),B+=1}return T}(m,u)),m}function r(u,m){return s(new Uint8Array(u.buffer,2,u.length-6),m)}var s=function(){const u={H:{}};return u.H.N=function(m,h){const p=Uint8Array;let y,g,w=0,v=0,x=0,_=0,C=0,M=0,R=0,k=0,b=0;if(m[0]==3&&m[1]==0)return h||new p(0);const T=u.H,S=T.b,A=T.e,P=T.R,j=T.n,V=T.A,B=T.Z,O=T.m,D=h==null;for(D&&(h=new p(m.length>>>2<<5));w==0;)if(w=S(m,b,1),v=S(m,b+1,2),b+=3,v!=0){if(D&&(h=u.H.W(h,k+(1<<17))),v==1&&(y=O.J,g=O.h,M=511,R=31),v==2){x=A(m,b,5)+257,_=A(m,b+5,5)+1,C=A(m,b+10,4)+4,b+=14;let U=1;for(var F=0;F<38;F+=2)O.Q[F]=0,O.Q[F+1]=0;for(F=0;F<C;F++){const W=A(m,b+3*F,3);O.Q[1+(O.X[F]<<1)]=W,W>U&&(U=W)}b+=3*C,j(O.Q,U),V(O.Q,U,O.u),y=O.w,g=O.d,b=P(O.u,(1<<U)-1,x+_,m,b,O.v);const z=T.V(O.v,0,x,O.C);M=(1<<z)-1;const G=T.V(O.v,x,_,O.D);R=(1<<G)-1,j(O.C,z),V(O.C,z,y),j(O.D,G),V(O.D,G,g)}for(;;){const U=y[B(m,b)&M];b+=15&U;const z=U>>>4;if(!(z>>>8))h[k++]=z;else{if(z==256)break;{let G=k+z-254;if(z>264){const ne=O.q[z-257];G=k+(ne>>>3)+A(m,b,7&ne),b+=7&ne}const W=g[B(m,b)&R];b+=15&W;const Q=W>>>4,Y=O.c[Q],q=(Y>>>4)+S(m,b,15&Y);for(b+=15&Y;k<G;)h[k]=h[k++-q],h[k]=h[k++-q],h[k]=h[k++-q],h[k]=h[k++-q];k=G}}}}else{7&b&&(b+=8-(7&b));const U=4+(b>>>3),z=m[U-4]|m[U-3]<<8;D&&(h=u.H.W(h,k+z)),h.set(new p(m.buffer,m.byteOffset+U,z),k),b=U+z<<3,k+=z}return h.length==k?h:h.slice(0,k)},u.H.W=function(m,h){const p=m.length;if(h<=p)return m;const y=new Uint8Array(p<<1);return y.set(m,0),y},u.H.R=function(m,h,p,y,g,w){const v=u.H.e,x=u.H.Z;let _=0;for(;_<p;){const C=m[x(y,g)&h];g+=15&C;const M=C>>>4;if(M<=15)w[_]=M,_++;else{let R=0,k=0;M==16?(k=3+v(y,g,2),g+=2,R=w[_-1]):M==17?(k=3+v(y,g,3),g+=3):M==18&&(k=11+v(y,g,7),g+=7);const b=_+k;for(;_<b;)w[_]=R,_++}}return g},u.H.V=function(m,h,p,y){let g=0,w=0;const v=y.length>>>1;for(;w<p;){const x=m[w+h];y[w<<1]=0,y[1+(w<<1)]=x,x>g&&(g=x),w++}for(;w<v;)y[w<<1]=0,y[1+(w<<1)]=0,w++;return g},u.H.n=function(m,h){const p=u.H.m,y=m.length;let g,w,v,x;const _=p.j;for(var C=0;C<=h;C++)_[C]=0;for(C=1;C<y;C+=2)_[m[C]]++;const M=p.K;for(g=0,_[0]=0,w=1;w<=h;w++)g=g+_[w-1]<<1,M[w]=g;for(v=0;v<y;v+=2)x=m[v+1],x!=0&&(m[v]=M[x],M[x]++)},u.H.A=function(m,h,p){const y=m.length,g=u.H.m.r;for(let w=0;w<y;w+=2)if(m[w+1]!=0){const v=w>>1,x=m[w+1],_=v<<4|x,C=h-x;let M=m[w]<<C;const R=M+(1<<C);for(;M!=R;)p[g[M]>>>15-h]=_,M++}},u.H.l=function(m,h){const p=u.H.m.r,y=15-h;for(let g=0;g<m.length;g+=2){const w=m[g]<<h-m[g+1];m[g]=p[w]>>>y}},u.H.M=function(m,h,p){p<<=7&h;const y=h>>>3;m[y]|=p,m[y+1]|=p>>>8},u.H.I=function(m,h,p){p<<=7&h;const y=h>>>3;m[y]|=p,m[y+1]|=p>>>8,m[y+2]|=p>>>16},u.H.e=function(m,h,p){return(m[h>>>3]|m[1+(h>>>3)]<<8)>>>(7&h)&(1<<p)-1},u.H.b=function(m,h,p){return(m[h>>>3]|m[1+(h>>>3)]<<8|m[2+(h>>>3)]<<16)>>>(7&h)&(1<<p)-1},u.H.Z=function(m,h){return(m[h>>>3]|m[1+(h>>>3)]<<8|m[2+(h>>>3)]<<16)>>>(7&h)},u.H.i=function(m,h){return(m[h>>>3]|m[1+(h>>>3)]<<8|m[2+(h>>>3)]<<16|m[3+(h>>>3)]<<24)>>>(7&h)},u.H.m=function(){const m=Uint16Array,h=Uint32Array;return{K:new m(16),j:new m(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new m(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new h(32),J:new m(512),_:[],h:new m(32),$:[],w:new m(32768),C:[],v:[],d:new m(32768),D:[],u:new m(512),Q:[],r:new m(32768),s:new h(286),Y:new h(30),a:new h(19),t:new h(15e3),k:new m(65536),g:new m(32768)}}(),function(){const m=u.H.m;for(var h=0;h<32768;h++){let y=h;y=(2863311530&y)>>>1|(1431655765&y)<<1,y=(3435973836&y)>>>2|(858993459&y)<<2,y=(4042322160&y)>>>4|(252645135&y)<<4,y=(4278255360&y)>>>8|(16711935&y)<<8,m.r[h]=(y>>>16|y<<16)>>>17}function p(y,g,w){for(;g--!=0;)y.push(0,w)}for(h=0;h<32;h++)m.q[h]=m.S[h]<<3|m.T[h],m.c[h]=m.p[h]<<4|m.z[h];p(m._,144,8),p(m._,112,9),p(m._,24,7),p(m._,8,8),u.H.n(m._,9),u.H.A(m._,9,m.J),u.H.l(m._,9),p(m.$,32,5),u.H.n(m.$,5),u.H.A(m.$,5,m.h),u.H.l(m.$,5),p(m.Q,19,0),p(m.C,286,0),p(m.D,30,0),p(m.v,320,0)}(),u.H.N}();function i(u){return[1,null,3,1,2,null,4][u.ctype]*u.depth}function o(u,m,h,p,y){let g=i(m);const w=Math.ceil(p*g/8);let v,x;g=Math.ceil(g/8);let _=u[h],C=0;if(_>1&&(u[h]=[0,0,1][_-2]),_==3)for(C=g;C<w;C++)u[C+1]=u[C+1]+(u[C+1-g]>>>1)&255;for(let M=0;M<y;M++)if(v=h+M*w,x=v+M+1,_=u[x-1],C=0,_==0)for(;C<w;C++)u[v+C]=u[x+C];else if(_==1){for(;C<g;C++)u[v+C]=u[x+C];for(;C<w;C++)u[v+C]=u[x+C]+u[v+C-g]}else if(_==2)for(;C<w;C++)u[v+C]=u[x+C]+u[v+C-w];else if(_==3){for(;C<g;C++)u[v+C]=u[x+C]+(u[v+C-w]>>>1);for(;C<w;C++)u[v+C]=u[x+C]+(u[v+C-w]+u[v+C-g]>>>1)}else{for(;C<g;C++)u[v+C]=u[x+C]+l(0,u[v+C-w],0);for(;C<w;C++)u[v+C]=u[x+C]+l(u[v+C-g],u[v+C-w],u[v+C-g-w])}return u}function l(u,m,h){const p=u+m-h,y=p-u,g=p-m,w=p-h;return y*y<=g*g&&y*y<=w*w?u:g*g<=w*w?m:h}function c(u,m,h){h.width=t.readUint(u,m),m+=4,h.height=t.readUint(u,m),m+=4,h.depth=u[m],m++,h.ctype=u[m],m++,h.compress=u[m],m++,h.filter=u[m],m++,h.interlace=u[m],m++}function d(u,m,h,p,y,g,w,v,x){const _=Math.min(m,y),C=Math.min(h,g);let M=0,R=0;for(let B=0;B<C;B++)for(let O=0;O<_;O++)if(w>=0&&v>=0?(M=B*m+O<<2,R=(v+B)*y+w+O<<2):(M=(-v+B)*m-w+O<<2,R=B*y+O<<2),x==0)p[R]=u[M],p[R+1]=u[M+1],p[R+2]=u[M+2],p[R+3]=u[M+3];else if(x==1){var k=u[M+3]*.00392156862745098,b=u[M]*k,T=u[M+1]*k,S=u[M+2]*k,A=p[R+3]*(1/255),P=p[R]*A,j=p[R+1]*A,V=p[R+2]*A;const D=1-k,F=k+A*D,U=F==0?0:1/F;p[R+3]=255*F,p[R+0]=(b+P*D)*U,p[R+1]=(T+j*D)*U,p[R+2]=(S+V*D)*U}else if(x==2)k=u[M+3],b=u[M],T=u[M+1],S=u[M+2],A=p[R+3],P=p[R],j=p[R+1],V=p[R+2],k==A&&b==P&&T==j&&S==V?(p[R]=0,p[R+1]=0,p[R+2]=0,p[R+3]=0):(p[R]=b,p[R+1]=T,p[R+2]=S,p[R+3]=k);else if(x==3){if(k=u[M+3],b=u[M],T=u[M+1],S=u[M+2],A=p[R+3],P=p[R],j=p[R+1],V=p[R+2],k==A&&b==P&&T==j&&S==V)continue;if(k<220&&A>20)return!1}return!0}return{decode:function(m){const h=new Uint8Array(m);let p=8;const y=t,g=y.readUshort,w=y.readUint,v={tabs:{},frames:[]},x=new Uint8Array(h.length);let _,C=0,M=0;const R=[137,80,78,71,13,10,26,10];for(var k=0;k<8;k++)if(h[k]!=R[k])throw"The input is not a PNG file!";for(;p<h.length;){const B=y.readUint(h,p);p+=4;const O=y.readASCII(h,p,4);if(p+=4,O=="IHDR")c(h,p,v);else if(O=="iCCP"){for(var b=p;h[b]!=0;)b++;y.readASCII(h,p,b-p),h[b+1];const D=h.slice(b+2,p+B);let F=null;try{F=r(D)}catch{F=s(D)}v.tabs[O]=F}else if(O=="CgBI")v.tabs[O]=h.slice(p,p+4);else if(O=="IDAT"){for(k=0;k<B;k++)x[C+k]=h[p+k];C+=B}else if(O=="acTL")v.tabs[O]={num_frames:w(h,p),num_plays:w(h,p+4)},_=new Uint8Array(h.length);else if(O=="fcTL"){M!=0&&((V=v.frames[v.frames.length-1]).data=n(v,_.slice(0,M),V.rect.width,V.rect.height),M=0);const D={x:w(h,p+12),y:w(h,p+16),width:w(h,p+4),height:w(h,p+8)};let F=g(h,p+22);F=g(h,p+20)/(F==0?100:F);const U={rect:D,delay:Math.round(1e3*F),dispose:h[p+24],blend:h[p+25]};v.frames.push(U)}else if(O=="fdAT"){for(k=0;k<B-4;k++)_[M+k]=h[p+k+4];M+=B-4}else if(O=="pHYs")v.tabs[O]=[y.readUint(h,p),y.readUint(h,p+4),h[p+8]];else if(O=="cHRM")for(v.tabs[O]=[],k=0;k<8;k++)v.tabs[O].push(y.readUint(h,p+4*k));else if(O=="tEXt"||O=="zTXt"){v.tabs[O]==null&&(v.tabs[O]={});var T=y.nextZero(h,p),S=y.readASCII(h,p,T-p),A=p+B-T-1;if(O=="tEXt")j=y.readASCII(h,T+1,A);else{var P=r(h.slice(T+2,T+2+A));j=y.readUTF8(P,0,P.length)}v.tabs[O][S]=j}else if(O=="iTXt"){v.tabs[O]==null&&(v.tabs[O]={}),T=0,b=p,T=y.nextZero(h,b),S=y.readASCII(h,b,T-b);const D=h[b=T+1];var j;h[b+1],b+=2,T=y.nextZero(h,b),y.readASCII(h,b,T-b),b=T+1,T=y.nextZero(h,b),y.readUTF8(h,b,T-b),A=B-((b=T+1)-p),D==0?j=y.readUTF8(h,b,A):(P=r(h.slice(b,b+A)),j=y.readUTF8(P,0,P.length)),v.tabs[O][S]=j}else if(O=="PLTE")v.tabs[O]=y.readBytes(h,p,B);else if(O=="hIST"){const D=v.tabs.PLTE.length/3;for(v.tabs[O]=[],k=0;k<D;k++)v.tabs[O].push(g(h,p+2*k))}else if(O=="tRNS")v.ctype==3?v.tabs[O]=y.readBytes(h,p,B):v.ctype==0?v.tabs[O]=g(h,p):v.ctype==2&&(v.tabs[O]=[g(h,p),g(h,p+2),g(h,p+4)]);else if(O=="gAMA")v.tabs[O]=y.readUint(h,p)/1e5;else if(O=="sRGB")v.tabs[O]=h[p];else if(O=="bKGD")v.ctype==0||v.ctype==4?v.tabs[O]=[g(h,p)]:v.ctype==2||v.ctype==6?v.tabs[O]=[g(h,p),g(h,p+2),g(h,p+4)]:v.ctype==3&&(v.tabs[O]=h[p]);else if(O=="IEND")break;p+=B,y.readUint(h,p),p+=4}var V;return M!=0&&((V=v.frames[v.frames.length-1]).data=n(v,_.slice(0,M),V.rect.width,V.rect.height)),v.data=n(v,x,v.width,v.height),delete v.compress,delete v.interlace,delete v.filter,v},toRGBA8:function(m){const h=m.width,p=m.height;if(m.tabs.acTL==null)return[e(m.data,h,p,m).buffer];const y=[];m.frames[0].data==null&&(m.frames[0].data=m.data);const g=h*p*4,w=new Uint8Array(g),v=new Uint8Array(g),x=new Uint8Array(g);for(let C=0;C<m.frames.length;C++){const M=m.frames[C],R=M.rect.x,k=M.rect.y,b=M.rect.width,T=M.rect.height,S=e(M.data,b,T,m);if(C!=0)for(var _=0;_<g;_++)x[_]=w[_];if(M.blend==0?d(S,b,T,w,h,p,R,k,0):M.blend==1&&d(S,b,T,w,h,p,R,k,1),y.push(w.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)d(v,b,T,w,h,p,R,k,0);else if(M.dispose==2)for(_=0;_<g;_++)w[_]=x[_]}}return y},_paeth:l,_copyTile:d,_bin:t}}();(function(){const{_copyTile:t}=Cr,{_bin:e}=Cr,n=Cr._paeth;var r={table:function(){const b=new Uint32Array(256);for(let T=0;T<256;T++){let S=T;for(let A=0;A<8;A++)1&S?S=3988292384^S>>>1:S>>>=1;b[T]=S}return b}(),update(b,T,S,A){for(let P=0;P<A;P++)b=r.table[255&(b^T[S+P])]^b>>>8;return b},crc:(b,T,S)=>4294967295^r.update(4294967295,b,T,S)};function s(b,T,S,A){T[S]+=b[0]*A>>4,T[S+1]+=b[1]*A>>4,T[S+2]+=b[2]*A>>4,T[S+3]+=b[3]*A>>4}function i(b){return Math.max(0,Math.min(255,b))}function o(b,T){const S=b[0]-T[0],A=b[1]-T[1],P=b[2]-T[2],j=b[3]-T[3];return S*S+A*A+P*P+j*j}function l(b,T,S,A,P,j,V){V==null&&(V=1);const B=A.length,O=[];for(var D=0;D<B;D++){const q=A[D];O.push([q>>>0&255,q>>>8&255,q>>>16&255,q>>>24&255])}for(D=0;D<B;D++){let q=4294967295;for(var F=0,U=0;U<B;U++){var z=o(O[D],O[U]);U!=D&&z<q&&(q=z,F=U)}}const G=new Uint32Array(P.buffer),W=new Int16Array(T*S*4),Q=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(D=0;D<Q.length;D++)Q[D]=255*((Q[D]+.5)/16-.5);for(let q=0;q<S;q++)for(let ne=0;ne<T;ne++){var Y;D=4*(q*T+ne),V!=2?Y=[i(b[D]+W[D]),i(b[D+1]+W[D+1]),i(b[D+2]+W[D+2]),i(b[D+3]+W[D+3])]:(z=Q[4*(3&q)+(3&ne)],Y=[i(b[D]+z),i(b[D+1]+z),i(b[D+2]+z),i(b[D+3]+z)]),F=0;let te=16777215;for(U=0;U<B;U++){const ue=o(Y,O[U]);ue<te&&(te=ue,F=U)}const de=O[F],ge=[Y[0]-de[0],Y[1]-de[1],Y[2]-de[2],Y[3]-de[3]];V==1&&(ne!=T-1&&s(ge,W,D+4,7),q!=S-1&&(ne!=0&&s(ge,W,D+4*T-4,3),s(ge,W,D+4*T,5),ne!=T-1&&s(ge,W,D+4*T+4,1))),j[D>>2]=F,G[D>>2]=A[F]}}function c(b,T,S,A,P){P==null&&(P={});const{crc:j}=r,V=e.writeUint,B=e.writeUshort,O=e.writeASCII;let D=8;const F=b.frames.length>1;let U,z=!1,G=33+(F?20:0);if(P.sRGB!=null&&(G+=13),P.pHYs!=null&&(G+=21),P.iCCP!=null&&(U=pako.deflate(P.iCCP),G+=21+U.length+4),b.ctype==3){for(var W=b.plte.length,Q=0;Q<W;Q++)b.plte[Q]>>>24!=255&&(z=!0);G+=8+3*W+4+(z?8+1*W+4:0)}for(var Y=0;Y<b.frames.length;Y++)F&&(G+=38),G+=(de=b.frames[Y]).cimg.length+12,Y!=0&&(G+=4);G+=12;const q=new Uint8Array(G),ne=[137,80,78,71,13,10,26,10];for(Q=0;Q<8;Q++)q[Q]=ne[Q];if(V(q,D,13),D+=4,O(q,D,"IHDR"),D+=4,V(q,D,T),D+=4,V(q,D,S),D+=4,q[D]=b.depth,D++,q[D]=b.ctype,D++,q[D]=0,D++,q[D]=0,D++,q[D]=0,D++,V(q,D,j(q,D-17,17)),D+=4,P.sRGB!=null&&(V(q,D,1),D+=4,O(q,D,"sRGB"),D+=4,q[D]=P.sRGB,D++,V(q,D,j(q,D-5,5)),D+=4),P.iCCP!=null){const ge=13+U.length;V(q,D,ge),D+=4,O(q,D,"iCCP"),D+=4,O(q,D,"ICC profile"),D+=11,D+=2,q.set(U,D),D+=U.length,V(q,D,j(q,D-(ge+4),ge+4)),D+=4}if(P.pHYs!=null&&(V(q,D,9),D+=4,O(q,D,"pHYs"),D+=4,V(q,D,P.pHYs[0]),D+=4,V(q,D,P.pHYs[1]),D+=4,q[D]=P.pHYs[2],D++,V(q,D,j(q,D-13,13)),D+=4),F&&(V(q,D,8),D+=4,O(q,D,"acTL"),D+=4,V(q,D,b.frames.length),D+=4,V(q,D,P.loop!=null?P.loop:0),D+=4,V(q,D,j(q,D-12,12)),D+=4),b.ctype==3){for(V(q,D,3*(W=b.plte.length)),D+=4,O(q,D,"PLTE"),D+=4,Q=0;Q<W;Q++){const ge=3*Q,ue=b.plte[Q],he=255&ue,pe=ue>>>8&255,rt=ue>>>16&255;q[D+ge+0]=he,q[D+ge+1]=pe,q[D+ge+2]=rt}if(D+=3*W,V(q,D,j(q,D-3*W-4,3*W+4)),D+=4,z){for(V(q,D,W),D+=4,O(q,D,"tRNS"),D+=4,Q=0;Q<W;Q++)q[D+Q]=b.plte[Q]>>>24&255;D+=W,V(q,D,j(q,D-W-4,W+4)),D+=4}}let te=0;for(Y=0;Y<b.frames.length;Y++){var de=b.frames[Y];F&&(V(q,D,26),D+=4,O(q,D,"fcTL"),D+=4,V(q,D,te++),D+=4,V(q,D,de.rect.width),D+=4,V(q,D,de.rect.height),D+=4,V(q,D,de.rect.x),D+=4,V(q,D,de.rect.y),D+=4,B(q,D,A[Y]),D+=2,B(q,D,1e3),D+=2,q[D]=de.dispose,D++,q[D]=de.blend,D++,V(q,D,j(q,D-30,30)),D+=4);const ge=de.cimg;V(q,D,(W=ge.length)+(Y==0?0:4)),D+=4;const ue=D;O(q,D,Y==0?"IDAT":"fdAT"),D+=4,Y!=0&&(V(q,D,te++),D+=4),q.set(ge,D),D+=W,V(q,D,j(q,ue,D-ue)),D+=4}return V(q,D,0),D+=4,O(q,D,"IEND"),D+=4,V(q,D,j(q,D-4,4)),D+=4,q.buffer}function d(b,T,S){for(let A=0;A<b.frames.length;A++){const P=b.frames[A];P.rect.width;const j=P.rect.height,V=new Uint8Array(j*P.bpl+j);P.cimg=p(P.img,j,P.bpp,P.bpl,V,T,S)}}function u(b,T,S,A,P){const j=P[0],V=P[1],B=P[2],O=P[3],D=P[4],F=P[5];let U=6,z=8,G=255;for(var W=0;W<b.length;W++){const We=new Uint8Array(b[W]);for(var Q=We.length,Y=0;Y<Q;Y+=4)G&=We[Y+3]}const q=G!=255,ne=function(Ve,qe,Ae,ot,dt,Zt){const Je=[];for(var Ge=0;Ge<Ve.length;Ge++){const At=new Uint8Array(Ve[Ge]),kn=new Uint32Array(At.buffer);var $t;let Pt=0,In=0,jn=qe,An=Ae,$n=ot?1:0;if(Ge!=0){const Ll=Zt||ot||Ge==1||Je[Ge-2].dispose!=0?1:2;let xe=0,Ke=1e9;for(let Fe=0;Fe<Ll;Fe++){var Ze=new Uint8Array(Ve[Ge-1-Fe]);const Gt=new Uint32Array(Ve[Ge-1-Fe]);let wt=qe,tn=Ae,dn=-1,Hs=-1;for(let Gr=0;Gr<Ae;Gr++)for(let er=0;er<qe;er++)kn[yt=Gr*qe+er]!=Gt[yt]&&(er<wt&&(wt=er),er>dn&&(dn=er),Gr<tn&&(tn=Gr),Gr>Hs&&(Hs=Gr));dn==-1&&(wt=tn=dn=Hs=0),dt&&((1&wt)==1&&wt--,(1&tn)==1&&tn--);const ao=(dn-wt+1)*(Hs-tn+1);ao<Ke&&(Ke=ao,xe=Fe,Pt=wt,In=tn,jn=dn-wt+1,An=Hs-tn+1)}Ze=new Uint8Array(Ve[Ge-1-xe]),xe==1&&(Je[Ge-1].dispose=2),$t=new Uint8Array(jn*An*4),t(Ze,qe,Ae,$t,jn,An,-Pt,-In,0),$n=t(At,qe,Ae,$t,jn,An,-Pt,-In,3)?1:0,$n==1?h(At,qe,Ae,$t,{x:Pt,y:In,width:jn,height:An}):t(At,qe,Ae,$t,jn,An,-Pt,-In,0)}else $t=At.slice(0);Je.push({rect:{x:Pt,y:In,width:jn,height:An},img:$t,blend:$n,dispose:0})}if(ot)for(Ge=0;Ge<Je.length;Ge++){if((en=Je[Ge]).blend==1)continue;const At=en.rect,kn=Je[Ge-1].rect,Pt=Math.min(At.x,kn.x),In=Math.min(At.y,kn.y),jn={x:Pt,y:In,width:Math.max(At.x+At.width,kn.x+kn.width)-Pt,height:Math.max(At.y+At.height,kn.y+kn.height)-In};Je[Ge-1].dispose=1,Ge-1!=0&&m(Ve,qe,Ae,Je,Ge-1,jn,dt),m(Ve,qe,Ae,Je,Ge,jn,dt)}let st=0;if(Ve.length!=1)for(var yt=0;yt<Je.length;yt++){var en;st+=(en=Je[yt]).rect.width*en.rect.height}return Je}(b,T,S,j,V,B),te={},de=[],ge=[];if(A!=0){const We=[];for(Y=0;Y<ne.length;Y++)We.push(ne[Y].img.buffer);const Ve=function(dt){let Zt=0;for(var Je=0;Je<dt.length;Je++)Zt+=dt[Je].byteLength;const Ge=new Uint8Array(Zt);let $t=0;for(Je=0;Je<dt.length;Je++){const Ze=new Uint8Array(dt[Je]),st=Ze.length;for(let yt=0;yt<st;yt+=4){let en=Ze[yt],At=Ze[yt+1],kn=Ze[yt+2];const Pt=Ze[yt+3];Pt==0&&(en=At=kn=0),Ge[$t+yt]=en,Ge[$t+yt+1]=At,Ge[$t+yt+2]=kn,Ge[$t+yt+3]=Pt}$t+=st}return Ge.buffer}(We),qe=g(Ve,A);for(Y=0;Y<qe.plte.length;Y++)de.push(qe.plte[Y].est.rgba);let Ae=0;for(Y=0;Y<ne.length;Y++){const ot=(he=ne[Y]).img.length;var ue=new Uint8Array(qe.inds.buffer,Ae>>2,ot>>2);ge.push(ue);const dt=new Uint8Array(qe.abuf,Ae,ot);F&&l(he.img,he.rect.width,he.rect.height,de,dt,ue),he.img.set(dt),Ae+=ot}}else for(W=0;W<ne.length;W++){var he=ne[W];const We=new Uint32Array(he.img.buffer);var pe=he.rect.width;for(Q=We.length,ue=new Uint8Array(Q),ge.push(ue),Y=0;Y<Q;Y++){const Ve=We[Y];if(Y!=0&&Ve==We[Y-1])ue[Y]=ue[Y-1];else if(Y>pe&&Ve==We[Y-pe])ue[Y]=ue[Y-pe];else{let qe=te[Ve];if(qe==null&&(te[Ve]=qe=de.length,de.push(Ve),de.length>=300))break;ue[Y]=qe}}}const rt=de.length;for(rt<=256&&D==0&&(z=rt<=2?1:rt<=4?2:rt<=16?4:8,z=Math.max(z,O)),W=0;W<ne.length;W++){(he=ne[W]).rect.x,he.rect.y,pe=he.rect.width;const We=he.rect.height;let Ve=he.img;new Uint32Array(Ve.buffer);let qe=4*pe,Ae=4;if(rt<=256&&D==0){qe=Math.ceil(z*pe/8);var nt=new Uint8Array(qe*We);const ot=ge[W];for(let dt=0;dt<We;dt++){Y=dt*qe;const Zt=dt*pe;if(z==8)for(var Le=0;Le<pe;Le++)nt[Y+Le]=ot[Zt+Le];else if(z==4)for(Le=0;Le<pe;Le++)nt[Y+(Le>>1)]|=ot[Zt+Le]<<4-4*(1&Le);else if(z==2)for(Le=0;Le<pe;Le++)nt[Y+(Le>>2)]|=ot[Zt+Le]<<6-2*(3&Le);else if(z==1)for(Le=0;Le<pe;Le++)nt[Y+(Le>>3)]|=ot[Zt+Le]<<7-1*(7&Le)}Ve=nt,U=3,Ae=1}else if(q==0&&ne.length==1){nt=new Uint8Array(pe*We*3);const ot=pe*We;for(Y=0;Y<ot;Y++){const dt=3*Y,Zt=4*Y;nt[dt]=Ve[Zt],nt[dt+1]=Ve[Zt+1],nt[dt+2]=Ve[Zt+2]}Ve=nt,U=2,Ae=3,qe=3*pe}he.img=Ve,he.bpl=qe,he.bpp=Ae}return{ctype:U,depth:z,plte:de,frames:ne}}function m(b,T,S,A,P,j,V){const B=Uint8Array,O=Uint32Array,D=new B(b[P-1]),F=new O(b[P-1]),U=P+1<b.length?new B(b[P+1]):null,z=new B(b[P]),G=new O(z.buffer);let W=T,Q=S,Y=-1,q=-1;for(let te=0;te<j.height;te++)for(let de=0;de<j.width;de++){const ge=j.x+de,ue=j.y+te,he=ue*T+ge,pe=G[he];pe==0||A[P-1].dispose==0&&F[he]==pe&&(U==null||U[4*he+3]!=0)||(ge<W&&(W=ge),ge>Y&&(Y=ge),ue<Q&&(Q=ue),ue>q&&(q=ue))}Y==-1&&(W=Q=Y=q=0),V&&((1&W)==1&&W--,(1&Q)==1&&Q--),j={x:W,y:Q,width:Y-W+1,height:q-Q+1};const ne=A[P];ne.rect=j,ne.blend=1,ne.img=new Uint8Array(j.width*j.height*4),A[P-1].dispose==0?(t(D,T,S,ne.img,j.width,j.height,-j.x,-j.y,0),h(z,T,S,ne.img,j)):t(z,T,S,ne.img,j.width,j.height,-j.x,-j.y,0)}function h(b,T,S,A,P){t(b,T,S,A,P.width,P.height,-P.x,-P.y,2)}function p(b,T,S,A,P,j,V){const B=[];let O,D=[0,1,2,3,4];j!=-1?D=[j]:(T*A>5e5||S==1)&&(D=[0]),V&&(O={level:0});const F=$H;for(var U=0;U<D.length;U++){for(let W=0;W<T;W++)y(P,b,W,A,S,D[U]);B.push(F.deflate(P,O))}let z,G=1e9;for(U=0;U<B.length;U++)B[U].length<G&&(z=U,G=B[U].length);return B[z]}function y(b,T,S,A,P,j){const V=S*A;let B=V+S;if(b[B]=j,B++,j==0)if(A<500)for(var O=0;O<A;O++)b[B+O]=T[V+O];else b.set(new Uint8Array(T.buffer,V,A),B);else if(j==1){for(O=0;O<P;O++)b[B+O]=T[V+O];for(O=P;O<A;O++)b[B+O]=T[V+O]-T[V+O-P]+256&255}else if(S==0){for(O=0;O<P;O++)b[B+O]=T[V+O];if(j==2)for(O=P;O<A;O++)b[B+O]=T[V+O];if(j==3)for(O=P;O<A;O++)b[B+O]=T[V+O]-(T[V+O-P]>>1)+256&255;if(j==4)for(O=P;O<A;O++)b[B+O]=T[V+O]-n(T[V+O-P],0,0)+256&255}else{if(j==2)for(O=0;O<A;O++)b[B+O]=T[V+O]+256-T[V+O-A]&255;if(j==3){for(O=0;O<P;O++)b[B+O]=T[V+O]+256-(T[V+O-A]>>1)&255;for(O=P;O<A;O++)b[B+O]=T[V+O]+256-(T[V+O-A]+T[V+O-P]>>1)&255}if(j==4){for(O=0;O<P;O++)b[B+O]=T[V+O]+256-n(0,T[V+O-A],0)&255;for(O=P;O<A;O++)b[B+O]=T[V+O]+256-n(T[V+O-P],T[V+O-A],T[V+O-P-A])&255}}}function g(b,T){const S=new Uint8Array(b),A=S.slice(0),P=new Uint32Array(A.buffer),j=w(A,T),V=j[0],B=j[1],O=S.length,D=new Uint8Array(O>>2);let F;if(S.length<2e7)for(var U=0;U<O;U+=4)F=v(V,z=S[U]*(1/255),G=S[U+1]*(1/255),W=S[U+2]*(1/255),Q=S[U+3]*(1/255)),D[U>>2]=F.ind,P[U>>2]=F.est.rgba;else for(U=0;U<O;U+=4){var z=S[U]*.00392156862745098,G=S[U+1]*(1/255),W=S[U+2]*(1/255),Q=S[U+3]*(1/255);for(F=V;F.left;)F=x(F.est,z,G,W,Q)<=0?F.left:F.right;D[U>>2]=F.ind,P[U>>2]=F.est.rgba}return{abuf:A.buffer,inds:D,plte:B}}function w(b,T,S){S==null&&(S=1e-4);const A=new Uint32Array(b.buffer),P={i0:0,i1:b.length,bst:null,est:null,tdst:0,left:null,right:null};P.bst=M(b,P.i0,P.i1),P.est=R(P.bst);const j=[P];for(;j.length<T;){let B=0,O=0;for(var V=0;V<j.length;V++)j[V].est.L>B&&(B=j[V].est.L,O=V);if(B<S)break;const D=j[O],F=_(b,A,D.i0,D.i1,D.est.e,D.est.eMq255);if(D.i0>=F||D.i1<=F){D.est.L=0;continue}const U={i0:D.i0,i1:F,bst:null,est:null,tdst:0,left:null,right:null};U.bst=M(b,U.i0,U.i1),U.est=R(U.bst);const z={i0:F,i1:D.i1,bst:null,est:null,tdst:0,left:null,right:null};for(z.bst={R:[],m:[],N:D.bst.N-U.bst.N},V=0;V<16;V++)z.bst.R[V]=D.bst.R[V]-U.bst.R[V];for(V=0;V<4;V++)z.bst.m[V]=D.bst.m[V]-U.bst.m[V];z.est=R(z.bst),D.left=U,D.right=z,j[O]=U,j.push(z)}for(j.sort((B,O)=>O.bst.N-B.bst.N),V=0;V<j.length;V++)j[V].ind=V;return[P,j]}function v(b,T,S,A,P){if(b.left==null)return b.tdst=function(U,z,G,W,Q){const Y=z-U[0],q=G-U[1],ne=W-U[2],te=Q-U[3];return Y*Y+q*q+ne*ne+te*te}(b.est.q,T,S,A,P),b;const j=x(b.est,T,S,A,P);let V=b.left,B=b.right;j>0&&(V=b.right,B=b.left);const O=v(V,T,S,A,P);if(O.tdst<=j*j)return O;const D=v(B,T,S,A,P);return D.tdst<O.tdst?D:O}function x(b,T,S,A,P){const{e:j}=b;return j[0]*T+j[1]*S+j[2]*A+j[3]*P-b.eMq}function _(b,T,S,A,P,j){for(A-=4;S<A;){for(;C(b,S,P)<=j;)S+=4;for(;C(b,A,P)>j;)A-=4;if(S>=A)break;const V=T[S>>2];T[S>>2]=T[A>>2],T[A>>2]=V,S+=4,A-=4}for(;C(b,S,P)>j;)S-=4;return S+4}function C(b,T,S){return b[T]*S[0]+b[T+1]*S[1]+b[T+2]*S[2]+b[T+3]*S[3]}function M(b,T,S){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],P=[0,0,0,0],j=S-T>>2;for(let V=T;V<S;V+=4){const B=b[V]*.00392156862745098,O=b[V+1]*(1/255),D=b[V+2]*(1/255),F=b[V+3]*(1/255);P[0]+=B,P[1]+=O,P[2]+=D,P[3]+=F,A[0]+=B*B,A[1]+=B*O,A[2]+=B*D,A[3]+=B*F,A[5]+=O*O,A[6]+=O*D,A[7]+=O*F,A[10]+=D*D,A[11]+=D*F,A[15]+=F*F}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:P,N:j}}function R(b){const{R:T}=b,{m:S}=b,{N:A}=b,P=S[0],j=S[1],V=S[2],B=S[3],O=A==0?0:1/A,D=[T[0]-P*P*O,T[1]-P*j*O,T[2]-P*V*O,T[3]-P*B*O,T[4]-j*P*O,T[5]-j*j*O,T[6]-j*V*O,T[7]-j*B*O,T[8]-V*P*O,T[9]-V*j*O,T[10]-V*V*O,T[11]-V*B*O,T[12]-B*P*O,T[13]-B*j*O,T[14]-B*V*O,T[15]-B*B*O],F=D,U=k;let z=[Math.random(),Math.random(),Math.random(),Math.random()],G=0,W=0;if(A!=0)for(let Y=0;Y<16&&(z=U.multVec(F,z),W=Math.sqrt(U.dot(z,z)),z=U.sml(1/W,z),!(Y!=0&&Math.abs(W-G)<1e-9));Y++)G=W;const Q=[P*O,j*O,V*O,B*O];return{Cov:D,q:Q,e:z,L:G,eMq255:U.dot(U.sml(255,Q),z),eMq:U.dot(z,Q),rgba:(Math.round(255*Q[3])<<24|Math.round(255*Q[2])<<16|Math.round(255*Q[1])<<8|Math.round(255*Q[0])<<0)>>>0}}var k={multVec:(b,T)=>[b[0]*T[0]+b[1]*T[1]+b[2]*T[2]+b[3]*T[3],b[4]*T[0]+b[5]*T[1]+b[6]*T[2]+b[7]*T[3],b[8]*T[0]+b[9]*T[1]+b[10]*T[2]+b[11]*T[3],b[12]*T[0]+b[13]*T[1]+b[14]*T[2]+b[15]*T[3]],dot:(b,T)=>b[0]*T[0]+b[1]*T[1]+b[2]*T[2]+b[3]*T[3],sml:(b,T)=>[b*T[0],b*T[1],b*T[2],b*T[3]]};Cr.encode=function(T,S,A,P,j,V,B){P==null&&(P=0),B==null&&(B=!1);const O=u(T,S,A,P,[!1,!1,!1,0,B,!1]);return d(O,-1),c(O,S,A,j,V)},Cr.encodeLL=function(T,S,A,P,j,V,B,O){const D={ctype:0+(P==1?0:2)+(j==0?0:4),depth:V,frames:[]},F=(P+j)*V,U=F*S;for(let z=0;z<T.length;z++)D.frames.push({rect:{x:0,y:0,width:S,height:A},img:new Uint8Array(T[z]),blend:0,dispose:1,bpp:Math.ceil(F/8),bpl:Math.ceil(U/8)});return d(D,0,!0),c(D,S,A,B,O)},Cr.encode.compress=u,Cr.encode.dither=l,Cr.quantize=g,Cr.quantize.getKDtree=w,Cr.quantize.getNearest=v})();const Uj={toArrayBuffer(t,e){const n=t.width,r=t.height,s=n<<2,i=t.getContext("2d").getImageData(0,0,n,r),o=new Uint32Array(i.data.buffer),l=(32*n+31)/32<<2,c=l*r,d=122+c,u=new ArrayBuffer(d),m=new DataView(u),h=1<<20;let p,y,g,w,v=h,x=0,_=0,C=0;function M(b){m.setUint16(_,b,!0),_+=2}function R(b){m.setUint32(_,b,!0),_+=4}function k(b){_+=b}M(19778),R(d),k(4),R(122),R(108),R(n),R(-r>>>0),M(1),M(32),R(3),R(c),R(2835),R(2835),k(8),R(16711680),R(65280),R(255),R(4278190080),R(1466527264),function b(){for(;x<r&&v>0;){for(w=122+x*l,p=0;p<s;)v--,y=o[C++],g=y>>>24,m.setUint32(w+p,y<<8|g),p+=4;x++}C<o.length?(v=h,setTimeout(b,Uj._dly)):e(u)}()},toBlob(t,e){this.toArrayBuffer(t,n=>{e(new Blob([n],{type:"image/bmp"}))})},_dly:9};var qn={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},WH={[qn.CHROME]:16384,[qn.FIREFOX]:11180,[qn.DESKTOP_SAFARI]:16384,[qn.IE]:8192,[qn.IOS]:4096,[qn.ETC]:8192};const Z0=typeof window<"u",Bj=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,If=Z0&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),HH=(Z0||Bj)&&(If&&If.getOriginalSymbol(window,"File")||typeof File<"u"&&File),zj=(Z0||Bj)&&(If&&If.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function ew(t,e,n=Date.now()){return new Promise(r=>{const s=t.split(","),i=s[0].match(/:(.*?);/)[1],o=globalThis.atob(s[1]);let l=o.length;const c=new Uint8Array(l);for(;l--;)c[l]=o.charCodeAt(l);const d=new Blob([c],{type:i});d.name=e,d.lastModified=n,r(d)})}function $j(t){return new Promise((e,n)=>{const r=new zj;r.onload=()=>e(r.result),r.onerror=s=>n(s),r.readAsDataURL(t)})}function Wj(t){return new Promise((e,n)=>{const r=new Image;r.onload=()=>e(r),r.onerror=s=>n(s),r.src=t})}function Eo(){if(Eo.cachedResult!==void 0)return Eo.cachedResult;let t=qn.ETC;const{userAgent:e}=navigator;return/Chrom(e|ium)/i.test(e)?t=qn.CHROME:/iP(ad|od|hone)/i.test(e)&&/WebKit/i.test(e)?t=qn.IOS:/Safari/i.test(e)?t=qn.DESKTOP_SAFARI:/Firefox/i.test(e)?t=qn.FIREFOX:(/MSIE/i.test(e)||document.documentMode)&&(t=qn.IE),Eo.cachedResult=t,Eo.cachedResult}function Hj(t,e){const n=Eo(),r=WH[n];let s=t,i=e,o=s*i;const l=s>i?i/s:s/i;for(;o>r*r;){const c=(r+s)/2,d=(r+i)/2;c<d?(i=d,s=d*l):(i=c*l,s=c),o=s*i}return{width:s,height:i}}function Lm(t,e){let n,r;try{if(n=new OffscreenCanvas(t,e),r=n.getContext("2d"),r===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{n=document.createElement("canvas"),r=n.getContext("2d")}return n.width=t,n.height=e,[n,r]}function qj(t,e){const{width:n,height:r}=Hj(t.width,t.height),[s,i]=Lm(n,r);return e&&/jpe?g/.test(e)&&(i.fillStyle="white",i.fillRect(0,0,s.width,s.height)),i.drawImage(t,0,0,s.width,s.height),s}function Nh(){return Nh.cachedResult!==void 0||(Nh.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),Nh.cachedResult}function jf(t,e={}){return new Promise(function(n,r){let s,i;var o=function(){try{return i=qj(s,e.fileType||t.type),n([s,i])}catch(c){return r(c)}},l=function(c){try{var d=function(u){try{throw u}catch(m){return r(m)}};try{let u;return $j(t).then(function(m){try{return u=m,Wj(u).then(function(h){try{return s=h,function(){try{return o()}catch(p){return r(p)}}()}catch(p){return d(p)}},d)}catch(h){return d(h)}},d)}catch(u){d(u)}}catch(u){return r(u)}};try{if(Nh()||[qn.DESKTOP_SAFARI,qn.MOBILE_SAFARI].includes(Eo()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(t).then(function(c){try{return s=c,o()}catch{return l()}},l)}catch{l()}})}function Af(t,e,n,r,s=1){return new Promise(function(i,o){let l;if(e==="image/png"){let m,h,p;return m=t.getContext("2d"),{data:h}=m.getImageData(0,0,t.width,t.height),p=Cr.encode([h.buffer],t.width,t.height,4096*s),l=new Blob([p],{type:e}),l.name=n,l.lastModified=r,c.call(this)}{let m=function(){return c.call(this)};var d=m;if(e==="image/bmp")return new Promise(h=>Uj.toBlob(t,h)).then((function(h){try{return l=h,l.name=n,l.lastModified=r,m.call(this)}catch(p){return o(p)}}).bind(this),o);{let h=function(){return m.call(this)};var u=h;if(typeof OffscreenCanvas=="function"&&t instanceof OffscreenCanvas)return t.convertToBlob({type:e,quality:s}).then((function(p){try{return l=p,l.name=n,l.lastModified=r,h.call(this)}catch(y){return o(y)}}).bind(this),o);{let p;return p=t.toDataURL(e,s),ew(p,n,r).then((function(y){try{return l=y,h.call(this)}catch(g){return o(g)}}).bind(this),o)}}}function c(){return i(l)}})}function es(t){t.width=0,t.height=0}function Pa(){return new Promise(function(t,e){let n,r,s,i;return Pa.cachedResult!==void 0?t(Pa.cachedResult):ew("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(o){try{return n=o,jf(n).then(function(l){try{return r=l[1],Af(r,n.type,n.name,n.lastModified).then(function(c){try{return s=c,es(r),jf(s).then(function(d){try{return i=d[0],Pa.cachedResult=i.width===1&&i.height===2,t(Pa.cachedResult)}catch(u){return e(u)}},e)}catch(d){return e(d)}},e)}catch(c){return e(c)}},e)}catch(l){return e(l)}},e)})}function Gj(t){return new Promise((e,n)=>{const r=new zj;r.onload=s=>{const i=new DataView(s.target.result);if(i.getUint16(0,!1)!=65496)return e(-2);const o=i.byteLength;let l=2;for(;l<o;){if(i.getUint16(l+2,!1)<=8)return e(-1);const c=i.getUint16(l,!1);if(l+=2,c==65505){if(i.getUint32(l+=2,!1)!=1165519206)return e(-1);const d=i.getUint16(l+=6,!1)==18761;l+=i.getUint32(l+4,d);const u=i.getUint16(l,d);l+=2;for(let m=0;m<u;m++)if(i.getUint16(l+12*m,d)==274)return e(i.getUint16(l+12*m+8,d))}else{if((65280&c)!=65280)break;l+=i.getUint16(l,!1)}}return e(-1)},r.onerror=s=>n(s),r.readAsArrayBuffer(t)})}function Kj(t,e){const{width:n}=t,{height:r}=t,{maxWidthOrHeight:s}=e;let i,o=t;return isFinite(s)&&(n>s||r>s)&&([o,i]=Lm(n,r),n>r?(o.width=s,o.height=r/n*s):(o.width=n/r*s,o.height=s),i.drawImage(t,0,0,o.width,o.height),es(t)),o}function Qj(t,e){const{width:n}=t,{height:r}=t,[s,i]=Lm(n,r);switch(e>4&&e<9?(s.width=r,s.height=n):(s.width=n,s.height=r),e){case 2:i.transform(-1,0,0,1,n,0);break;case 3:i.transform(-1,0,0,-1,n,r);break;case 4:i.transform(1,0,0,-1,0,r);break;case 5:i.transform(0,1,1,0,0,0);break;case 6:i.transform(0,1,-1,0,r,0);break;case 7:i.transform(0,-1,-1,0,r,n);break;case 8:i.transform(0,-1,1,0,0,n)}return i.drawImage(t,0,0,n,r),es(t),s}function OE(t,e,n=0){return new Promise(function(r,s){let i,o,l,c,d,u,m,h,p,y,g,w,v,x,_,C,M,R,k,b;function T(A=5){if(e.signal&&e.signal.aborted)throw e.signal.reason;i+=A,e.onProgress(Math.min(i,100))}function S(A){if(e.signal&&e.signal.aborted)throw e.signal.reason;i=Math.min(Math.max(A,i),100),e.onProgress(i)}return i=n,o=e.maxIteration||10,l=1024*e.maxSizeMB*1024,T(),jf(t,e).then((function(A){try{return[,c]=A,T(),d=Kj(c,e),T(),new Promise(function(P,j){var V;if(!(V=e.exifOrientation))return Gj(t).then((function(O){try{return V=O,B.call(this)}catch(D){return j(D)}}).bind(this),j);function B(){return P(V)}return B.call(this)}).then((function(P){try{return u=P,T(),Pa().then((function(j){try{return m=j?d:Qj(d,u),T(),h=e.initialQuality||1,p=e.fileType||t.type,Af(m,p,t.name,t.lastModified,h).then((function(V){try{{let F=function(){if(o--&&(_>l||_>v)){let z,G;return z=b?.95*k.width:k.width,G=b?.95*k.height:k.height,[M,R]=Lm(z,G),R.drawImage(k,0,0,z,G),h*=p==="image/png"?.85:.95,Af(M,p,t.name,t.lastModified,h).then(function(W){try{return C=W,es(k),k=M,_=C.size,S(Math.min(99,Math.floor((x-_)/(x-l)*100))),F}catch(Q){return s(Q)}},s)}return[1]},U=function(){return es(k),es(M),es(d),es(m),es(c),S(100),r(C)};var O=F,D=U;if(y=V,T(),g=y.size>l,w=y.size>t.size,!g&&!w)return S(100),r(y);var B;return v=t.size,x=y.size,_=x,k=m,b=!e.alwaysKeepResolution&&g,(B=(function(z){for(;z;){if(z.then)return void z.then(B,s);try{if(z.pop){if(z.length)return z.pop()?U.call(this):z;z=F}else z=z.call(this)}catch(G){return s(G)}}}).bind(this))(F)}}catch(F){return s(F)}}).bind(this),s)}catch(V){return s(V)}}).bind(this),s)}catch(j){return s(j)}}).bind(this),s)}catch(P){return s(P)}}).bind(this),s)})}const qH=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let cg;function GH(t,e){return new Promise((n,r)=>{cg||(cg=function(o){const l=[];return l.push(o),URL.createObjectURL(new Blob(l))}(qH));const s=new Worker(cg);s.addEventListener("message",function(o){if(e.signal&&e.signal.aborted)s.terminate();else if(o.data.progress===void 0){if(o.data.error)return r(new Error(o.data.error)),void s.terminate();n(o.data.file),s.terminate()}else e.onProgress(o.data.progress)}),s.addEventListener("error",r),e.signal&&e.signal.addEventListener("abort",()=>{r(e.signal.reason),s.terminate()}),s.postMessage({file:t,imageCompressionLibUrl:e.libURL,options:{...e,onProgress:void 0,signal:void 0}})})}function Kt(t,e){return new Promise(function(n,r){let s,i,o,l,c,d;if(s={...e},o=0,{onProgress:l}=s,s.maxSizeMB=s.maxSizeMB||Number.POSITIVE_INFINITY,c=typeof s.useWebWorker!="boolean"||s.useWebWorker,delete s.useWebWorker,s.onProgress=p=>{o=p,typeof l=="function"&&l(o)},!(t instanceof Blob||t instanceof HH))return r(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(t.type))return r(new Error("The file given is not an image"));if(d=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!c||typeof Worker!="function"||d)return OE(t,s).then((function(p){try{return i=p,h.call(this)}catch(y){return r(y)}}).bind(this),r);var u=(function(){try{return h.call(this)}catch(p){return r(p)}}).bind(this),m=function(p){try{return OE(t,s).then(function(y){try{return i=y,u()}catch(g){return r(g)}},r)}catch(y){return r(y)}};try{return s.libURL=s.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",GH(t,s).then(function(p){try{return i=p,u()}catch{return m()}},m)}catch{m()}function h(){try{i.name=t.name,i.lastModified=t.lastModified}catch{}try{s.preserveExif&&t.type==="image/jpeg"&&(!s.fileType||s.fileType&&s.fileType===t.type)&&(i=Vj(t,i))}catch{}return n(i)}})}Kt.getDataUrlFromFile=$j,Kt.getFilefromDataUrl=ew,Kt.loadImage=Wj,Kt.drawImageInCanvas=qj,Kt.drawFileInCanvas=jf,Kt.canvasToFile=Af,Kt.getExifOrientation=Gj,Kt.handleMaxWidthOrHeight=Kj,Kt.followExifOrientation=Qj,Kt.cleanupCanvasMemory=es,Kt.isAutoOrientationInBrowser=Pa,Kt.approximateBelowMaximumCanvasSizeOfBrowser=Hj,Kt.copyExifWithoutOrientation=Vj,Kt.getBrowserName=Eo,Kt.version="2.0.2";const KH=({client:t,onSave:e,onBack:n})=>{const[r,s]=N.useState(t),[i,o]=N.useState("edit"),[l,c]=N.useState(!1),[d,u]=N.useState(!1),{user:m}=Cn(),{toast:h}=Bn(),p=async()=>{if(!m){h({title:"Error",description:"You must be logged in to save changes",variant:"destructive"});return}try{u(!0);const g=Be(ve,"profiles",m.id);await vu(g,{full_name:r.name,email:r.email,updated_at:new Date().toISOString()},{merge:!0});const w=Be(ve,"clients",m.id);await vu(w,{phone_number:r.phoneNumber,date_of_birth:r.dateOfBirth,medical_conditions:r.medicalConditions,allergies:r.allergies,emergency_contact_name:r.emergencyContactName,emergency_contact_phone:r.emergencyContactPhone,updated_at:new Date().toISOString()},{merge:!0}),e(r),o("preview"),h({title:"Success",description:"Profile updated successfully!"})}catch(g){console.error("Error saving profile:",g),h({title:"Error",description:"An unexpected error occurred while saving",variant:"destructive"})}finally{u(!1)}},y=async g=>{try{if(c(!0),!g.target.files||g.target.files.length===0)return;const w=g.target.files[0];if(!m){h({title:"Error",description:"You must be logged in to upload images",variant:"destructive"});return}if(!w.type.startsWith("image/")){h({title:"Error",description:"Please select an image file",variant:"destructive"});return}if(w.size>10*1024*1024){h({title:"Error",description:"Image must be less than 10MB",variant:"destructive"});return}const x=await Kt(w,{maxSizeMB:1,maxWidthOrHeight:400,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.8}),M=`${m.id}/profile-${Date.now()}.jpg`,R=C0(I0,`profile-images/${M}`);try{await T0(R,x);const k=await S0(R),b=Be(ve,"profiles",m.id);await As(b,{profile_image:k}),s(T=>({...T,profileImage:k})),h({title:"Success",description:"Profile picture updated successfully!"})}catch(k){console.error("Upload error:",k),h({title:"Upload Error",description:`Failed to upload image: ${k.message}`,variant:"destructive"});return}}catch(w){console.error("Error uploading image:",w),h({title:"Error",description:"An unexpected error occurred while uploading",variant:"destructive"})}finally{c(!1)}};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-4xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:n,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Client Profile"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(H,{variant:i==="edit"?"default":"outline",onClick:()=>o("edit"),size:"sm",className:i==="edit"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:[a.jsx(ll,{className:"w-4 h-4 mr-2"}),"Edit"]}),a.jsxs(H,{variant:i==="preview"?"default":"outline",onClick:()=>o("preview"),size:"sm",className:i==="preview"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Preview"]})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i==="edit"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Basic Information"})}),a.jsx(oe,{className:"space-y-6",children:a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 bg-tattoo-dark rounded-full flex items-center justify-center border-2 border-tattoo-primary overflow-hidden",children:r.profileImage&&r.profileImage!=="/placeholder.svg"?a.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",style:{objectPosition:"center"}}):a.jsx(Jt,{className:"w-12 h-12 text-tattoo-primary"})}),a.jsxs("div",{className:"absolute -bottom-2 -right-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden",id:"profile-image-upload",disabled:l}),a.jsx("label",{htmlFor:"profile-image-upload",children:a.jsx(H,{size:"sm",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 rounded-full w-8 h-8 p-0 cursor-pointer",disabled:l,asChild:!0,children:a.jsx("span",{children:a.jsx(Pu,{className:"w-4 h-4"})})})})]}),l&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xs",children:"Uploading..."})})]}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Full Name"}),a.jsx(Pe,{value:r.name,onChange:g=>s({...r,name:g.target.value}),className:"bg-tattoo-dark border-tattoo-primary text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),a.jsx(Pe,{value:r.email,onChange:g=>s({...r,email:g.target.value}),className:"bg-tattoo-dark border-tattoo-primary text-white"})]})]})]})})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Contact Information"})}),a.jsxs(oe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Phone Number"}),a.jsx(Pe,{value:r.phoneNumber||"",onChange:g=>s({...r,phoneNumber:g.target.value}),placeholder:"(555) 123-4567",className:"bg-tattoo-dark border-tattoo-primary text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Date of Birth"}),a.jsx(Pe,{type:"date",value:r.dateOfBirth||"",onChange:g=>s({...r,dateOfBirth:g.target.value}),className:"bg-tattoo-dark border-tattoo-primary text-white"})]})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Medical Information"})}),a.jsxs(oe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Medical Conditions"}),a.jsx("textarea",{value:r.medicalConditions||"",onChange:g=>s({...r,medicalConditions:g.target.value}),rows:3,className:"w-full bg-tattoo-dark border border-tattoo-primary rounded-md px-3 py-2 text-white placeholder-gray-400 resize-none",placeholder:"Any medical conditions we should be aware of..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Allergies"}),a.jsx("textarea",{value:r.allergies||"",onChange:g=>s({...r,allergies:g.target.value}),rows:2,className:"w-full bg-tattoo-dark border border-tattoo-primary rounded-md px-3 py-2 text-white placeholder-gray-400 resize-none",placeholder:"Any known allergies..."})]})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Emergency Contact"})}),a.jsxs(oe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Emergency Contact Name"}),a.jsx(Pe,{value:r.emergencyContactName||"",onChange:g=>s({...r,emergencyContactName:g.target.value}),placeholder:"Emergency contact full name",className:"bg-tattoo-dark border-tattoo-primary text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Emergency Contact Phone"}),a.jsx(Pe,{value:r.emergencyContactPhone||"",onChange:g=>s({...r,emergencyContactPhone:g.target.value}),placeholder:"(555) 123-4567",className:"bg-tattoo-dark border-tattoo-primary text-white"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(H,{onClick:p,disabled:d,className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:d?"Saving...":"Save Changes"})})]}):a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-white",children:"Client Profile"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Your profile information"})]}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"w-24 h-24 bg-tattoo-dark rounded-full flex items-center justify-center border-2 border-tattoo-primary overflow-hidden",children:r.profileImage&&r.profileImage!=="/placeholder.svg"?a.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",style:{objectPosition:"center"}}):a.jsx(Jt,{className:"w-12 h-12 text-tattoo-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:r.name}),a.jsx("p",{className:"text-gray-300",children:r.email}),r.phoneNumber&&a.jsx("p",{className:"text-gray-300",children:r.phoneNumber})]})]}),(r.dateOfBirth||r.phoneNumber)&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Contact Information"}),a.jsxs("div",{className:"space-y-1",children:[r.phoneNumber&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Phone:"})," ",r.phoneNumber]}),r.dateOfBirth&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Date of Birth:"})," ",new Date(r.dateOfBirth).toLocaleDateString()]})]})]}),(r.medicalConditions||r.allergies)&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Medical Information"}),a.jsxs("div",{className:"space-y-2",children:[r.medicalConditions&&a.jsxs("div",{children:[a.jsx("span",{className:"text-tattoo-primary",children:"Medical Conditions:"}),a.jsx("p",{className:"text-gray-300",children:r.medicalConditions})]}),r.allergies&&a.jsxs("div",{children:[a.jsx("span",{className:"text-tattoo-primary",children:"Allergies:"}),a.jsx("p",{className:"text-gray-300",children:r.allergies})]})]})]}),(r.emergencyContactName||r.emergencyContactPhone)&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Emergency Contact"}),a.jsxs("div",{className:"space-y-1",children:[r.emergencyContactName&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Name:"})," ",r.emergencyContactName]}),r.emergencyContactPhone&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Phone:"})," ",r.emergencyContactPhone]})]})]})]})})]})})]})},Yj=()=>{const{user:t,signOut:e}=Cn(),n=Mu(),r=async()=>{await e(),n("/auth")},s=()=>{switch(t==null?void 0:t.role){case"owner":case"manager":n("/admin-portal");break;case"artist":n("/artist-portal");break;case"client":n("/client-portal");break;default:n("/")}},i=()=>{n("/auth")};return a.jsx("header",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex justify-between items-center py-4",children:[a.jsx("div",{className:"flex items-center",children:a.jsx("h1",{className:"text-2xl font-bold gradient-text",children:"UpRising.ink"})}),t?a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"text-white text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Welcome, "}),a.jsx("span",{className:"font-semibold",children:t.profile.full_name||t.email}),a.jsxs("span",{className:"text-tattoo-primary ml-2 capitalize",children:["(",t.role,")"]})]}),a.jsxs(H,{onClick:s,variant:"ghost",size:"sm",className:"text-white hover:text-tattoo-primary",children:[a.jsx(Jt,{className:"w-4 h-4 mr-2"}),"Profile"]}),a.jsxs(H,{onClick:r,variant:"ghost",size:"sm",className:"text-white hover:text-red-400",children:[a.jsx(MD,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):a.jsxs(H,{onClick:i,variant:"ghost",size:"sm",className:"text-white hover:text-tattoo-primary",children:[a.jsx(ay,{className:"w-4 h-4 mr-2"}),"Login"]})]})})})},QH=()=>{const[t,e]=N.useState("dashboard"),[n,r]=N.useState(null),[s,i]=N.useState(null),[o,l]=N.useState(!0),{user:c}=Cn(),{toast:d}=Bn();N.useEffect(()=>{(async()=>{if(!c){l(!1);return}try{console.log("Fetching client data for user:",c.id);const g=await Dt(Be(ve,"profiles",c.id));if(!g.exists()){console.error("Profile not found"),d({title:"Error",description:"Failed to load profile data",variant:"destructive"}),l(!1);return}const w=g.data();console.log("Profile data:",w);const v=Ot(lt(ve,"clients"),Ye("profile_id","==",c.id)),x=await xt(v);if(x.empty){console.log("No client record found, creating one...");const _=Be(lt(ve,"clients"));await vu(_,{profile_id:c.id}),console.log("Created new client record:",_.id);const C={id:_.id,name:w.full_name||"Unknown",email:w.email,profileImage:w.profile_image||"/placeholder.svg",selectedArtistId:null,phoneNumber:null,dateOfBirth:null,medicalConditions:null,allergies:null,emergencyContactName:null,emergencyContactPhone:null};i(C),e("dashboard")}else{const _=x.docs[0].data();console.log("Found existing client data:",_);const C={id:x.docs[0].id,name:w.full_name||"Unknown",email:w.email,profileImage:w.profile_image||"/placeholder.svg",selectedArtistId:_.preferred_artist_id,phoneNumber:_.phone_number,dateOfBirth:_.date_of_birth,medicalConditions:_.medical_conditions,allergies:_.allergies,emergencyContactName:_.emergency_contact_name,emergencyContactPhone:_.emergency_contact_phone};i(C),e("dashboard"),console.log("Client has selected artist:",C.selectedArtistId)}}catch(g){console.error("Error fetching client data:",g),d({title:"Error",description:"An unexpected error occurred",variant:"destructive"})}finally{l(!1)}})()},[c,d]);const u=y=>{r(y),s&&i(g=>g?{...g,selectedArtistId:y.id}:null),e("dashboard")},m=y=>{r(y),e("artist-detail")},h=async y=>{i(y);try{const g=Be(ve,"clients",y.id);await As(g,{phone_number:y.phoneNumber,date_of_birth:y.dateOfBirth,medical_conditions:y.medicalConditions,allergies:y.allergies,emergency_contact_name:y.emergencyContactName,emergency_contact_phone:y.emergencyContactPhone})}catch(g){console.error("Error updating client profile:",g),d({title:"Error",description:"Failed to save profile changes",variant:"destructive"})}};if(o)return a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading..."})});if(!s)return a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Error loading client profile"})});const p=()=>{switch(t){case"artist-discovery":return a.jsx(Bz,{onSelectArtist:u,onViewArtist:m,onNavigate:e});case"artist-detail":return a.jsx(zz,{artist:n,onSelectArtist:u,onBack:()=>e("artist-discovery")});case"messaging":return a.jsx($z,{clientId:s.id,artistId:s.selectedArtistId,onBack:()=>e("dashboard")});case"calendar":return a.jsx(jH,{clientId:s.id,onBack:()=>e("dashboard")});case"artwork-log":return a.jsx(VH,{clientId:s.id,onBack:()=>e("dashboard")});case"profile":return a.jsx(KH,{client:s,onSave:h,onBack:()=>e("dashboard")});default:return a.jsx(Uz,{client:s,onNavigate:e})}};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx(Yj,{}),p()]})},YH=({artist:t,onNavigate:e})=>{const{user:n}=Cn(),{toast:r}=Bn(),[s,i]=N.useState([]),[o,l]=N.useState([]),[c,d]=N.useState({activeClients:0,artworkInProgress:0,pendingConsultations:0}),[u,m]=N.useState(!0);N.useEffect(()=>{n!=null&&n.id&&h()},[n==null?void 0:n.id]);const h=async()=>{try{const p=Fu(),y=o0(p),g=lt(y,"artists"),w=Ot(g,Ye("profile_id","==",n==null?void 0:n.id)),v=await xt(w);if(v.empty)return;const x=v.docs[0].id,_=new Date,C=new Date(_.getFullYear(),_.getMonth(),_.getDate()),M=new Date(C);M.setDate(M.getDate()+1);const R=lt(y,"appointments"),k=Ot(R,Ye("artist_id","==",x),Ye("appointment_date",">=",C.toISOString()),Ye("appointment_date","<",M.toISOString()),zs("appointment_date","asc")),b=await xt(k);i(b.docs.map(W=>{const Q=W.data();return{id:W.id,time:new Date(Q.appointment_date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}),client:Q.client_name||"Unknown Client",type:Q.status==="confirmed"?"Appointment":"Consultation"}}));const T=lt(y,"messages"),S=Ot(T,Ye("recipient_id","==",n==null?void 0:n.id),Ye("read_at","==",null),zs("created_at","desc")),A=await xt(S);l(A.docs.map(W=>{const Q=W.data();return{id:W.id,client:Q.sender_name||"Unknown User",preview:(Q.content||"").substring(0,50)+"...",time:Q.created_at?new Date(Q.created_at).toLocaleString():""}}));const P=Ot(R,Ye("artist_id","==",x)),j=await xt(P),B=new Set(j.docs.map(W=>W.data().client_id)).size,O=lt(y,"artwork"),D=Ot(O,Ye("artist_id","==",x)),U=(await xt(D)).docs.filter(W=>W.data().status==="in_progress").length,z=Ot(R,Ye("artist_id","==",x),Ye("status","==","pending")),G=await xt(z);d({activeClients:B,artworkInProgress:U,pendingConsultations:G.size})}catch(p){console.error("Error fetching dashboard data:",p),r({title:"Error",description:"Failed to load dashboard data",variant:"destructive"})}finally{m(!1)}};return u?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading dashboard..."})}):a.jsx("div",{className:"min-h-screen bg-tattoo-dark",children:a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"mb-8",children:[a.jsxs("h1",{className:"text-3xl font-bold text-white mb-2",children:["Welcome back, ",t.name]}),a.jsx("p",{className:"text-gray-300",children:"Manage your tattoo business from your dashboard"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Active Clients"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:c.activeClients})]}),a.jsx(Jt,{className:"w-8 h-8 text-tattoo-primary"})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Artwork in Progress"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:c.artworkInProgress})]}),a.jsx(tu,{className:"w-8 h-8 text-tattoo-primary"})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Pending Consultations"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:c.pendingConsultations})]}),a.jsx(Lt,{className:"w-8 h-8 text-tattoo-primary"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:["Today's Appointments",a.jsx(H,{variant:"outline",size:"sm",onClick:()=>e("scheduling"),className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"View Calendar"})]})}),a.jsx(oe,{children:a.jsx("div",{className:"space-y-4",children:s.length>0?s.map(p=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-tattoo-dark rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-white font-medium",children:p.time}),a.jsx("p",{className:"text-gray-300 text-sm",children:p.client})]}),a.jsx("span",{className:"text-tattoo-primary text-sm bg-tattoo-primary/10 px-2 py-1 rounded",children:p.type})]},p.id)):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"No appointments scheduled for today"})})})})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:["Recent Messages",a.jsx(H,{variant:"outline",size:"sm",onClick:()=>e("messaging"),className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"View All"})]})}),a.jsx(oe,{children:a.jsx("div",{className:"space-y-4",children:o.length>0?o.map(p=>a.jsxs("div",{className:"p-3 bg-tattoo-dark rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-white font-medium",children:p.client}),a.jsx("span",{className:"text-gray-400 text-xs",children:p.time})]}),a.jsx("p",{className:"text-gray-300 text-sm truncate",children:p.preview})]},p.id)):a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-gray-400",children:"No new messages"})})})})]})]}),a.jsxs(ie,{className:"mt-8 bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Quick Actions"})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[a.jsxs(H,{onClick:()=>e("scheduling"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Tn,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Schedule"})]}),a.jsxs(H,{onClick:()=>e("messaging"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Lt,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Messages"})]}),a.jsxs(H,{onClick:()=>e("clients"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Jt,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Clients"})]}),a.jsxs(H,{onClick:()=>e("portfolio"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Pu,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Portfolio"})]}),a.jsxs(H,{onClick:()=>e("payments"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(tu,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Payments"})]}),a.jsxs(H,{onClick:()=>e("profile"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Ii,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Profile"})]})]})})]})]})})},XH=({artistId:t,onBack:e})=>{const[n,r]=N.useState(new Date),[s,i]=N.useState("calendar"),o=[{id:"1",date:"2024-01-15",time:"10:00",client:"John Doe",type:"Consultation",duration:"1 hour",status:"confirmed"},{id:"2",date:"2024-01-15",time:"14:00",client:"Jane Smith",type:"Tattoo Session",duration:"3 hours",status:"confirmed"}],l={monday:{start:"10:00",end:"18:00",available:!0},tuesday:{start:"10:00",end:"18:00",available:!0},wednesday:{start:"10:00",end:"18:00",available:!0},thursday:{start:"10:00",end:"18:00",available:!0},friday:{start:"10:00",end:"18:00",available:!0},saturday:{start:"12:00",end:"16:00",available:!0},sunday:{start:"12:00",end:"16:00",available:!1}},c=u=>{const m=u.toISOString().split("T")[0];return o.filter(h=>h.date===m)},d=u=>{const m=u.toISOString().split("T")[0];return o.some(h=>h.date===m)};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:e,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Scheduling & Availability"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(H,{variant:s==="calendar"?"default":"outline",onClick:()=>i("calendar"),className:s==="calendar"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:"Calendar"}),a.jsx(H,{variant:s==="availability"?"default":"outline",onClick:()=>i("availability"),className:s==="availability"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:"Set Availability"})]})]})})}),a.jsx("div",{className:"max-w-6xl mx-auto p-4",children:s==="calendar"?a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Calendar"})}),a.jsxs(oe,{children:[a.jsx(K0,{mode:"single",selected:n,onSelect:r,className:"rounded-md border border-tattoo-primary/30 bg-tattoo-dark text-white",modifiers:{hasAppointment:u=>d(u)},modifiersStyles:{hasAppointment:{backgroundColor:"#D4AF37",color:"#0A0A0A",fontWeight:"bold"}}}),a.jsx("div",{className:"mt-4 text-sm text-gray-300",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-3 h-3 bg-tattoo-primary rounded"}),a.jsx("span",{children:"Days with appointments"})]})})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:[n?n.toDateString():"Select a Date",a.jsxs(H,{size:"sm",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"w-4 h-4 mr-1"}),"Add Appointment"]})]})}),a.jsx(oe,{children:n&&a.jsx("div",{className:"space-y-4",children:c(n).length>0?c(n).map(u=>a.jsx("div",{className:"p-4 rounded-lg border border-tattoo-primary/30 bg-tattoo-dark",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-white font-medium",children:u.type}),a.jsxs("div",{className:"space-y-1 text-sm text-gray-300 mt-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(FT,{className:"w-4 h-4"}),a.jsxs("span",{children:[u.time," (",u.duration,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4"}),a.jsx("span",{children:u.client})]})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("span",{className:"text-xs px-2 py-1 rounded bg-green-400/10 text-green-400",children:u.status.toUpperCase()}),a.jsx(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Edit"})]})]})},u.id)):a.jsxs("div",{className:"text-center py-8",children:[a.jsx("p",{className:"text-gray-400",children:"No appointments scheduled for this date"}),a.jsxs(H,{className:"mt-4 bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"w-4 h-4 mr-1"}),"Add Appointment"]})]})})})]})]}):a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Set Working Hours & Availability"})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-6",children:[Object.entries(l).map(([u,m])=>a.jsxs("div",{className:"flex items-center justify-between p-4 bg-tattoo-dark rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-20",children:a.jsx("span",{className:"text-white font-medium capitalize",children:u})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",checked:m.available,className:"rounded border-tattoo-primary"}),a.jsx("span",{className:"text-gray-300",children:"Available"})]})]}),m.available&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"From:"}),a.jsx("input",{type:"time",value:m.start,className:"bg-tattoo-gray border border-tattoo-primary rounded px-2 py-1 text-white text-sm"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-gray-300 text-sm",children:"To:"}),a.jsx("input",{type:"time",value:m.end,className:"bg-tattoo-gray border border-tattoo-primary rounded px-2 py-1 text-white text-sm"})]})]})]},u)),a.jsx("div",{className:"flex justify-end",children:a.jsx(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Save Changes"})})]})})]})})]})},JH=({artistId:t,onBack:e})=>{const[n,r]=N.useState(null),[s,i]=N.useState(""),[o,l]=N.useState("all"),[c,d]=N.useState([]),[u,m]=N.useState(!1);N.useEffect(()=>{(()=>{m(!0);const w=Ot(lt(ve,"conversations"),Ye("artistId","==",t),zs("lastMessageTime","desc")),v=i7(w,x=>{const _=[];x.forEach(C=>{const M=C.data();_.push({id:C.id,clientName:M.clientName,clientId:M.clientId,isLead:M.isLead,lastMessage:M.lastMessage,lastMessageTime:M.lastMessageTime,unreadCount:M.unreadCount,messages:M.messages||[]})}),d(_),m(!1)});return()=>v()})()},[t]);const h=c.filter(g=>o==="clients"?!g.isLead:o==="leads"?g.isLead:!0),p=c.find(g=>g.id===n),y=async()=>{if(!s.trim()||!n)return;const g={id:Date.now().toString(),senderId:t,senderName:"Sarah Chen",content:s,timestamp:new Date().toISOString(),isFromArtist:!0},w=Be(ve,"conversations",n);await As(w,{lastMessage:s,lastMessageTime:zt.now(),unreadCount:0,messages:a7(g)}),i("")};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:e,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Messages"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(H,{variant:o==="all"?"default":"outline",onClick:()=>l("all"),size:"sm",className:o==="all"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:"All"}),a.jsx(H,{variant:o==="clients"?"default":"outline",onClick:()=>l("clients"),size:"sm",className:o==="clients"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:"Clients"}),a.jsx(H,{variant:o==="leads"?"default":"outline",onClick:()=>l("leads"),size:"sm",className:o==="leads"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:"New Leads"})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 h-[calc(100vh-200px)]",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Conversations"})}),a.jsx(oe,{className:"p-0",children:a.jsx("div",{className:"space-y-1 max-h-[500px] overflow-y-auto",children:u?a.jsx("div",{className:"p-4 text-center text-gray-400",children:"Loading conversations..."}):h.map(g=>a.jsx("div",{onClick:()=>r(g.id),className:`p-4 cursor-pointer transition-colors ${n===g.id?"bg-tattoo-primary/20":"hover:bg-tattoo-dark"}`,children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3 flex-1 min-w-0",children:[a.jsx("div",{className:"w-8 h-8 bg-tattoo-primary rounded-full flex items-center justify-center",children:a.jsx(Jt,{className:"w-4 h-4 text-tattoo-dark"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("p",{className:"text-white font-medium truncate",children:g.clientName}),g.isLead&&a.jsx("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs px-2 py-1 rounded",children:"Lead"})]}),a.jsx("p",{className:"text-gray-300 text-sm truncate",children:g.lastMessage}),a.jsx("p",{className:"text-gray-400 text-xs",children:g.lastMessageTime})]})]}),g.unreadCount>0&&a.jsx("span",{className:"bg-tattoo-primary text-tattoo-dark text-xs rounded-full w-5 h-5 flex items-center justify-center",children:g.unreadCount})]})},g.id))})})]}),a.jsx("div",{className:"lg:col-span-2",children:p?a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary h-full flex flex-col",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Jt,{className:"w-6 h-6 text-tattoo-primary"}),a.jsx("span",{children:p.clientName}),p.isLead&&a.jsx("span",{className:"bg-yellow-500/20 text-yellow-400 text-xs px-2 py-1 rounded",children:"New Lead"})]}),p.isLead&&a.jsx(H,{size:"sm",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Invite to Sign Up"})]})}),a.jsxs(oe,{className:"flex-1 flex flex-col",children:[a.jsx("div",{className:"flex-1 space-y-4 overflow-y-auto mb-4 max-h-[400px]",children:p.messages.map(g=>a.jsx("div",{className:`flex ${g.isFromArtist?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${g.isFromArtist?"bg-tattoo-primary text-tattoo-dark":"bg-tattoo-dark text-white"}`,children:[a.jsx("p",{className:"text-sm",children:g.content}),a.jsx("p",{className:`text-xs mt-1 ${g.isFromArtist?"text-tattoo-dark/70":"text-gray-400"}`,children:g.timestamp})]})},g.id))}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(Pe,{value:s,onChange:g=>i(g.target.value),placeholder:"Type your message...",className:"flex-1 bg-tattoo-dark border-tattoo-primary text-white",onKeyPress:g=>g.key==="Enter"&&y()}),a.jsx(H,{onClick:y,className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:a.jsx(sx,{className:"w-4 h-4"})})]})]})]}):a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary h-full flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Lt,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-400",children:"Select a conversation to start messaging"})]})})})]})})]})},Xj=N.forwardRef(({className:t,...e},n)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:n,className:Se("w-full caption-bottom text-sm",t),...e})}));Xj.displayName="Table";const Jj=N.forwardRef(({className:t,...e},n)=>a.jsx("thead",{ref:n,className:Se("[&_tr]:border-b",t),...e}));Jj.displayName="TableHeader";const Zj=N.forwardRef(({className:t,...e},n)=>a.jsx("tbody",{ref:n,className:Se("[&_tr:last-child]:border-0",t),...e}));Zj.displayName="TableBody";const ZH=N.forwardRef(({className:t,...e},n)=>a.jsx("tfoot",{ref:n,className:Se("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));ZH.displayName="TableFooter";const Yy=N.forwardRef(({className:t,...e},n)=>a.jsx("tr",{ref:n,className:Se("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Yy.displayName="TableRow";const go=N.forwardRef(({className:t,...e},n)=>a.jsx("th",{ref:n,className:Se("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));go.displayName="TableHead";const yo=N.forwardRef(({className:t,...e},n)=>a.jsx("td",{ref:n,className:Se("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));yo.displayName="TableCell";const eq=N.forwardRef(({className:t,...e},n)=>a.jsx("caption",{ref:n,className:Se("mt-4 text-sm text-muted-foreground",t),...e}));eq.displayName="TableCaption";const tq=({artistId:t,onBack:e})=>{const[n,r]=N.useState("all"),s=[{id:"1",clientName:"John Doe",appointmentDate:"2024-01-20",appointmentType:"Sleeve Session 1",amount:800,status:"partial",depositAmount:200,notes:"Deposit received, balance due at appointment"},{id:"2",clientName:"Jane Smith",appointmentDate:"2024-01-18",appointmentType:"Small Tattoo",amount:300,status:"paid",notes:"Paid in full"},{id:"3",clientName:"Mike Johnson",appointmentDate:"2024-01-15",appointmentType:"Consultation",amount:100,status:"pending",notes:"Awaiting payment confirmation"},{id:"4",clientName:"Sarah Wilson",appointmentDate:"2024-01-10",appointmentType:"Touch-up",amount:150,status:"overdue",notes:"Payment overdue by 5 days"}],i=s.filter(u=>n==="all"?!0:u.status===n),o=u=>{switch(u){case"paid":return"text-green-400 bg-green-400/10";case"partial":return"text-yellow-400 bg-yellow-400/10";case"pending":return"text-blue-400 bg-blue-400/10";case"overdue":return"text-red-400 bg-red-400/10";default:return"text-gray-400 bg-gray-400/10"}},l=s.filter(u=>u.status==="paid").reduce((u,m)=>u+m.amount,0),c=s.filter(u=>u.status==="pending"||u.status==="overdue").reduce((u,m)=>u+m.amount,0),d=s.filter(u=>u.status==="partial").reduce((u,m)=>u+(m.depositAmount||0),0);return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:e,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Payment Management"})]}),a.jsx("div",{className:"flex space-x-2",children:["all","pending","partial","paid","overdue"].map(u=>a.jsx(H,{variant:n===u?"default":"outline",onClick:()=>r(u),size:"sm",className:n===u?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:u.charAt(0).toUpperCase()+u.slice(1)},u))})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Revenue"}),a.jsxs("p",{className:"text-3xl font-bold text-green-400",children:["$",l]})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Pending Payments"}),a.jsxs("p",{className:"text-3xl font-bold text-yellow-400",children:["$",c]})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Deposits Received"}),a.jsxs("p",{className:"text-3xl font-bold text-blue-400",children:["$",d]})]})})})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Payment Tracking"})}),a.jsx(oe,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs(Xj,{children:[a.jsx(Jj,{children:a.jsxs(Yy,{className:"border-tattoo-primary/30",children:[a.jsx(go,{className:"text-gray-300",children:"Client"}),a.jsx(go,{className:"text-gray-300",children:"Appointment"}),a.jsx(go,{className:"text-gray-300",children:"Amount"}),a.jsx(go,{className:"text-gray-300",children:"Status"}),a.jsx(go,{className:"text-gray-300",children:"Notes"}),a.jsx(go,{className:"text-gray-300",children:"Actions"})]})}),a.jsx(Zj,{children:i.map(u=>a.jsxs(Yy,{className:"border-tattoo-primary/30",children:[a.jsx(yo,{children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jt,{className:"w-4 h-4 text-tattoo-primary"}),a.jsx("span",{className:"text-white",children:u.clientName})]})}),a.jsx(yo,{children:a.jsxs("div",{children:[a.jsx("p",{className:"text-white text-sm",children:u.appointmentType}),a.jsxs("div",{className:"flex items-center space-x-1 text-gray-400 text-xs",children:[a.jsx(Tn,{className:"w-3 h-3"}),a.jsx("span",{children:u.appointmentDate})]})]})}),a.jsx(yo,{children:a.jsxs("div",{className:"text-white",children:[a.jsxs("p",{children:["$",u.amount]}),u.depositAmount&&a.jsxs("p",{className:"text-xs text-gray-400",children:["Deposit: $",u.depositAmount]})]})}),a.jsx(yo,{children:a.jsx("span",{className:`px-2 py-1 rounded text-xs ${o(u.status)}`,children:u.status.toUpperCase()})}),a.jsx(yo,{className:"text-gray-300 text-sm max-w-xs truncate",children:u.notes}),a.jsx(yo,{children:a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Update"}),a.jsx(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:a.jsx(Lt,{className:"w-4 h-4"})})]})})]},u.id))})]})})})]}),a.jsxs(ie,{className:"mt-6 bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Quick Actions"})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Log New Payment"}),a.jsx(H,{variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Send Payment Reminder"}),a.jsx(H,{variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Generate Invoice"})]})})]})]})]})},nq=({artistId:t,onBack:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState(null),[o,l]=N.useState("list"),c=[{id:"1",name:"John Doe",email:"john@example.com",phone:"+1 (555) 123-4567",joinDate:"2023-06-15",totalSessions:3,artwork:[{id:"1",title:"Dragon Sleeve",status:"in-progress",date:"2024-01-15",notes:"Traditional Japanese style, session 2 of 4 planned",careInstructions:"Keep covered for first 24 hours, apply thin layer of healing balm twice daily",images:["/placeholder.svg"]},{id:"2",title:"Small Rose",status:"completed",date:"2023-08-20",notes:"First tattoo, healed perfectly",careInstructions:"Standard aftercare followed successfully",images:["/placeholder.svg"]}]},{id:"2",name:"Jane Smith",email:"jane@example.com",phone:"+1 (555) 987-6543",joinDate:"2023-09-10",totalSessions:1,artwork:[{id:"3",title:"Geometric Pattern",status:"completed",date:"2023-12-05",notes:"Minimalist design on forearm",careInstructions:"Keep dry for 48 hours, use unscented lotion after day 3",images:["/placeholder.svg"]}]}],d=c.filter(h=>h.name.toLowerCase().includes(n.toLowerCase())||h.email.toLowerCase().includes(n.toLowerCase())),u=c.find(h=>h.id===s),m=h=>{switch(h){case"completed":return"text-green-400 bg-green-400/10";case"in-progress":return"text-yellow-400 bg-yellow-400/10";case"planned":return"text-blue-400 bg-blue-400/10";default:return"text-gray-400 bg-gray-400/10"}};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:()=>{o==="details"?(l("list"),i(null)):e()},className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),o==="details"?"Back to Clients":"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:o==="details"?`${u==null?void 0:u.name} - Client Details`:"Client Management"})]}),o==="list"&&a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Au,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),a.jsx(Pe,{placeholder:"Search clients...",value:n,onChange:h=>r(h.target.value),className:"pl-10 bg-tattoo-gray border-tattoo-primary text-white w-64"})]}),a.jsxs(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Add Client"]})]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:o==="list"?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(h=>a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary hover:border-tattoo-primary/70 transition-colors",children:[a.jsx(fe,{children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-12 h-12 bg-tattoo-primary rounded-full flex items-center justify-center",children:a.jsx(Jt,{className:"w-6 h-6 text-tattoo-dark"})}),a.jsxs("div",{children:[a.jsx(me,{className:"text-white text-lg",children:h.name}),a.jsx("p",{className:"text-gray-300 text-sm",children:h.email})]})]})})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Total Sessions:"}),a.jsx("span",{className:"text-white",children:h.totalSessions})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Client Since:"}),a.jsx("span",{className:"text-white",children:h.joinDate})]}),a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{className:"text-gray-300",children:"Active Artwork:"}),a.jsx("span",{className:"text-white",children:h.artwork.filter(p=>p.status==="in-progress").length})]}),a.jsxs("div",{className:"flex space-x-2 mt-4",children:[a.jsx(H,{size:"sm",onClick:()=>{i(h.id),l("details")},className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex-1",children:"View Details"}),a.jsx(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:a.jsx(Lt,{className:"w-4 h-4"})})]})]})})]},h.id))}):u&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:["Client Information",a.jsxs(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(ll,{className:"w-4 h-4 mr-2"}),"Edit"]})]})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm",children:"Name"}),a.jsx("p",{className:"text-white",children:u.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm",children:"Email"}),a.jsx("p",{className:"text-white",children:u.email})]})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm",children:"Phone"}),a.jsx("p",{className:"text-white",children:u.phone})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm",children:"Client Since"}),a.jsx("p",{className:"text-white",children:u.joinDate})]})]})]})})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:["Artwork History",a.jsxs(H,{size:"sm",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Add Artwork"]})]})}),a.jsx(oe,{children:a.jsx("div",{className:"space-y-4",children:u.artwork.map(h=>a.jsxs("div",{className:"p-4 bg-tattoo-dark rounded-lg border border-tattoo-primary/30",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium",children:h.title}),a.jsx("p",{className:"text-gray-400 text-sm",children:h.date})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`px-2 py-1 rounded text-xs ${m(h.status)}`,children:h.status.toUpperCase()}),a.jsx(H,{size:"sm",variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:a.jsx(ll,{className:"w-4 h-4"})})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm font-medium",children:"Notes:"}),a.jsx("p",{className:"text-white text-sm mt-1",children:h.notes})]}),h.careInstructions&&a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm font-medium",children:"Care Instructions:"}),a.jsx("p",{className:"text-white text-sm mt-1",children:h.careInstructions})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-gray-300 text-sm font-medium",children:"Reference Images:"}),a.jsxs("div",{className:"flex space-x-2 mt-2",children:[h.images.map((p,y)=>a.jsx("div",{className:"w-16 h-16 bg-tattoo-gray rounded border border-tattoo-primary/30 flex items-center justify-center",children:a.jsx(tu,{className:"w-6 h-6 text-gray-400"})},y)),a.jsx(H,{size:"sm",variant:"outline",className:"w-16 h-16 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark border-dashed",children:a.jsx(Lr,{className:"w-4 h-4"})})]})]})]})]},h.id))})})]})]})})]})},rq=({artistId:t,onBack:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState("all"),[o,l]=N.useState("grid"),[c,d]=N.useState([]),[u,m]=N.useState(!0),[h,p]=N.useState(!1),[y,g]=N.useState(null),{user:w}=Cn(),{toast:v}=Bn(),[x,_]=N.useState({title:"",description:"",style_tags:[],is_public:!0,is_portfolio_piece:!0}),C=["all","Traditional","Neo-Traditional","Black & Gray","Geometric","Realism","Watercolor","Minimalist"];N.useEffect(()=>{M()},[w]),N.useEffect(()=>{y&&R()},[y]);const M=async()=>{if(!(w!=null&&w.id)){console.log("No user found"),m(!1);return}try{console.log("Fetching artist profile for user:",w.id);const S=Be(ve,"artists",w.id),A=await Dt(S);if(!A.exists()){console.error("Artist profile not found"),v({title:"Error",description:"Artist profile not found. Please contact support.",variant:"destructive"}),m(!1);return}console.log("Found artist ID:",A.id),g(A.id)}catch(S){console.error("Error in fetchActualArtistId:",S),m(!1)}},R=async()=>{if(y)try{m(!0),console.log("Fetching artwork for artist:",y);const S=Ot(lt(ve,"artworks"),Ye("artist_id","==",y),zs("created_at","desc")),P=(await xt(S)).docs.map(j=>({id:j.id,...j.data()}));d(P),console.log("Portfolio images set:",P)}catch(S){console.error("Error fetching artwork:",S),v({title:"Error",description:`Failed to load portfolio: ${S.message}`,variant:"destructive"}),d([])}finally{m(!1)}},k=async S=>{if(!y){v({title:"Error",description:"Artist profile not found",variant:"destructive"});return}try{if(p(!0),!S.target.files||S.target.files.length===0)return;const A=S.target.files[0];if(!w){v({title:"Error",description:"You must be logged in to upload images",variant:"destructive"});return}if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(A.type)){v({title:"Error",description:"Please select a valid image file (JPEG, PNG, GIF, or WebP)",variant:"destructive"});return}if(A.size>10*1024*1024){v({title:"Error",description:"File size must be less than 10MB",variant:"destructive"});return}if(!x.title.trim()){v({title:"Error",description:"Please enter a title for your artwork",variant:"destructive"});return}console.log("Starting image compression...");const j={maxSizeMB:2,maxWidthOrHeight:1920,useWebWorker:!0,fileType:A.type,initialQuality:.8};v({title:"Processing",description:"Compressing image for optimal storage..."});const V=await Kt(A,j);console.log("Original file size:",(A.size/1024/1024).toFixed(2),"MB"),console.log("Compressed file size:",(V.size/1024/1024).toFixed(2),"MB");const B=A.type.split("/")[1]||"jpg",D=`artwork/${`${y}-${Date.now()}-${Math.random().toString(36).substring(2)}.${B}`}`,F=C0(I0,`artwork-images/${D}`);try{await T0(F,V);const U=await S0(F),z={artist_id:y,title:x.title.trim(),description:x.description.trim(),image_url:U,style_tags:x.style_tags.filter(W=>W.trim()),is_public:x.is_public,is_portfolio_piece:x.is_portfolio_piece,status:"completed"};console.log("Saving artwork data:",z);const G=Be(lt(ve,"artworks"));await vu(G,{...z,imageUrl:U}),v({title:"Success",description:"Artwork uploaded successfully!"}),_({title:"",description:"",style_tags:[],is_public:!0,is_portfolio_piece:!0}),S.target&&(S.target.value=""),l("grid"),await R()}catch(U){console.error("Upload error:",U),v({title:"Upload Error",description:`Failed to upload image: ${U.message}`,variant:"destructive"});return}}catch(A){console.error("Error uploading artwork:",A),v({title:"Error",description:`Upload failed: ${A.message}`,variant:"destructive"})}finally{p(!1)}},b=c.filter(S=>{const A=S.title.toLowerCase().includes(n.toLowerCase())||S.description.toLowerCase().includes(n.toLowerCase()),P=s==="all"||S.style_tags.includes(s);return A&&P}),T=async(S,A)=>{try{const P=Be(ve,"artworks",S);await As(P,{is_public:!A}),v({title:"Success",description:`Artwork ${A?"made private":"made public"}`}),R()}catch(P){console.error("Error updating artwork:",P),v({title:"Error",description:"Failed to update artwork visibility",variant:"destructive"})}};return u?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading portfolio..."})}):y?a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:()=>{o==="upload"?l("grid"):e()},className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),o==="upload"?"Back to Portfolio":"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:o==="upload"?"Upload New Artwork":"Portfolio Management"})]}),o==="grid"&&a.jsxs(H,{onClick:()=>l("upload"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Upload New Artwork"]})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto p-4",children:o==="grid"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Au,{className:"w-4 h-4 absolute left-3 top-3 text-gray-400"}),a.jsx(Pe,{placeholder:"Search artwork...",value:n,onChange:S=>r(S.target.value),className:"pl-10 bg-tattoo-gray border-tattoo-primary text-white w-64"})]}),a.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(S=>a.jsx(H,{variant:s===S?"default":"outline",onClick:()=>i(S),size:"sm",className:s===S?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:S==="all"?"All Styles":S},S))})]}),b.length===0?a.jsxs("div",{className:"text-center text-gray-300 py-12",children:[a.jsx(tu,{className:"w-16 h-16 mx-auto mb-4 text-gray-400"}),a.jsx("p",{className:"text-lg mb-2",children:"No artwork found"}),a.jsx("p",{className:"mb-4",children:"Upload your first piece to get started!"}),a.jsxs(H,{onClick:()=>l("upload"),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"w-4 h-4 mr-2"}),"Upload New Artwork"]})]}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:b.map(S=>a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary hover:border-tattoo-primary/70 transition-colors overflow-hidden",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"aspect-square overflow-hidden",children:a.jsx("img",{src:S.image_url,alt:S.title,className:"w-full h-full object-cover"})}),a.jsx("div",{className:"absolute top-2 right-2 flex space-x-1",children:a.jsx(H,{size:"sm",variant:S.is_public?"default":"outline",onClick:()=>T(S.id,S.is_public),className:S.is_public?"bg-green-500 text-white hover:bg-green-600 h-8 px-2 text-xs":"border-red-500 text-red-500 hover:bg-red-500 hover:text-white h-8 px-2 text-xs",children:S.is_public?"Public":"Private"})})]}),a.jsx(oe,{className:"p-4",children:a.jsxs("div",{className:"space-y-2",children:[a.jsx("h3",{className:"text-white font-medium text-sm truncate",children:S.title}),a.jsx("p",{className:"text-gray-300 text-xs line-clamp-2",children:S.description}),a.jsxs("div",{className:"flex flex-wrap gap-1",children:[S.style_tags.slice(0,2).map((A,P)=>a.jsx("span",{className:"text-xs bg-tattoo-primary/20 text-tattoo-primary px-2 py-1 rounded",children:A},P)),S.style_tags.length>2&&a.jsxs("span",{className:"text-xs bg-gray-600 text-gray-300 px-2 py-1 rounded",children:["+",S.style_tags.length-2," more"]})]}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("span",{className:"text-gray-400 text-xs",children:S.completion_date})})]})})]},S.id))}),a.jsxs(ie,{className:"mt-8 bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Portfolio Statistics"})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-tattoo-primary",children:c.length}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Artworks"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-400",children:c.filter(S=>S.is_public).length}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Public"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-400",children:c.filter(S=>!S.is_public).length}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Private"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-400",children:c.filter(S=>S.is_portfolio_piece).length}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Portfolio Pieces"})]})]})})]})]}):a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary max-w-2xl mx-auto",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-white",children:"Upload New Artwork"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"Images will be automatically compressed to optimize storage"})]}),a.jsxs(oe,{className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Title *"}),a.jsx(Pe,{placeholder:"Enter artwork title",value:x.title,onChange:S=>_({...x,title:S.target.value}),className:"bg-tattoo-dark border-tattoo-primary text-white",disabled:h})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Style Tags"}),a.jsxs("select",{value:x.style_tags[0]||"",onChange:S=>_({...x,style_tags:S.target.value?[S.target.value]:[]}),className:"w-full bg-tattoo-dark border border-tattoo-primary rounded-md px-3 py-2 text-white",disabled:h,children:[a.jsx("option",{value:"",children:"Select primary style"}),C.slice(1).map(S=>a.jsx("option",{value:S,children:S},S))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Description"}),a.jsx("textarea",{placeholder:"Describe your artwork...",rows:4,value:x.description,onChange:S=>_({...x,description:S.target.value}),className:"w-full bg-tattoo-dark border border-tattoo-primary rounded-md px-3 py-2 text-white placeholder-gray-400 resize-none",disabled:h})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"isPublic",checked:x.is_public,onChange:S=>_({...x,is_public:S.target.checked}),className:"rounded border-tattoo-primary",disabled:h}),a.jsx("label",{htmlFor:"isPublic",className:"text-gray-300 text-sm",children:"Make this artwork public in gallery"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"checkbox",id:"isPortfolio",checked:x.is_portfolio_piece,onChange:S=>_({...x,is_portfolio_piece:S.target.checked}),className:"rounded border-tattoo-primary",disabled:h}),a.jsx("label",{htmlFor:"isPortfolio",className:"text-gray-300 text-sm",children:"Include in my portfolio showcase"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Artwork Image *"}),a.jsxs("div",{className:"border-2 border-dashed border-tattoo-primary rounded-lg p-8 text-center",children:[a.jsx(Pu,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-300 mb-2",children:"Click to upload high quality photos"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"Images will be compressed automatically. Max 10MB original size."}),a.jsx("input",{type:"file",accept:"image/*",onChange:k,className:"hidden",id:"artwork-upload",disabled:h||!x.title.trim()}),a.jsx("label",{htmlFor:"artwork-upload",children:a.jsx(H,{className:"mt-4 bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",disabled:h||!x.title.trim(),asChild:!0,children:a.jsx("span",{children:h?"Processing...":"Choose Photo"})})}),!x.title.trim()&&a.jsx("p",{className:"text-red-400 text-xs mt-2",children:"Please enter a title first"})]})]}),a.jsx("div",{className:"flex space-x-4",children:a.jsx(H,{onClick:()=>l("grid"),variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark flex-1",disabled:h,children:"Cancel"})})]})]})})]}):a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("p",{className:"text-lg mb-4",children:"Artist profile not found"}),a.jsx(H,{onClick:e,variant:"outline",children:"Back to Dashboard"})]})})},sq=({artist:t,onSave:e,onBack:n})=>{const[r,s]=N.useState(t),[i,o]=N.useState(!1),[l,c]=N.useState("edit"),[d,u]=N.useState(!1),[m,h]=N.useState(!1),{user:p}=Cn(),{toast:y}=Bn(),g=async()=>{if(!p){y({title:"Error",description:"You must be logged in to save changes",variant:"destructive"});return}try{h(!0),console.log("Saving artist profile for user:",p.id),await As(Be(ve,"profiles",p.id),{full_name:r.name,email:r.email,updated_at:new Date().toISOString()}),console.log("Profile updated successfully");const C=await Dt(Be(ve,"artists",p.id));if(!C.exists())throw new Error("Artist record not found");const M=C.data();console.log("Found artist record:",M.id),await As(Be(ve,"artists",M.id),{bio:r.bio||"",specializations:r.specializations.filter(R=>R.trim()),instagram_handle:r.socialMedia.instagram||null,facebook_url:r.socialMedia.facebook||null,website_url:r.socialMedia.website||null,is_available:!0,updated_at:new Date().toISOString()}),console.log("Artist profile updated successfully"),e(r),o(!1),c("preview"),y({title:"Success",description:"Profile updated successfully! Your changes are now visible to clients."})}catch(C){console.error("Error saving profile:",C),y({title:"Error",description:`Failed to save profile: ${C.message}`,variant:"destructive"})}finally{h(!1)}},w=async C=>{try{if(u(!0),!C.target.files||C.target.files.length===0)return;const M=C.target.files[0];if(!p){y({title:"Error",description:"You must be logged in to upload images",variant:"destructive"});return}if(!M.type.startsWith("image/")){y({title:"Error",description:"Please select an image file",variant:"destructive"});return}if(M.size>10*1024*1024){y({title:"Error",description:"Image must be less than 10MB",variant:"destructive"});return}console.log("Starting image compression for profile picture");const k=await Kt(M,{maxSizeMB:1,maxWidthOrHeight:400,useWebWorker:!0,fileType:"image/jpeg",initialQuality:.8});console.log("Original file size:",M.size/1024/1024,"MB"),console.log("Compressed file size:",k.size/1024/1024,"MB");const S=`${p.id}/profile-${Date.now()}.jpg`,A=C0(I0,`profile-images/${S}`);try{await T0(A,k);const P=await S0(A);await As(Be(ve,"profiles",p.id),{profile_image:P}),s(j=>({...j,profileImage:P})),y({title:"Success",description:"Profile picture updated successfully!"})}catch(P){console.error("Upload error:",P),y({title:"Upload Error",description:`Failed to upload image: ${P.message}`,variant:"destructive"});return}}catch(M){console.error("Error uploading image:",M),y({title:"Error",description:"An unexpected error occurred while uploading",variant:"destructive"})}finally{u(!1)}},v=(C,M)=>{const R=[...r.specializations];R[C]=M,s({...r,specializations:R})},x=()=>{s({...r,specializations:[...r.specializations,""]})},_=C=>{const M=r.specializations.filter((R,k)=>k!==C);s({...r,specializations:M})};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-4xl mx-auto p-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(H,{variant:"ghost",onClick:n,className:"text-tattoo-primary hover:text-white",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-2xl font-bold text-white",children:"Artist Profile"})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsxs(H,{variant:l==="edit"?"default":"outline",onClick:()=>c("edit"),size:"sm",className:l==="edit"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:[a.jsx(ll,{className:"w-4 h-4 mr-2"}),"Edit"]}),a.jsxs(H,{variant:l==="preview"?"default":"outline",onClick:()=>c("preview"),size:"sm",className:l==="preview"?"bg-tattoo-primary text-tattoo-dark":"border-tattoo-primary text-tattoo-primary",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Preview"]})]})]})})}),a.jsx("div",{className:"max-w-4xl mx-auto p-4",children:l==="edit"?a.jsxs("div",{className:"space-y-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Basic Information"})}),a.jsxs(oe,{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"w-24 h-24 bg-tattoo-dark rounded-full flex items-center justify-center border-2 border-tattoo-primary overflow-hidden",children:r.profileImage&&r.profileImage!=="/placeholder.svg"?a.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",style:{objectPosition:"center"}}):a.jsx(Jt,{className:"w-12 h-12 text-tattoo-primary"})}),a.jsxs("div",{className:"absolute -bottom-2 -right-2",children:[a.jsx("input",{type:"file",accept:"image/*",onChange:w,className:"hidden",id:"profile-image-upload",disabled:d}),a.jsx("label",{htmlFor:"profile-image-upload",children:a.jsx(H,{size:"sm",className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 rounded-full w-8 h-8 p-0 cursor-pointer",disabled:d,asChild:!0,children:a.jsx("span",{children:a.jsx(Pu,{className:"w-4 h-4"})})})})]}),d&&a.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 rounded-full flex items-center justify-center",children:a.jsx("div",{className:"text-white text-xs",children:"Uploading..."})})]}),a.jsxs("div",{className:"flex-1 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Artist Name"}),a.jsx(Pe,{value:r.name,onChange:C=>s({...r,name:C.target.value}),className:"bg-tattoo-dark border-tattoo-primary text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Email"}),a.jsx(Pe,{value:r.email,onChange:C=>s({...r,email:C.target.value}),className:"bg-tattoo-dark border-tattoo-primary text-white"})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Biography"}),a.jsx("textarea",{value:r.bio,onChange:C=>s({...r,bio:C.target.value}),rows:4,className:"w-full bg-tattoo-dark border border-tattoo-primary rounded-md px-3 py-2 text-white placeholder-gray-400 resize-none",placeholder:"Tell potential clients about your experience, style, and passion for tattooing..."})]})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Specializations & Styles"})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[r.specializations.map((C,M)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Pe,{value:C,onChange:R=>v(M,R.target.value),placeholder:"e.g., Traditional, Realism, Black & Gray",className:"bg-tattoo-dark border-tattoo-primary text-white flex-1"}),a.jsx(H,{variant:"outline",size:"sm",onClick:()=>_(M),className:"border-red-500 text-red-500 hover:bg-red-500 hover:text-white",children:"Remove"})]},M)),a.jsx(H,{variant:"outline",onClick:x,className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:"Add Specialization"})]})})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Social Media & Links"})}),a.jsxs(oe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Instagram Handle"}),a.jsx(Pe,{value:r.socialMedia.instagram||"",onChange:C=>s({...r,socialMedia:{...r.socialMedia,instagram:C.target.value}}),placeholder:"@username",className:"bg-tattoo-dark border-tattoo-primary text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Facebook Page"}),a.jsx(Pe,{value:r.socialMedia.facebook||"",onChange:C=>s({...r,socialMedia:{...r.socialMedia,facebook:C.target.value}}),placeholder:"facebook.com/yourpage",className:"bg-tattoo-dark border-tattoo-primary text-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-300 text-sm font-medium mb-2",children:"Personal Website"}),a.jsx(Pe,{value:r.socialMedia.website||"",onChange:C=>s({...r,socialMedia:{...r.socialMedia,website:C.target.value}}),placeholder:"www.yourwebsite.com",className:"bg-tattoo-dark border-tattoo-primary text-white"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(H,{onClick:g,disabled:m,className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:m?"Saving...":"Save Changes"})})]}):a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsxs(fe,{children:[a.jsx(me,{className:"text-white",children:"Public Profile Preview"}),a.jsx("p",{className:"text-gray-300 text-sm",children:"This is how your profile will appear to potential clients"})]}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-6",children:[a.jsx("div",{className:"w-24 h-24 bg-tattoo-dark rounded-full flex items-center justify-center border-2 border-tattoo-primary overflow-hidden",children:r.profileImage&&r.profileImage!=="/placeholder.svg"?a.jsx("img",{src:r.profileImage,alt:"Profile",className:"w-full h-full object-cover",style:{objectPosition:"center"}}):a.jsx(Jt,{className:"w-12 h-12 text-tattoo-primary"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-white",children:r.name}),a.jsx("p",{className:"text-gray-300",children:r.email}),a.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:r.specializations.filter(C=>C.trim()).map((C,M)=>a.jsx("span",{className:"bg-tattoo-primary/20 text-tattoo-primary text-xs px-2 py-1 rounded",children:C},M))})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"About"}),a.jsx("p",{className:"text-gray-300",children:r.bio})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-white font-medium mb-2",children:"Connect"}),a.jsxs("div",{className:"space-y-2",children:[r.socialMedia.instagram&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Instagram:"})," ",r.socialMedia.instagram]}),r.socialMedia.facebook&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Facebook:"})," ",r.socialMedia.facebook]}),r.socialMedia.website&&a.jsxs("p",{className:"text-gray-300",children:[a.jsx("span",{className:"text-tattoo-primary",children:"Website:"})," ",r.socialMedia.website]})]})]}),a.jsx("div",{className:"pt-4 border-t border-tattoo-primary/30",children:a.jsx(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Choose This Artist"})})]})})]})})]})},eA=({children:t,requiredRoles:e=[],fallback:n})=>{const{user:r,loading:s}=Cn();return s?a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsx("div",{className:"text-white",children:"Loading..."})}):r?e.length>0&&!e.includes(r.role)?n||a.jsx("div",{className:"min-h-screen bg-tattoo-dark flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-white",children:[a.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),a.jsx("p",{children:"You don't have permission to access this page."})]})}):a.jsx(a.Fragment,{children:t}):a.jsx(U5,{to:"/auth",replace:!0})},iq=()=>{const[t,e]=N.useState("dashboard"),[n,r]=N.useState("1"),{user:s}=Cn(),[i,o]=N.useState({id:"1",name:"Sarah Chen",email:"sarah@uprising.ink",bio:"Professional tattoo artist specializing in traditional and neo-traditional styles with over 8 years of experience.",profileImage:"/placeholder.svg",specializations:["Traditional","Neo-Traditional","Black & Gray"],socialMedia:{instagram:"@sarahchen_tattoo",website:"www.sarahchentattoo.com"},workingHours:{monday:{start:"10:00",end:"18:00",available:!0},tuesday:{start:"10:00",end:"18:00",available:!0},wednesday:{start:"10:00",end:"18:00",available:!0},thursday:{start:"10:00",end:"18:00",available:!0},friday:{start:"10:00",end:"18:00",available:!0},saturday:{start:"12:00",end:"16:00",available:!0},sunday:{start:"12:00",end:"16:00",available:!1}}});N.useEffect(()=>{l()},[s]);const l=async()=>{if(s!=null&&s.id)try{const d=Ot(lt(ve,"artists"),Ye("profile_id","==",s.id)),u=await xt(d);if(u.empty)console.error("No artist found for profile_id:",s.id);else{const m=u.docs[0];r(m.id),console.log("Using actual artist ID:",m.id)}}catch(d){console.error("Error in fetchActualArtistId:",d)}},c=()=>{switch(t){case"scheduling":return a.jsx(XH,{artistId:n,onBack:()=>e("dashboard")});case"messaging":return a.jsx(JH,{artistId:n,onBack:()=>e("dashboard")});case"payments":return a.jsx(tq,{artistId:n,onBack:()=>e("dashboard")});case"clients":return a.jsx(nq,{artistId:n,onBack:()=>e("dashboard")});case"portfolio":return a.jsx(rq,{artistId:n,onBack:()=>e("dashboard")});case"profile":return a.jsx(sq,{artist:i,onSave:o,onBack:()=>e("dashboard")});default:return a.jsx(YH,{artist:i,onNavigate:e})}};return a.jsx(eA,{requiredRoles:["artist"],children:a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx(Yj,{}),c()]})})},oq=({currentUser:t,onNavigate:e})=>{const[n,r]=N.useState({totalArtists:0,totalClients:0,upcomingAppointments:0,unreadMessages:0}),[s,i]=N.useState(!0);return N.useEffect(()=>{(async()=>{try{const l=(await xt(lt(ve,"artists"))).size,c=(await xt(lt(ve,"clients"))).size,d=new Date;d.setDate(d.getDate()+30);const m=(await xt(lt(ve,"appointments"))).docs.filter(y=>{const g=y.data(),w=g.appointment_date.toDate();return w>=new Date&&w<=d&&["pending","confirmed"].includes(g.status)}).length,p=(await xt(lt(ve,"messages"))).docs.filter(y=>!y.data().read_at).length;r({totalArtists:l||0,totalClients:c||0,upcomingAppointments:m||0,unreadMessages:p||0})}catch(l){console.error("Error fetching admin stats:",l)}finally{i(!1)}})()},[]),s?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"}),a.jsx("div",{className:"text-center text-gray-300",children:"Loading statistics..."})]}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Admin Dashboard"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{className:"pb-2",children:a.jsxs(me,{className:"text-lg text-gray-300 flex items-center",children:[a.jsx(nc,{className:"mr-2 text-tattoo-primary"}),"Artists"]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:n.totalArtists}),a.jsx("p",{className:"text-sm text-gray-400",children:"Total artists"})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{className:"pb-2",children:a.jsxs(me,{className:"text-lg text-gray-300 flex items-center",children:[a.jsx(nc,{className:"mr-2 text-tattoo-primary"}),"Clients"]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:n.totalClients}),a.jsx("p",{className:"text-sm text-gray-400",children:"Registered clients"})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{className:"pb-2",children:a.jsxs(me,{className:"text-lg text-gray-300 flex items-center",children:[a.jsx(Tn,{className:"mr-2 text-tattoo-primary"}),"Appointments"]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:n.upcomingAppointments}),a.jsx("p",{className:"text-sm text-gray-400",children:"Upcoming appointments"})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{className:"pb-2",children:a.jsxs(me,{className:"text-lg text-gray-300 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-tattoo-primary"}),"Messages"]})}),a.jsxs(oe,{children:[a.jsx("p",{className:"text-3xl font-bold text-white",children:n.unreadMessages}),a.jsx("p",{className:"text-sm text-gray-400",children:"Unread messages"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-xl text-white",children:"Quick Actions"})}),a.jsxs(oe,{className:"space-y-4",children:[a.jsxs(H,{onClick:()=>e("artists"),className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex items-center justify-start",children:[a.jsx(nc,{className:"mr-2"}),"Manage Artists"]}),a.jsxs(H,{onClick:()=>e("clients"),className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex items-center justify-start",children:[a.jsx(nc,{className:"mr-2"}),"Manage Clients"]}),a.jsxs(H,{onClick:()=>e("users"),className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex items-center justify-start",children:[a.jsx(nc,{className:"mr-2"}),"Manage Users"]}),a.jsxs(H,{onClick:()=>e("my-artist-hub"),className:"w-full bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex items-center justify-start",children:[a.jsx(Ii,{className:"mr-2"}),"My Artist Hub"]})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-xl text-white",children:"Performance Overview"})}),a.jsx(oe,{children:a.jsx("div",{className:"h-64 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(BD,{className:"h-16 w-16 text-tattoo-primary mx-auto"}),a.jsx("p",{className:"text-gray-300 mt-4",children:"Performance metrics visualization will appear here"})]})})})]})]})]})};function LE(t,[e,n]){return Math.min(n,Math.max(e,t))}var aq=N.createContext(void 0);function lq(t){const e=N.useContext(aq);return t||e||"ltr"}function cq(t){const e=N.useRef({value:t,previous:t});return N.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var uq=[" ","Enter","ArrowUp","ArrowDown"],dq=[" ","Enter"],Zu="Select",[Fm,Vm,hq]=uT(Zu),[Ol,lG]=Cu(Zu,[hq,nm]),Um=nm(),[fq,io]=Ol(Zu),[mq,pq]=Ol(Zu),tA=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:l,onValueChange:c,dir:d,name:u,autoComplete:m,disabled:h,required:p,form:y}=t,g=Um(e),[w,v]=N.useState(null),[x,_]=N.useState(null),[C,M]=N.useState(!1),R=lq(d),[k=!1,b]=eu({prop:r,defaultProp:s,onChange:i}),[T,S]=eu({prop:o,defaultProp:l,onChange:c}),A=N.useRef(null),P=w?y||!!w.closest("form"):!0,[j,V]=N.useState(new Set),B=Array.from(j).map(O=>O.props.value).join(";");return a.jsx(dO,{...g,children:a.jsxs(fq,{required:p,scope:e,trigger:w,onTriggerChange:v,valueNode:x,onValueNodeChange:_,valueNodeHasChildren:C,onValueNodeHasChildrenChange:M,contentId:jo(),value:T,onValueChange:S,open:k,onOpenChange:b,dir:R,triggerPointerDownPosRef:A,disabled:h,children:[a.jsx(Fm.Provider,{scope:e,children:a.jsx(mq,{scope:t.__scopeSelect,onNativeOptionAdd:N.useCallback(O=>{V(D=>new Set(D).add(O))},[]),onNativeOptionRemove:N.useCallback(O=>{V(D=>{const F=new Set(D);return F.delete(O),F})},[]),children:n})}),P?a.jsxs(SA,{"aria-hidden":!0,required:p,tabIndex:-1,name:u,autoComplete:m,value:T,onChange:O=>S(O.target.value),disabled:h,form:y,children:[T===void 0?a.jsx("option",{value:""}):null,Array.from(j)]},B):null]})})};tA.displayName=Zu;var nA="SelectTrigger",rA=N.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Um(n),o=io(nA,n),l=o.disabled||r,c=ct(e,o.onTriggerChange),d=Vm(n),u=N.useRef("touch"),[m,h,p]=CA(g=>{const w=d().filter(_=>!_.disabled),v=w.find(_=>_.value===o.value),x=kA(w,g,v);x!==void 0&&o.onValueChange(x.value)}),y=g=>{l||(o.onOpenChange(!0),p()),g&&(o.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return a.jsx(mS,{asChild:!0,...i,children:a.jsx(Oe.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:l,"data-disabled":l?"":void 0,"data-placeholder":TA(o.value)?"":void 0,...s,ref:c,onClick:Te(s.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&y(g)}),onPointerDown:Te(s.onPointerDown,g=>{u.current=g.pointerType;const w=g.target;w.hasPointerCapture(g.pointerId)&&w.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(y(g),g.preventDefault())}),onKeyDown:Te(s.onKeyDown,g=>{const w=m.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&h(g.key),!(w&&g.key===" ")&&uq.includes(g.key)&&(y(),g.preventDefault())})})})});rA.displayName=nA;var sA="SelectValue",iA=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...l}=t,c=io(sA,n),{onValueNodeHasChildrenChange:d}=c,u=i!==void 0,m=ct(e,c.onValueNodeChange);return cn(()=>{d(u)},[d,u]),a.jsx(Oe.span,{...l,ref:m,style:{pointerEvents:"none"},children:TA(c.value)?a.jsx(a.Fragment,{children:o}):i})});iA.displayName=sA;var gq="SelectIcon",oA=N.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return a.jsx(Oe.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});oA.displayName=gq;var yq="SelectPortal",aA=t=>a.jsx(Qf,{asChild:!0,...t});aA.displayName=yq;var Ko="SelectContent",lA=N.forwardRef((t,e)=>{const n=io(Ko,t.__scopeSelect),[r,s]=N.useState();if(cn(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Xo.createPortal(a.jsx(cA,{scope:t.__scopeSelect,children:a.jsx(Fm.Slot,{scope:t.__scopeSelect,children:a.jsx("div",{children:t.children})})}),i):null}return a.jsx(uA,{...t,ref:e})});lA.displayName=Ko;var kr=10,[cA,oo]=Ol(Ko),vq="SelectContentImpl",uA=N.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:w,...v}=t,x=io(Ko,n),[_,C]=N.useState(null),[M,R]=N.useState(null),k=ct(e,te=>C(te)),[b,T]=N.useState(null),[S,A]=N.useState(null),P=Vm(n),[j,V]=N.useState(!1),B=N.useRef(!1);N.useEffect(()=>{if(_)return qI(_)},[_]),FI();const O=N.useCallback(te=>{const[de,...ge]=P().map(pe=>pe.ref.current),[ue]=ge.slice(-1),he=document.activeElement;for(const pe of te)if(pe===he||(pe==null||pe.scrollIntoView({block:"nearest"}),pe===de&&M&&(M.scrollTop=0),pe===ue&&M&&(M.scrollTop=M.scrollHeight),pe==null||pe.focus(),document.activeElement!==he))return},[P,M]),D=N.useCallback(()=>O([b,_]),[O,b,_]);N.useEffect(()=>{j&&D()},[j,D]);const{onOpenChange:F,triggerPointerDownPosRef:U}=x;N.useEffect(()=>{if(_){let te={x:0,y:0};const de=ue=>{var he,pe;te={x:Math.abs(Math.round(ue.pageX)-(((he=U.current)==null?void 0:he.x)??0)),y:Math.abs(Math.round(ue.pageY)-(((pe=U.current)==null?void 0:pe.y)??0))}},ge=ue=>{te.x<=10&&te.y<=10?ue.preventDefault():_.contains(ue.target)||F(!1),document.removeEventListener("pointermove",de),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",ge,{capture:!0})}}},[_,F,U]),N.useEffect(()=>{const te=()=>F(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[F]);const[z,G]=CA(te=>{const de=P().filter(he=>!he.disabled),ge=de.find(he=>he.ref.current===document.activeElement),ue=kA(de,te,ge);ue&&setTimeout(()=>ue.ref.current.focus())}),W=N.useCallback((te,de,ge)=>{const ue=!B.current&&!ge;(x.value!==void 0&&x.value===de||ue)&&(T(te),ue&&(B.current=!0))},[x.value]),Q=N.useCallback(()=>_==null?void 0:_.focus(),[_]),Y=N.useCallback((te,de,ge)=>{const ue=!B.current&&!ge;(x.value!==void 0&&x.value===de||ue)&&A(te)},[x.value]),q=r==="popper"?Xy:dA,ne=q===Xy?{side:l,sideOffset:c,align:d,alignOffset:u,arrowPadding:m,collisionBoundary:h,collisionPadding:p,sticky:y,hideWhenDetached:g,avoidCollisions:w}:{};return a.jsx(cA,{scope:n,content:_,viewport:M,onViewportChange:R,itemRefCallback:W,selectedItem:b,onItemLeave:Q,itemTextRefCallback:Y,focusSelectedItem:D,selectedItemText:S,position:r,isPositioned:j,searchRef:z,children:a.jsx(A0,{as:Lo,allowPinchZoom:!0,children:a.jsx(j0,{asChild:!0,trapped:x.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Te(s,te=>{var de;(de=x.trigger)==null||de.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(ku,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:a.jsx(q,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:te=>te.preventDefault(),...v,...ne,onPlaced:()=>V(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...v.style},onKeyDown:Te(v.onKeyDown,te=>{const de=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!de&&te.key.length===1&&G(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let ue=P().filter(he=>!he.disabled).map(he=>he.ref.current);if(["ArrowUp","End"].includes(te.key)&&(ue=ue.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const he=te.target,pe=ue.indexOf(he);ue=ue.slice(pe+1)}setTimeout(()=>O(ue)),te.preventDefault()}})})})})})})});uA.displayName=vq;var xq="SelectItemAlignedPosition",dA=N.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=io(Ko,n),o=oo(Ko,n),[l,c]=N.useState(null),[d,u]=N.useState(null),m=ct(e,k=>u(k)),h=Vm(n),p=N.useRef(!1),y=N.useRef(!0),{viewport:g,selectedItem:w,selectedItemText:v,focusSelectedItem:x}=o,_=N.useCallback(()=>{if(i.trigger&&i.valueNode&&l&&d&&g&&w&&v){const k=i.trigger.getBoundingClientRect(),b=d.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),S=v.getBoundingClientRect();if(i.dir!=="rtl"){const he=S.left-b.left,pe=T.left-he,rt=k.left-pe,nt=k.width+rt,Le=Math.max(nt,b.width),We=window.innerWidth-kr,Ve=LE(pe,[kr,Math.max(kr,We-Le)]);l.style.minWidth=nt+"px",l.style.left=Ve+"px"}else{const he=b.right-S.right,pe=window.innerWidth-T.right-he,rt=window.innerWidth-k.right-pe,nt=k.width+rt,Le=Math.max(nt,b.width),We=window.innerWidth-kr,Ve=LE(pe,[kr,Math.max(kr,We-Le)]);l.style.minWidth=nt+"px",l.style.right=Ve+"px"}const A=h(),P=window.innerHeight-kr*2,j=g.scrollHeight,V=window.getComputedStyle(d),B=parseInt(V.borderTopWidth,10),O=parseInt(V.paddingTop,10),D=parseInt(V.borderBottomWidth,10),F=parseInt(V.paddingBottom,10),U=B+O+j+F+D,z=Math.min(w.offsetHeight*5,U),G=window.getComputedStyle(g),W=parseInt(G.paddingTop,10),Q=parseInt(G.paddingBottom,10),Y=k.top+k.height/2-kr,q=P-Y,ne=w.offsetHeight/2,te=w.offsetTop+ne,de=B+O+te,ge=U-de;if(de<=Y){const he=A.length>0&&w===A[A.length-1].ref.current;l.style.bottom="0px";const pe=d.clientHeight-g.offsetTop-g.offsetHeight,rt=Math.max(q,ne+(he?Q:0)+pe+D),nt=de+rt;l.style.height=nt+"px"}else{const he=A.length>0&&w===A[0].ref.current;l.style.top="0px";const rt=Math.max(Y,B+g.offsetTop+(he?W:0)+ne)+ge;l.style.height=rt+"px",g.scrollTop=de-Y+g.offsetTop}l.style.margin=`${kr}px 0`,l.style.minHeight=z+"px",l.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>p.current=!0)}},[h,i.trigger,i.valueNode,l,d,g,w,v,i.dir,r]);cn(()=>_(),[_]);const[C,M]=N.useState();cn(()=>{d&&M(window.getComputedStyle(d).zIndex)},[d]);const R=N.useCallback(k=>{k&&y.current===!0&&(_(),x==null||x(),y.current=!1)},[_,x]);return a.jsx(_q,{scope:n,contentWrapper:l,shouldExpandOnScrollRef:p,onScrollButtonChange:R,children:a.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:a.jsx(Oe.div,{...s,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});dA.displayName=xq;var wq="SelectPopperPosition",Xy=N.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=kr,...i}=t,o=Um(n);return a.jsx(pS,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Xy.displayName=wq;var[_q,tw]=Ol(Ko,{}),Jy="SelectViewport",hA=N.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=oo(Jy,n),o=tw(Jy,n),l=ct(e,i.onViewportChange),c=N.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(Fm.Slot,{scope:n,children:a.jsx(Oe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:l,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Te(s.onScroll,d=>{const u=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:h}=o;if(h!=null&&h.current&&m){const p=Math.abs(c.current-u.scrollTop);if(p>0){const y=window.innerHeight-kr*2,g=parseFloat(m.style.minHeight),w=parseFloat(m.style.height),v=Math.max(g,w);if(v<y){const x=v+p,_=Math.min(y,x),C=x-_;m.style.height=_+"px",m.style.bottom==="0px"&&(u.scrollTop=C>0?C:0,m.style.justifyContent="flex-end")}}}c.current=u.scrollTop})})})]})});hA.displayName=Jy;var fA="SelectGroup",[bq,Eq]=Ol(fA),Nq=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=jo();return a.jsx(bq,{scope:n,id:s,children:a.jsx(Oe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});Nq.displayName=fA;var mA="SelectLabel",pA=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Eq(mA,n);return a.jsx(Oe.div,{id:s.id,...r,ref:e})});pA.displayName=mA;var Pf="SelectItem",[Tq,gA]=Ol(Pf),yA=N.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,l=io(Pf,n),c=oo(Pf,n),d=l.value===r,[u,m]=N.useState(i??""),[h,p]=N.useState(!1),y=ct(e,x=>{var _;return(_=c.itemRefCallback)==null?void 0:_.call(c,x,r,s)}),g=jo(),w=N.useRef("touch"),v=()=>{s||(l.onValueChange(r),l.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(Tq,{scope:n,value:r,disabled:s,textId:g,isSelected:d,onItemTextChange:N.useCallback(x=>{m(_=>_||((x==null?void 0:x.textContent)??"").trim())},[]),children:a.jsx(Fm.ItemSlot,{scope:n,value:r,disabled:s,textValue:u,children:a.jsx(Oe.div,{role:"option","aria-labelledby":g,"data-highlighted":h?"":void 0,"aria-selected":d&&h,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:y,onFocus:Te(o.onFocus,()=>p(!0)),onBlur:Te(o.onBlur,()=>p(!1)),onClick:Te(o.onClick,()=>{w.current!=="mouse"&&v()}),onPointerUp:Te(o.onPointerUp,()=>{w.current==="mouse"&&v()}),onPointerDown:Te(o.onPointerDown,x=>{w.current=x.pointerType}),onPointerMove:Te(o.onPointerMove,x=>{var _;w.current=x.pointerType,s?(_=c.onItemLeave)==null||_.call(c):w.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Te(o.onPointerLeave,x=>{var _;x.currentTarget===document.activeElement&&((_=c.onItemLeave)==null||_.call(c))}),onKeyDown:Te(o.onKeyDown,x=>{var C;((C=c.searchRef)==null?void 0:C.current)!==""&&x.key===" "||(dq.includes(x.key)&&v(),x.key===" "&&x.preventDefault())})})})})});yA.displayName=Pf;var xc="SelectItemText",vA=N.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=io(xc,n),l=oo(xc,n),c=gA(xc,n),d=pq(xc,n),[u,m]=N.useState(null),h=ct(e,v=>m(v),c.onItemTextChange,v=>{var x;return(x=l.itemTextRefCallback)==null?void 0:x.call(l,v,c.value,c.disabled)}),p=u==null?void 0:u.textContent,y=N.useMemo(()=>a.jsx("option",{value:c.value,disabled:c.disabled,children:p},c.value),[c.disabled,c.value,p]),{onNativeOptionAdd:g,onNativeOptionRemove:w}=d;return cn(()=>(g(y),()=>w(y)),[g,w,y]),a.jsxs(a.Fragment,{children:[a.jsx(Oe.span,{id:c.textId,...i,ref:h}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Xo.createPortal(i.children,o.valueNode):null]})});vA.displayName=xc;var xA="SelectItemIndicator",wA=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return gA(xA,n).isSelected?a.jsx(Oe.span,{"aria-hidden":!0,...r,ref:e}):null});wA.displayName=xA;var Zy="SelectScrollUpButton",_A=N.forwardRef((t,e)=>{const n=oo(Zy,t.__scopeSelect),r=tw(Zy,t.__scopeSelect),[s,i]=N.useState(!1),o=ct(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(EA,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop-c.offsetHeight)}}):null});_A.displayName=Zy;var ev="SelectScrollDownButton",bA=N.forwardRef((t,e)=>{const n=oo(ev,t.__scopeSelect),r=tw(ev,t.__scopeSelect),[s,i]=N.useState(!1),o=ct(e,r.onScrollButtonChange);return cn(()=>{if(n.viewport&&n.isPositioned){let l=function(){const d=c.scrollHeight-c.clientHeight,u=Math.ceil(c.scrollTop)<d;i(u)};const c=n.viewport;return l(),c.addEventListener("scroll",l),()=>c.removeEventListener("scroll",l)}},[n.viewport,n.isPositioned]),s?a.jsx(EA,{...t,ref:o,onAutoScroll:()=>{const{viewport:l,selectedItem:c}=n;l&&c&&(l.scrollTop=l.scrollTop+c.offsetHeight)}}):null});bA.displayName=ev;var EA=N.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=oo("SelectScrollButton",n),o=N.useRef(null),l=Vm(n),c=N.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return N.useEffect(()=>()=>c(),[c]),cn(()=>{var u;const d=l().find(m=>m.ref.current===document.activeElement);(u=d==null?void 0:d.ref.current)==null||u.scrollIntoView({block:"nearest"})},[l]),a.jsx(Oe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Te(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:Te(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:Te(s.onPointerLeave,()=>{c()})})}),Sq="SelectSeparator",NA=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return a.jsx(Oe.div,{"aria-hidden":!0,...r,ref:e})});NA.displayName=Sq;var tv="SelectArrow",Cq=N.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Um(n),i=io(tv,n),o=oo(tv,n);return i.open&&o.position==="popper"?a.jsx(gS,{...s,...r,ref:e}):null});Cq.displayName=tv;function TA(t){return t===""||t===void 0}var SA=N.forwardRef((t,e)=>{const{value:n,...r}=t,s=N.useRef(null),i=ct(e,s),o=cq(n);return N.useEffect(()=>{const l=s.current,c=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==n&&u){const m=new Event("change",{bubbles:!0});u.call(l,n),l.dispatchEvent(m)}},[o,n]),a.jsx(Iu,{asChild:!0,children:a.jsx("select",{...r,ref:i,defaultValue:n})})});SA.displayName="BubbleSelect";function CA(t){const e=mr(t),n=N.useRef(""),r=N.useRef(0),s=N.useCallback(o=>{const l=n.current+o;e(l),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(l)},[e]),i=N.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return N.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function kA(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=kq(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function kq(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var Iq=tA,IA=rA,jq=iA,Aq=oA,Pq=aA,jA=lA,Rq=hA,AA=pA,PA=yA,Dq=vA,Mq=wA,RA=_A,DA=bA,MA=NA;const Oq=Iq,Lq=jq,OA=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(IA,{ref:r,className:Se("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,a.jsx(Aq,{asChild:!0,children:a.jsx(Zv,{className:"h-4 w-4 opacity-50"})})]}));OA.displayName=IA.displayName;const LA=N.forwardRef(({className:t,...e},n)=>a.jsx(RA,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(LT,{className:"h-4 w-4"})}));LA.displayName=RA.displayName;const FA=N.forwardRef(({className:t,...e},n)=>a.jsx(DA,{ref:n,className:Se("flex cursor-default items-center justify-center py-1",t),...e,children:a.jsx(Zv,{className:"h-4 w-4"})}));FA.displayName=DA.displayName;const VA=N.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>a.jsx(Pq,{children:a.jsxs(jA,{ref:s,className:Se("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[a.jsx(LA,{}),a.jsx(Rq,{className:Se("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(FA,{})]})}));VA.displayName=jA.displayName;const Fq=N.forwardRef(({className:t,...e},n)=>a.jsx(AA,{ref:n,className:Se("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));Fq.displayName=AA.displayName;const Th=N.forwardRef(({className:t,children:e,...n},r)=>a.jsxs(PA,{ref:r,className:Se("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Mq,{children:a.jsx(PD,{className:"h-4 w-4"})})}),a.jsx(Dq,{children:e})]}));Th.displayName=PA.displayName;const Vq=N.forwardRef(({className:t,...e},n)=>a.jsx(MA,{ref:n,className:Se("-mx-1 my-1 h-px bg-muted",t),...e}));Vq.displayName=MA.displayName;const UA=({onClose:t,onUserCreated:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState(""),[o,l]=N.useState(""),[c,d]=N.useState("artist"),[u,m]=N.useState(!1),{toast:h}=Bn(),p=async y=>{y.preventDefault(),m(!0);try{const g=await fetch("https://us-central1-uprisinginkapp.cloudfunctions.net/createUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,password:s,fullName:o,role:c})}),w=await g.json();if(!g.ok)throw new Error(w.message||"Failed to create user account");h({title:"Success",description:`${c} account created successfully for ${o}`}),r(""),i(""),l(""),d("artist"),e(),t()}catch(g){console.error("Error creating user:",g),h({title:"Error",description:g.message||"Failed to create user account",variant:"destructive"})}finally{m(!1)}};return a.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:a.jsxs(ie,{className:"w-full max-w-md bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(me,{className:"text-xl text-white flex items-center",children:[a.jsx($D,{className:"mr-2 w-5 h-5"}),"Create New User Account"]}),a.jsx(H,{onClick:t,variant:"ghost",size:"sm",className:"text-gray-400 hover:text-white",children:a.jsx(Ru,{className:"w-4 h-4"})})]})}),a.jsx(oe,{children:a.jsxs("form",{onSubmit:p,className:"space-y-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"fullName",className:"text-gray-300",children:"Full Name"}),a.jsx(Pe,{id:"fullName",type:"text",value:o,onChange:y=>l(y.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white",placeholder:"Enter full name"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"email",className:"text-gray-300",children:"Email"}),a.jsx(Pe,{id:"email",type:"email",value:n,onChange:y=>r(y.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white",placeholder:"Enter email address"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"password",className:"text-gray-300",children:"Password"}),a.jsx(Pe,{id:"password",type:"password",value:s,onChange:y=>i(y.target.value),required:!0,className:"bg-tattoo-dark border-gray-600 text-white",placeholder:"Enter password",minLength:6})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(bn,{htmlFor:"role",className:"text-gray-300",children:"Role"}),a.jsxs(Oq,{value:c,onValueChange:y=>d(y),children:[a.jsx(OA,{className:"bg-tattoo-dark border-gray-600 text-white",children:a.jsx(Lq,{})}),a.jsxs(VA,{children:[a.jsx(Th,{value:"artist",children:"Artist"}),a.jsx(Th,{value:"manager",children:"Manager"}),a.jsx(Th,{value:"owner",children:"Owner"})]})]})]}),a.jsxs("div",{className:"flex space-x-3",children:[a.jsx(H,{type:"submit",className:"flex-1 bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",disabled:u,children:u?"Creating...":"Create Account"}),a.jsx(H,{type:"button",onClick:t,variant:"outline",className:"flex-1 border-gray-600 text-gray-300",children:"Cancel"})]})]})})]})})},Uq=({currentUser:t,onBack:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState(!1),[o,l]=N.useState([]),[c,d]=N.useState(!0),{toast:u}=Bn(),m=async()=>{try{d(!0);const y=Ot(lt(ve,"profiles"),Ye("role","==","artist")),g=await xt(y);if(g.empty){console.log("No artist profiles found"),l([]);return}console.log("Fetched artist profiles:",g.docs);const w=[];for(const v of g.docs){const x=v.data(),_=await Dt(Be(ve,"artists",v.id)),C=_.data();w.push({id:v.id,name:x.full_name||"No name set",email:x.email,status:_.exists()&&C.is_available?"active":"inactive",joinDate:new Date(x.created_at).toLocaleDateString(),profileImage:x.profile_image||"/placeholder.svg",phone:void 0})}l(w)}catch(y){console.error("Error fetching artists:",y),u({title:"Error",description:"Failed to fetch artists",variant:"destructive"})}finally{d(!1)}};N.useEffect(()=>{m()},[]);const h=o.filter(y=>y.name.toLowerCase().includes(n.toLowerCase())||y.email.toLowerCase().includes(n.toLowerCase())),p=()=>{console.log("User created, refreshing artist list..."),m()};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(H,{onClick:e,variant:"ghost",className:"bg-transparent hover:bg-tattoo-primary/10 text-white",children:[a.jsx(zn,{className:"mr-2 w-4 h-4"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-3xl font-bold text-white mt-2",children:"Manage Artists"}),a.jsx("p",{className:"text-gray-300 mt-1",children:"View, add, and manage the artists on the UpRising.ink platform."})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full border-2 border-tattoo-primary"})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Pe,{type:"text",placeholder:"Search artists...",className:"bg-tattoo-dark border-gray-600 text-white pl-10",value:n,onChange:y=>r(y.target.value)}),a.jsx(Au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),a.jsxs(H,{onClick:()=>i(!0),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"mr-2 w-4 h-4"}),"Add New Artist"]})]}),c&&a.jsx("div",{className:"text-center text-gray-300 py-8",children:"Loading artists..."}),!c&&h.length===0&&a.jsx("div",{className:"text-center text-gray-300 py-8",children:n?"No artists found matching your search.":"No artists found. Add your first artist to get started."}),!c&&h.length>0&&a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:h.map(y=>a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(me,{className:"text-white",children:y.name}),a.jsx(bo,{variant:"secondary",className:y.status==="active"?"bg-green-500/20 text-green-400":y.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400",children:y.status==="active"?"Active":y.status==="pending"?"Pending":"Inactive"})]})}),a.jsxs(oe,{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Zo,{className:"w-4 h-4 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-300",children:a.jsx("a",{href:"#",className:"hover:underline",children:"View Profile"})})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ju,{className:"w-4 h-4 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-300",children:y.email})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(rx,{className:"w-4 h-4 text-gray-400"}),a.jsx("p",{className:"text-sm text-gray-300",children:y.phone||"No phone added"})]}),a.jsxs("p",{className:"text-sm text-gray-300",children:["Join Date: ",y.joinDate]})]})]},y.id))})]}),s&&a.jsx(UA,{onClose:()=>i(!1),onUserCreated:p})]})},Bq=({currentUser:t,onBack:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState([{id:"1",name:"Mike Johnson",email:"mike@example.com",phone:"123-456-7890",status:"active",assignedArtist:"Alex Rivera"},{id:"2",name:"Emily White",email:"emily@example.com",phone:"987-654-3210",status:"pending"},{id:"3",name:"David Green",email:"david@example.com",phone:"555-123-4567",status:"inactive",assignedArtist:"Sarah Chen"}]),o=s.filter(l=>l.name.toLowerCase().includes(n.toLowerCase())||l.email.toLowerCase().includes(n.toLowerCase()));return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs(H,{onClick:e,variant:"ghost",className:"bg-transparent hover:bg-tattoo-primary/10 text-white",children:[a.jsx(zn,{className:"mr-2 w-4 h-4"}),"Back to Dashboard"]}),a.jsx("h1",{className:"text-3xl font-bold text-white mt-2",children:"Client Management"}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Manage and view client information."})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full border-2 border-tattoo-primary"})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Pe,{type:"text",placeholder:"Search clients...",className:"bg-tattoo-dark border-gray-600 text-white pl-10",value:n,onChange:l=>r(l.target.value)}),a.jsx(Au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),a.jsxs(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"mr-2 w-4 h-4"}),"Add New Client"]})]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:o.map(l=>a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsxs(me,{className:"text-white flex items-center justify-between",children:[l.name,a.jsx(bo,{variant:"secondary",className:"bg-tattoo-primary text-tattoo-dark",children:l.status})]})}),a.jsxs(oe,{className:"text-gray-300",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(ju,{className:"w-4 h-4"}),a.jsx("span",{children:l.email})]}),a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(rx,{className:"w-4 h-4"}),a.jsx("span",{children:l.phone})]}),l.assignedArtist&&a.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(zD,{className:"w-4 h-4"}),a.jsxs("span",{children:["Assigned Artist: ",l.assignedArtist]})]}),a.jsxs("div",{className:"mt-4",children:[a.jsxs(H,{variant:"outline",className:"mr-2",children:[a.jsx(Zo,{className:"mr-2 w-4 h-4"}),"View Details"]}),a.jsx(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:"Manage"})]})]})]},l.id))})]})]})},zq=({currentUser:t,onBack:e})=>{const[n,r]=N.useState(""),[s,i]=N.useState(!1),[o,l]=N.useState([{id:"1",name:"John Doe",email:"john.doe@example.com",role:"client",status:"active",lastLogin:"2024-03-15"},{id:"2",name:"Jane Smith",email:"jane.smith@example.com",role:"artist",status:"active",lastLogin:"2024-03-10"},{id:"3",name:"Alice Johnson",email:"alice.johnson@example.com",role:"manager",status:"inactive",lastLogin:"2024-02-28"}]),c=o.filter(u=>u.name.toLowerCase().includes(n.toLowerCase())||u.email.toLowerCase().includes(n.toLowerCase())),d=()=>{console.log("User created, refreshing list...")};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs(H,{onClick:e,variant:"ghost",className:"bg-transparent hover:bg-tattoo-primary/10 text-white",children:[a.jsx(zn,{className:"mr-2 w-4 h-4"}),"Back to Dashboard"]}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-white",children:"User Management"}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Manage platform users and their roles."})]}),a.jsx("div",{className:"flex items-center space-x-3",children:a.jsx("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full border-2 border-tattoo-primary"})})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"relative w-full max-w-md",children:[a.jsx(Pe,{type:"text",placeholder:"Search users...",className:"bg-tattoo-dark border-gray-600 text-white pl-10",value:n,onChange:u=>r(u.target.value)}),a.jsx(Au,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500"})]}),a.jsxs(H,{onClick:()=>i(!0),className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(Lr,{className:"mr-2 w-4 h-4"}),"Add User"]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"User List"})}),a.jsx(oe,{children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-700",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left",children:[a.jsx("th",{className:"py-3.5 px-4 text-sm font-normal text-gray-400",children:"Name"}),a.jsx("th",{className:"py-3.5 px-4 text-sm font-normal text-gray-400",children:"Email"}),a.jsx("th",{className:"py-3.5 px-4 text-sm font-normal text-gray-400",children:"Role"}),a.jsx("th",{className:"py-3.5 px-4 text-sm font-normal text-gray-400",children:"Status"}),a.jsx("th",{className:"py-3.5 px-4 text-sm font-normal text-gray-400",children:"Last Login"}),a.jsx("th",{className:"py-3.5 px-4 text-sm font-normal text-gray-400",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-700",children:c.map(u=>a.jsxs("tr",{children:[a.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-white",children:u.name}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-300",children:u.email}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-300",children:a.jsx(bo,{variant:"secondary",children:u.role})}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-300",children:u.status==="active"?a.jsx(bo,{className:"bg-green-500 text-white",children:"Active"}):u.status==="inactive"?a.jsx(bo,{className:"bg-red-500 text-white",children:"Inactive"}):a.jsx(bo,{className:"bg-yellow-500 text-white",children:"Pending"})}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-300",children:u.lastLogin}),a.jsx("td",{className:"py-4 px-4 whitespace-nowrap text-sm text-gray-300",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(H,{variant:"ghost",size:"sm",className:"text-tattoo-primary hover:bg-tattoo-primary/10",children:a.jsx(Zo,{className:"w-4 h-4"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-tattoo-primary hover:bg-tattoo-primary/10",children:a.jsx(ju,{className:"w-4 h-4"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-tattoo-primary hover:bg-tattoo-primary/10",children:a.jsx(Ii,{className:"w-4 h-4"})}),a.jsx(H,{variant:"ghost",size:"sm",className:"text-red-500 hover:bg-red-500/10",children:a.jsx(FD,{className:"w-4 h-4"})})]})})]},u.id))})]})})})]})]}),s&&a.jsx(UA,{onClose:()=>i(!1),onUserCreated:d})]})},$q=({currentUser:t,onBack:e})=>{const n={totalPieces:125,upcomingAppointments:7,messages:23,profileViews:345},r=[{id:"1",type:"New Piece",description:`Added "Serpent's Kiss" to portfolio`,time:"1 hour ago"},{id:"2",type:"Appointment",description:"New appointment with client Sarah L.",time:"3 hours ago"},{id:"3",type:"Message",description:"Received message from potential client Mark D.",time:"5 hours ago"}];return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-white",children:["My Artist Hub - ",t.name]}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Manage your artist profile and track your performance on UpRising.ink."})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs(H,{onClick:e,className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90",children:[a.jsx(zn,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),a.jsx("img",{src:t.profileImage,alt:t.name,className:"w-12 h-12 rounded-full border-2 border-tattoo-primary"})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Total Pieces"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.totalPieces})]}),a.jsx(tu,{className:"w-8 h-8 text-tattoo-primary"})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Upcoming Appointments"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.upcomingAppointments})]}),a.jsx(Tn,{className:"w-8 h-8 text-tattoo-primary"})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Messages"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.messages})]}),a.jsx(Lt,{className:"w-8 h-8 text-tattoo-primary"})]})})}),a.jsx(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:a.jsx(oe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-gray-300 text-sm",children:"Profile Views"}),a.jsx("p",{className:"text-2xl font-bold text-white",children:n.profileViews})]}),a.jsx(ll,{className:"w-8 h-8 text-tattoo-primary"})]})})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Recent Activity"})}),a.jsx(oe,{children:a.jsx("div",{className:"space-y-4",children:r.map(s=>a.jsxs("div",{className:"p-3 bg-tattoo-dark rounded-lg",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-tattoo-primary font-medium text-sm",children:s.type}),a.jsx("span",{className:"text-gray-400 text-xs",children:s.time})]}),a.jsx("p",{className:"text-gray-300 text-sm",children:s.description})]},s.id))})})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Quick Actions"})}),a.jsx(oe,{children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Lr,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Add New Piece"})]}),a.jsxs(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(ll,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"Edit Profile"})]}),a.jsxs(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Tn,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"View Appointments"})]}),a.jsxs(H,{className:"bg-tattoo-primary text-tattoo-dark hover:bg-tattoo-primary/90 flex flex-col h-20 space-y-2",children:[a.jsx(Lt,{className:"w-6 h-6"}),a.jsx("span",{className:"text-sm",children:"View Messages"})]})]})})]})]})]})]})},Wq=({onBack:t})=>{const[e,n]=N.useState("/placeholder.svg"),[r,s]=N.useState(!1),i=c=>{var u;const d=(u=c.target.files)==null?void 0:u[0];if(d){s(!0);const m=new FileReader;m.onload=h=>{var p,y;n((p=h.target)==null?void 0:p.result),localStorage.setItem("hero-background-image",(y=h.target)==null?void 0:y.result),s(!1)},m.readAsDataURL(d)}},o=()=>{n(""),localStorage.removeItem("hero-background-image")},l=()=>{window.open("/","_blank")};return a.jsxs("div",{className:"min-h-screen bg-tattoo-dark",children:[a.jsx("div",{className:"bg-tattoo-gray border-b border-tattoo-primary",children:a.jsx("div",{className:"max-w-7xl mx-auto p-6",children:a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{children:[a.jsx(H,{onClick:t,variant:"outline",className:"mb-4 border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:" Back to Dashboard"}),a.jsx("h1",{className:"text-3xl font-bold text-white",children:"Background Image Management"}),a.jsx("p",{className:"text-gray-300 mt-1",children:"Manage the background image for the front page hero section."})]})})})}),a.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary mb-6",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Current Background Image"})}),a.jsxs(oe,{children:[a.jsx("div",{className:"aspect-video bg-tattoo-dark rounded-lg overflow-hidden mb-4",children:e?a.jsx("img",{src:e,alt:"Current background",className:"w-full h-full object-cover"}):a.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:a.jsxs("div",{className:"text-center",children:[a.jsx(Pu,{className:"w-12 h-12 mx-auto mb-2"}),a.jsx("p",{children:"No background image set (will show black background)"})]})})}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs(H,{onClick:l,variant:"outline",className:"border-tattoo-primary text-tattoo-primary hover:bg-tattoo-primary hover:text-tattoo-dark",children:[a.jsx(Zo,{className:"w-4 h-4 mr-2"}),"Preview Front Page"]}),e&&a.jsxs(H,{onClick:o,variant:"outline",className:"border-red-500 text-red-400 hover:bg-red-500 hover:text-white",children:[a.jsx(UD,{className:"w-4 h-4 mr-2"}),"Remove Image"]})]})]})]}),a.jsxs(ie,{className:"bg-tattoo-gray border-tattoo-primary",children:[a.jsx(fe,{children:a.jsx(me,{className:"text-white",children:"Upload New Background Image"})}),a.jsx(oe,{children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(bn,{htmlFor:"background-upload",className:"text-gray-300",children:"Choose Image File"}),a.jsx(Pe,{id:"background-upload",type:"file",accept:"image/*",onChange:i,disabled:r,className:"bg-tattoo-dark border-tattoo-primary text-white mt-2"})]}),a.jsxs("div",{className:"text-sm text-gray-400",children:[a.jsx("p",{children:a.jsx("strong",{children:"Recommended specifications:"})}),a.jsxs("ul",{className:"list-disc list-inside mt-1 space-y-1",children:[a.jsx("li",{children:"Resolution: 1920x1080 or higher"}),a.jsx("li",{children:"Aspect ratio: 16:9 works best"}),a.jsx("li",{children:"File format: JPG, PNG, WebP"}),a.jsx("li",{children:"File size: Under 5MB for optimal loading"})]})]}),r&&a.jsxs("div",{className:"flex items-center text-tattoo-primary",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-tattoo-primary mr-2"}),"Uploading image..."]})]})})]})]})]})},Hq=()=>{const[t,e]=N.useState("dashboard"),{user:n}=Cn(),r=()=>{if(!n)return null;switch(t){case"artists":return a.jsx(Uq,{currentUser:{id:n.id,name:n.profile.full_name,email:n.email,role:n.role,profileImage:n.profile.profile_image||"/placeholder.svg"},onBack:()=>e("dashboard")});case"clients":return a.jsx(Bq,{currentUser:{id:n.id,name:n.profile.full_name,email:n.email,role:n.role,profileImage:n.profile.profile_image||"/placeholder.svg"},onBack:()=>e("dashboard")});case"users":return a.jsx(zq,{currentUser:{id:n.id,name:n.profile.full_name,email:n.email,role:n.role,profileImage:n.profile.profile_image||"/placeholder.svg"},onBack:()=>e("dashboard")});case"my-artist-hub":return a.jsx($q,{currentUser:{id:n.id,name:n.profile.full_name,email:n.email,role:n.role,profileImage:n.profile.profile_image||"/placeholder.svg"},onBack:()=>e("dashboard")});case"background-image":return a.jsx(Wq,{onBack:()=>e("dashboard")});default:return a.jsx(oq,{currentUser:{id:n.id,name:n.profile.full_name,email:n.email,role:n.role,profileImage:n.profile.profile_image||"/placeholder.svg"},onNavigate:e})}};return a.jsx(eA,{requiredRoles:["owner","manager"],children:a.jsx("div",{className:"min-h-screen bg-tattoo-dark",children:r()})})},qq=()=>{const t=kl();return N.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),a.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},Gq=new XO,Kq=()=>a.jsx(ZO,{client:Gq,children:a.jsx(wB,{children:a.jsxs(kO,{children:[a.jsx(TM,{}),a.jsx(e3,{}),a.jsx(Q5,{children:a.jsxs(z5,{children:[a.jsx(ti,{path:"/",element:a.jsx(CB,{})}),a.jsx(ti,{path:"/auth",element:a.jsx(Fz,{})}),a.jsx(ti,{path:"/contact",element:a.jsx(Vz,{})}),a.jsx(ti,{path:"/client-portal",element:a.jsx(QH,{})}),a.jsx(ti,{path:"/artist-portal",element:a.jsx(iq,{})}),a.jsx(ti,{path:"/admin-portal",element:a.jsx(Hq,{})}),a.jsx(ti,{path:"*",element:a.jsx(qq,{})})]})})]})})});aT(document.getElementById("root")).render(a.jsx(Kq,{}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("SW registered: ",t)}).catch(t=>{console.log("SW registration failed: ",t)})});
